# ğŸ§© IEPON MCP ì»´í¬ë„ŒíŠ¸ ì„¤ê³„

> **ì—°ê²° ë¬¸ì„œ**: [03_UI_UX_ì„¤ê³„.md](./03_UI_UX_ì„¤ê³„.md) | [06_ìƒíƒœ_ê´€ë¦¬.md](./06_ìƒíƒœ_ê´€ë¦¬.md) | [12_ê°œë°œ_ê°€ì´ë“œ.md](./12_ê°œë°œ_ê°€ì´ë“œ.md) | [08_í™˜ê²½_ì„¤ì •.md](./08_í™˜ê²½_ì„¤ì •.md) | [14_ê²°ì œ_ì„¤ê³„.md](./14_ê²°ì œ_ì„¤ê³„.md)

---

## 5.1 MCP ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜

### 5.1.1 HTML + Alpine.js + MCP í”„ë¡œì íŠ¸ êµ¬ì¡°
```
project/
â”œâ”€â”€ pages/               # HTML í˜ì´ì§€ íŒŒì¼ë“¤
â”‚   â”œâ”€â”€ dashboard.html   # ëŒ€ì‹œë³´ë“œ í˜ì´ì§€
â”‚   â”œâ”€â”€ students.html    # í•™ìƒ ê´€ë¦¬ í˜ì´ì§€
â”‚   â”œâ”€â”€ education.html   # êµìœ¡ ê´€ë¦¬ í˜ì´ì§€
â”‚   â””â”€â”€ admin.html       # ê´€ë¦¬ì í˜ì´ì§€
â”œâ”€â”€ components/          # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ HTML ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ common/          # ê³µí†µ ì»´í¬ë„ŒíŠ¸ (ë²„íŠ¼, ëª¨ë‹¬ ë“±)
â”‚   â”œâ”€â”€ forms/           # í¼ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ layout/          # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ (í—¤ë”, ì‚¬ì´ë“œë°”)
â”‚   â”œâ”€â”€ student/         # í•™ìƒ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ education/       # êµìœ¡ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ admin/           # ê´€ë¦¬ì ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ assets/              # ì •ì  ìì›
â”‚   â”œâ”€â”€ css/             # ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”‚   â”œâ”€â”€ js/              # Alpine.js ìŠ¤í† ì–´ ë° ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ images/          # ì´ë¯¸ì§€ íŒŒì¼
â”œâ”€â”€ data/                # ì •ì  ë°ì´í„° íŒŒì¼
â””â”€â”€ utils/               # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ (JavaScript)
```

### 5.1.2 Alpine.js + MCP ì»´í¬ë„ŒíŠ¸ ì„¤ê³„ ì›ì¹™
- **HTML ìš°ì„ **: ëª¨ë“  ì»´í¬ë„ŒíŠ¸ëŠ” HTMLë¶€í„° ì‹œì‘
- **x-data**: ì»´í¬ë„ŒíŠ¸ ë¡œì»¬ ìƒíƒœ ê´€ë¦¬
- **Alpine.store()**: ê¸€ë¡œë²Œ ìƒíƒœ ê´€ë¦¬
- **window.mcp**: MCP ì„œë²„ ì—°ë™ ì¸í„°í˜ì´ìŠ¤
- **kebab-case**: HTML ì†ì„± ë° íŒŒì¼ëª…
- **camelCase**: JavaScript í•¨ìˆ˜ ë° ë³€ìˆ˜ëª…
- **UPPER_CASE**: ìƒìˆ˜ ë° ì„¤ì •ê°’
- **MCP ì—°ë™**: AI ì—ì´ì „íŠ¸ ê¸°ë°˜ ìë™í™” ì§€ì›

### 5.1.3 MCP ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸ í¬í•¨ íŒ¨í„´
```html
<!-- MCP ì„œë²„ ìƒíƒœ í™•ì¸ í›„ ì»´í¬ë„ŒíŠ¸ ë¡œë“œ -->
<div x-data="{
  mcpReady: false,
  async init() {
    this.mcpReady = await window.checkMcpServerStatus();
    if (this.mcpReady) {
      // MCP ì»´í¬ë„ŒíŠ¸ ì´ˆê¸°í™”
      this.initMcpComponents();
    }
  },
  async initMcpComponents() {
    // Supabase MCP ì—°ë™ ì»´í¬ë„ŒíŠ¸ ì´ˆê¸°í™”
    await this.loadSupabaseComponents();
    // Toss Payments MCP ì—°ë™ ì»´í¬ë„ŒíŠ¸ ì´ˆê¸°í™”
    await this.loadPaymentComponents();
  }
}">
  <div id="mcp-components-container">
    <!-- MCP ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ì—¬ê¸°ì— ë¡œë“œë¨ -->
  </div>
</div>

<!-- ë˜ëŠ” HTMXë¡œ MCP ì—°ë™ ì»´í¬ë„ŒíŠ¸ ë¡œë“œ -->
<div hx-get="/components/mcp/payment-widget.html" 
     hx-trigger="mcp-ready from:body" 
     hx-target="#payment-container"
     hx-vals='js:{mcpServer: "tosspayments-integration-guide"}'>
</div>
```

---

## 5.2 ê³µí†µ ì»´í¬ë„ŒíŠ¸

### 5.2.1 Button ì»´í¬ë„ŒíŠ¸ (`components/common/button.html`)
```html
<!-- Alpine.js Button ì»´í¬ë„ŒíŠ¸ -->
<div x-data="{
  variant: $el.dataset.variant || 'primary',
  size: $el.dataset.size || 'md',
  disabled: $el.dataset.disabled === 'true' || false,
  loading: false,
  text: $el.dataset.text || 'ë²„íŠ¼',
  
  // UTF-8 í…ìŠ¤íŠ¸ ê²€ì¦
  validateUTF8(text) {
    try {
      const encoded = new TextEncoder().encode(text);
      const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
      return decoded === text;
    } catch (error) {
      console.error('UTF-8 ì¸ì½”ë”© ì˜¤ë¥˜:', error);
      return false;
    }
  },
  
  // ë²„íŠ¼ í´ë¦­ í•¸ë“¤ëŸ¬
  handleClick() {
    if (this.disabled || this.loading) return;
    
    // í…ìŠ¤íŠ¸ UTF-8 ê²€ì¦
    if (!this.validateUTF8(this.text)) {
      console.error('ë²„íŠ¼ í…ìŠ¤íŠ¸ ì¸ì½”ë”© ì˜¤ë¥˜');
      return;
    }
    
    this.loading = true;
    
    // ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ë°œì†¡
    this.$dispatch('button-click', {
      variant: this.variant,
      size: this.size,
      text: this.text
    });
    
    // ë¡œë”© ìƒíƒœ í•´ì œ (ì™¸ë¶€ì—ì„œ ì œì–´ ê°€ëŠ¥)
    setTimeout(() => {
      this.loading = false;
    }, 100);
  }
}">
  <button 
    type="button"
    :class="`btn btn-${variant} btn-${size} ${loading ? 'loading' : ''}`"
    :disabled="disabled || loading"
    @click="handleClick()"
    class="relative inline-flex items-center justify-center font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2"
  >
    <!-- ë¡œë”© ìŠ¤í”¼ë„ˆ -->
    <div x-show="loading" class="absolute inset-0 flex items-center justify-center">
      <svg class="animate-spin h-4 w-4 text-current" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
      </svg>
    </div>
    
    <!-- ë²„íŠ¼ í…ìŠ¤íŠ¸ -->
    <span :class="{ 'opacity-0': loading, 'opacity-100': !loading }" 
          x-text="text">
    </span>
  </button>
</div>

<!-- CSS ìŠ¤íƒ€ì¼ (assets/css/components.cssì— í¬í•¨) -->
<style>
.btn {
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
  border: 1px solid;
  font-size: 0.875rem;
  font-weight: 500;
  transition: all 0.2s ease-in-out;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.btn-primary {
  background-color: #2563eb;
  color: #ffffff;
  border-color: #2563eb;
}

.btn-primary:hover {
  background-color: #1d4ed8;
}

.btn-primary:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.5);
}

.btn-secondary {
  background-color: #4b5563;
  color: #ffffff;
  border-color: #4b5563;
}

.btn-secondary:hover {
  background-color: #374151;
}

.btn-secondary:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(75, 85, 99, 0.5);
}

.btn-outline {
  background-color: transparent;
  color: #2563eb;
  border-color: #2563eb;
}

.btn-outline:hover {
  background-color: #eff6ff;
}

.btn-outline:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.5);
}

.btn-ghost {
  background-color: transparent;
  color: #4b5563;
  border-color: transparent;
}

.btn-ghost:hover {
  background-color: #f3f4f6;
}

.btn-ghost:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(75, 85, 99, 0.5);
}

.btn-sm {
  padding: 0.375rem 0.75rem;
  font-size: 0.75rem;
}

.btn-md {
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
}

.btn-lg {
  padding: 0.75rem 1.5rem;
  font-size: 1rem;
}

.btn:disabled,
.btn.loading {
  opacity: 0.5;
  cursor: not-allowed;
}
</style>

<!-- ì‚¬ìš© ì˜ˆì‹œ -->
<!-- 
<div hx-get="/components/common/button.html" 
     hx-trigger="load"
     data-variant="primary"
     data-size="md"
     data-text="ì €ì¥í•˜ê¸°"
     @button-click="handleSave($event.detail)">
</div>
-->
```

### 5.2.2 Modal ì»´í¬ë„ŒíŠ¸ (`components/common/modal.html`)
```html
<!-- Alpine.js Modal ì»´í¬ë„ŒíŠ¸ -->
<div x-data="{
  isOpen: false,
  title: $el.dataset.title || 'ëª¨ë‹¬',
  size: $el.dataset.size || 'md',
  
  // UTF-8 í…ìŠ¤íŠ¸ ê²€ì¦
  validateUTF8(text) {
    try {
      const encoded = new TextEncoder().encode(text);
      const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
      return decoded === text;
    } catch (error) {
      console.error('UTF-8 ì¸ì½”ë”© ì˜¤ë¥˜:', error);
      return false;
    }
  },
  
  // ëª¨ë‹¬ ì—´ê¸°
  open(newTitle = null) {
    if (newTitle && this.validateUTF8(newTitle)) {
      this.title = newTitle;
    }
    this.isOpen = true;
    document.body.style.overflow = 'hidden';
    
    // ì—´ê¸° ì´ë²¤íŠ¸ ë°œì†¡
    this.$dispatch('modal-opened', { title: this.title });
  },
  
  // ëª¨ë‹¬ ë‹«ê¸°
  close() {
    this.isOpen = false;
    document.body.style.overflow = 'auto';
    
    // ë‹«ê¸° ì´ë²¤íŠ¸ ë°œì†¡
    this.$dispatch('modal-closed', { title: this.title });
  },
  
  // ESC í‚¤ í•¸ë“¤ëŸ¬
  handleKeydown(event) {
    if (event.key === 'Escape' && this.isOpen) {
      this.close();
    }
  }
}" 
@keydown.window="handleKeydown($event)"
@modal:open.window="open($event.detail?.title)"
@modal:close.window="close()">

  <!-- ëª¨ë‹¬ ì˜¤ë²„ë ˆì´ -->
  <div x-show="isOpen" 
       x-transition:enter="transition ease-out duration-300"
       x-transition:enter-start="opacity-0"
       x-transition:enter-end="opacity-100"
       x-transition:leave="transition ease-in duration-200"
       x-transition:leave-start="opacity-100"
       x-transition:leave-end="opacity-0"
       class="fixed inset-0 z-50 overflow-y-auto"
       style="display: none;">
    
    <!-- ë°°ê²½ ì˜¤ë²„ë ˆì´ -->
    <div class="fixed inset-0 bg-black bg-opacity-50 transition-opacity"
         @click="close()"></div>
    
    <!-- ëª¨ë‹¬ ì»¨í…Œì´ë„ˆ -->
    <div class="flex min-h-screen items-center justify-center p-4 text-center">
      <div x-show="isOpen"
           x-transition:enter="transition ease-out duration-300"
           x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
           x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100"
           x-transition:leave="transition ease-in duration-200"
           x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100"
           x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
           :class="`modal-content modal-${size}`"
           class="relative transform rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:p-6"
           @click.stop>
        
        <!-- ëª¨ë‹¬ í—¤ë” -->
        <div class="modal-header flex items-center justify-between mb-4">
          <h3 class="text-lg font-semibold text-gray-900" 
              x-text="title"></h3>
          <button type="button" 
                  @click="close()"
                  class="rounded-md bg-white text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <span class="sr-only">ë‹«ê¸°</span>
            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
        
        <!-- ëª¨ë‹¬ ë³¸ë¬¸ -->
        <div class="modal-body">
          <!-- ë™ì  ì»¨í…ì¸ ê°€ HTMXë¡œ ë¡œë“œë©ë‹ˆë‹¤ -->
          <div id="modal-content" 
               hx-trigger="modal-opened from:body"
               hx-get=""
               hx-target="this">
            <!-- ê¸°ë³¸ ë‚´ìš© ë˜ëŠ” ë¡œë”© ìŠ¤í”¼ë„ˆ -->
            <div class="flex items-center justify-center py-8">
              <svg class="animate-spin h-8 w-8 text-blue-600" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
              <span class="ml-2 text-gray-600">ë¡œë”© ì¤‘...</span>
            </div>
          </div>
        </div>
        
        <!-- ëª¨ë‹¬ í‘¸í„° (ì„ íƒì ) -->
        <div class="modal-footer mt-6 flex justify-end space-x-3">
          <button type="button" 
                  @click="close()"
                  class="btn btn-outline btn-md">
            ì·¨ì†Œ
          </button>
          <!-- ì¶”ê°€ ì•¡ì…˜ ë²„íŠ¼ë“¤ì€ ë™ì ìœ¼ë¡œ ì¶”ê°€ -->
        </div>
      </div>
    </div>
  </div>
</div>

<!-- CSS ìŠ¤íƒ€ì¼ -->
<style>
.modal-sm {
  max-width: 24rem; /* 384px */
}

.modal-md {
  max-width: 32rem; /* 512px */
}

.modal-lg {
  max-width: 42rem; /* 672px */
}

.modal-xl {
  max-width: 56rem; /* 896px */
}

.modal-content {
  width: 100%;
}
</style>

<!-- ì‚¬ìš© ì˜ˆì‹œ -->
<!-- 
ëª¨ë‹¬ íŠ¸ë¦¬ê±°:
<button @click="$dispatch('modal:open', { title: 'í•™ìƒ ì¶”ê°€' })" 
        hx-get="/components/student/student-form.html"
        hx-target="#modal-content">
  í•™ìƒ ì¶”ê°€
</button>

ëª¨ë‹¬ ë‹«ê¸°:
<button @click="$dispatch('modal:close')">
  ë‹«ê¸°
</button>
-->
```

---

## 5.3 í¼ ì»´í¬ë„ŒíŠ¸

### 5.3.1 FormField ì»´í¬ë„ŒíŠ¸ (`components/forms/form-field.html`)
```html
<!-- Alpine.js FormField ì»´í¬ë„ŒíŠ¸ -->
<div x-data="{
  label: $el.dataset.label || 'ë ˆì´ë¸”',
  name: $el.dataset.name || 'field',
  type: $el.dataset.type || 'text',
  value: $el.dataset.value || '',
  error: '',
  required: $el.dataset.required === 'true',
  placeholder: $el.dataset.placeholder || '',
  
  // UTF-8 ì¸ì½”ë”© ê²€ì¦
  validateUTF8(text) {
    try {
      const encoded = new TextEncoder().encode(text);
      const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
      return decoded === text;
    } catch (error) {
      return false;
    }
  },
  
  // ì…ë ¥ ìœ íš¨ì„± ê²€ì‚¬
  validateInput(value) {
    if (!this.validateUTF8(value)) {
      return 'ì˜¬ë°”ë¥´ì§€ ì•Šì€ ë¬¸ìê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.';
    }
    
    if (this.required && !value.trim()) {
      return `${this.label}ì€ í•„ìˆ˜ í•­ëª©ì…ë‹ˆë‹¤.`;
    }
    
    return null;
  },
  
  // ì…ë ¥ í•¸ë“¤ëŸ¬
  handleInput(event) {
    this.value = event.target.value;
    this.error = this.validateInput(this.value) || '';
    
    this.$dispatch('form-field-change', {
      name: this.name,
      value: this.value,
      valid: !this.error
    });
  }
}" class="form-field">
  
  <label :for="name" class="block text-sm font-medium text-gray-700 mb-1">
    <span x-text="label"></span>
    <span x-show="required" class="text-red-500 ml-1">*</span>
  </label>
  
  <input :id="name"
         :name="name"
         :type="type"
         :value="value"
         :placeholder="placeholder"
         :required="required"
         :class="error ? 'border-red-300' : 'border-gray-300'"
         @input="handleInput($event)"
         class="mt-1 block w-full rounded-md border px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-1"
  />
  
  <div x-show="error" class="mt-1 text-sm text-red-600" x-text="error"></div>
</div>
```

### 5.3.2 Select ì»´í¬ë„ŒíŠ¸ (`components/forms/select-field.html`)
```html
<!-- Alpine.js Select ì»´í¬ë„ŒíŠ¸ -->
<div x-data="{
  label: $el.dataset.label || 'ì„ íƒ',
  name: $el.dataset.name || 'select',
  value: $el.dataset.value || '',
  error: '',
  required: $el.dataset.required === 'true',
  placeholder: $el.dataset.placeholder || 'ì„ íƒí•´ì£¼ì„¸ìš”',
  options: [],
  
  // ì´ˆê¸°í™”
  init() {
    const optionsData = this.$el.dataset.options;
    if (optionsData) {
      try {
        this.options = JSON.parse(optionsData);
      } catch (error) {
        console.error('ì˜µì…˜ ë°ì´í„° íŒŒì‹± ì˜¤ë¥˜:', error);
        this.options = [];
      }
    }
  },
  
  // UTF-8 ê²€ì¦
  validateUTF8(text) {
    try {
      const encoded = new TextEncoder().encode(text);
      const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
      return decoded === text;
    } catch (error) {
      return false;
    }
  },
  
  // ì„ íƒ ìœ íš¨ì„± ê²€ì‚¬
  validateSelection(value) {
    if (this.required && !value) {
      return `${this.label}ì„ ì„ íƒí•´ì£¼ì„¸ìš”.`;
    }
    return null;
  },
  
  // ì„ íƒ ë³€ê²½ í•¸ë“¤ëŸ¬
  handleChange(event) {
    this.value = event.target.value;
    this.error = this.validateSelection(this.value) || '';
    
    const selectedOption = this.options.find(opt => opt.value === this.value);
    
    this.$dispatch('select-change', {
      name: this.name,
      value: this.value,
      selectedOption: selectedOption,
      valid: !this.error
    });
  }
}" class="form-field">
  
  <label :for="name" class="block text-sm font-medium text-gray-700 mb-1">
    <span x-text="label"></span>
    <span x-show="required" class="text-red-500 ml-1">*</span>
  </label>
  
  <div class="relative">
    <select :id="name"
            :name="name"
            :value="value"
            :required="required"
            :class="error ? 'border-red-300' : 'border-gray-300'"
            @change="handleChange($event)"
            class="mt-1 block w-full rounded-md border px-3 py-2 text-sm bg-white shadow-sm focus:outline-none focus:ring-1">
      
      <option x-show="placeholder" value="" x-text="placeholder"></option>
      
      <template x-for="option in options" :key="option.value">
        <option :value="option.value" 
                :selected="value === option.value"
                x-text="option.label">
        </option>
      </template>
    </select>
    
    <!-- ë“œë¡­ë‹¤ìš´ í™”ì‚´í‘œ -->
    <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
      <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
  </div>
  
  <div x-show="error" class="mt-1 text-sm text-red-600" x-text="error"></div>
</div>

<!-- ì‚¬ìš© ì˜ˆì‹œ -->
<!-- 
<div hx-get="/components/forms/select-field.html"
     hx-trigger="load"
     data-label="í•™ë…„"
     data-name="grade"
     data-required="true"
     data-placeholder="í•™ë…„ì„ ì„ íƒí•˜ì„¸ìš”"
     data-options='[{"value":"1","label":"1í•™ë…„"},{"value":"2","label":"2í•™ë…„"}]'
     @select-change="handleGradeChange($event.detail)">
</div>
-->
```

### 5.3.3 í¼ ìœ íš¨ì„± ê²€ì‚¬ ìœ í‹¸ë¦¬í‹° (`assets/js/form-utils.js`)
```javascript
// Alpine.js í¼ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
window.FormUtils = {
  // UTF-8 ì¸ì½”ë”© ê²€ì¦
  validateUTF8(text) {
    try {
      const encoded = new TextEncoder().encode(text);
      const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
      return decoded === text;
    } catch (error) {
      return false;
    }
  },
  
  // ì´ë©”ì¼ ìœ íš¨ì„± ê²€ì‚¬
  validateEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  },
  
  // í¼ ë°ì´í„° ìˆ˜ì§‘
  collectFormData(formElement) {
    const formData = new FormData(formElement);
    const data = {};
    
    for (let [key, value] of formData.entries()) {
      if (this.validateUTF8(value)) {
        data[key] = value;
      } else {
        console.error(`UTF-8 ì˜¤ë¥˜: ${key} í•„ë“œ`);
      }
    }
    
    return data;
  },
  
  // HTMXë¡œ í¼ ì œì¶œ
  submitForm(formElement, endpoint) {
    const data = this.collectFormData(formElement);
    
    // HTMX ì œì¶œ
    htmx.ajax('POST', endpoint, {
      values: data,
      target: '#form-response',
      swap: 'innerHTML'
    });
  }
};

// Alpine.js ê¸€ë¡œë²Œ ìŠ¤í† ì–´
Alpine.store('formValidation', {
  forms: {},
  
  // í¼ ë“±ë¡
  registerForm(formId) {
    this.forms[formId] = {
      fields: {},
      isValid: false,
      errors: {}
    };
  },
  
  // í•„ë“œ ì—…ë°ì´íŠ¸
  updateField(formId, fieldName, value, error = null) {
    if (!this.forms[formId]) this.registerForm(formId);
    
    this.forms[formId].fields[fieldName] = value;
    
    if (error) {
      this.forms[formId].errors[fieldName] = error;
    } else {
      delete this.forms[formId].errors[fieldName];
    }
    
    // ì „ì²´ í¼ ìœ íš¨ì„± ì—…ë°ì´íŠ¸
    this.forms[formId].isValid = Object.keys(this.forms[formId].errors).length === 0;
  },
  
  // í¼ ìœ íš¨ì„± í™•ì¸
  isFormValid(formId) {
    return this.forms[formId]?.isValid || false;
  },
  
  // í¼ ë¦¬ì…‹
  resetForm(formId) {
    if (this.forms[formId]) {
      this.forms[formId] = {
        fields: {},
        isValid: false,
        errors: {}
      };
    }
  }
});
```

---

## 5.4 í•™ìƒ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸

### 5.4.1 StudentForm ì»´í¬ë„ŒíŠ¸ (`components/student/student-form.html`)
```html
<div x-data="{
  student: $store.students.selectedStudent,
  formData: {
    name: '',
    birth_date: '',
    school_name: '',
    grade: '',
    gender: '',
    parent_phone: '',
    address: '',
    medical_info: ''
  },
  errors: {},
  isSubmitting: false,
  
  init() {
    if (this.student) {
      this.formData = { ...this.student };
    }
  },
  
  validateField(fieldName, value) {
    if (!FormUtils.validateUTF8(value)) {
      return 'ì˜¬ë°”ë¥¸ í…ìŠ¤íŠ¸ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.';
    }
    
    switch(fieldName) {
      case 'name':
        return !value ? 'í•™ìƒ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.' : null;
      case 'birth_date':
        return !value ? 'ìƒë…„ì›”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.' : null;
      case 'school_name':
        return !value ? 'í•™êµëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.' : null;
      default:
        return null;
    }
  },
  
  async submitForm() {
    this.isSubmitting = true;
    this.errors = {};
    
    // ì „ì²´ í¼ ìœ íš¨ì„± ê²€ì‚¬
    for (let [key, value] of Object.entries(this.formData)) {
      const error = this.validateField(key, value);
      if (error) this.errors[key] = error;
    }
    
    if (Object.keys(this.errors).length > 0) {
      this.isSubmitting = false;
      return;
    }
    
    try {
      if (this.student?.id) {
        await $store.students.updateStudent(this.student.id, this.formData);
      } else {
        await $store.students.addStudent(this.formData);
      }
      
      this.$dispatch('student-form-success', { 
        action: this.student?.id ? 'update' : 'create',
        student: this.formData 
      });
    } catch (error) {
      this.$dispatch('student-form-error', { error });
    } finally {
      this.isSubmitting = false;
    }
  }
}" class="student-form">
  
  <form @submit.prevent="submitForm()" class="space-y-6">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      
      <!-- í•™ìƒ ì´ë¦„ -->
      <div class="form-field">
        <label class="block text-sm font-medium text-gray-700 mb-1">
          í•™ìƒ ì´ë¦„ <span class="text-red-500">*</span>
        </label>
        <input type="text" 
               x-model="formData.name"
               :class="errors.name ? 'border-red-300' : 'border-gray-300'"
               @blur="errors.name = validateField('name', formData.name)"
               class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1"
               placeholder="í•™ìƒ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
        <div x-show="errors.name" x-text="errors.name" class="mt-1 text-sm text-red-600"></div>
      </div>
      
      <!-- ìƒë…„ì›”ì¼ -->
      <div class="form-field">
        <label class="block text-sm font-medium text-gray-700 mb-1">
          ìƒë…„ì›”ì¼ <span class="text-red-500">*</span>
        </label>
        <input type="date" 
               x-model="formData.birth_date"
               :class="errors.birth_date ? 'border-red-300' : 'border-gray-300'"
               @blur="errors.birth_date = validateField('birth_date', formData.birth_date)"
               class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1">
        <div x-show="errors.birth_date" x-text="errors.birth_date" class="mt-1 text-sm text-red-600"></div>
      </div>
      
    </div>
    
    <div class="form-actions flex justify-end space-x-3">
      <button type="button" 
              @click="$dispatch('student-form-cancel')"
              class="px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300">
        ì·¨ì†Œ
      </button>
      
      <button type="submit" 
              :disabled="isSubmitting"
              :class="isSubmitting ? 'opacity-50 cursor-not-allowed' : ''"
              class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">
        <span x-show="!isSubmitting">ì €ì¥</span>
        <span x-show="isSubmitting">ì €ì¥ ì¤‘...</span>
      </button>
    </div>
  </form>
</div>

<!-- HTMX ì‚¬ìš© ì˜ˆì‹œ -->
<!-- 
<div hx-get="/components/student/student-form.html"
     hx-trigger="load"
     @student-form-success="handleStudentSuccess($event.detail)"
     @student-form-error="handleStudentError($event.detail)"
     @student-form-cancel="closeStudentForm()">
</div>
-->
```

### 5.4.2 StudentList ì»´í¬ë„ŒíŠ¸ (`components/student/student-list.html`)
```html
<div x-data="{
  students: $store.students.students || [],
  isLoading: $store.students.isLoading,
  
  editStudent(student) {
    $store.students.setSelectedStudent(student);
    this.$dispatch('student-edit', { student });
  },
  
  async deleteStudent(studentId) {
    if (confirm('ì •ë§ë¡œ ì´ í•™ìƒì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
      try {
        await $store.students.deleteStudent(studentId);
        this.$dispatch('student-deleted', { studentId });
      } catch (error) {
        this.$dispatch('student-delete-error', { error });
      }
    }
  }
}" class="student-list">
  
  <div x-show="isLoading" class="flex justify-center py-8">
    <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
  </div>
  
  <div x-show="!isLoading && students.length === 0" class="text-center py-8 text-gray-500">
    ë“±ë¡ëœ í•™ìƒì´ ì—†ìŠµë‹ˆë‹¤.
  </div>
  
  <div x-show="!isLoading && students.length > 0" class="grid gap-4">
    <template x-for="student in students" :key="student.id">
      <div class="student-card bg-white border rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow">
        <div class="flex justify-between items-start">
          
          <div class="student-info flex-1">
            <h3 class="text-lg font-semibold text-gray-900" x-text="student.name"></h3>
            <div class="mt-1 text-sm text-gray-600">
              <span x-text="student.school_name"></span>
              <span x-text="student.grade + 'í•™ë…„'"></span>
            </div>
            
            <div class="mt-2 text-xs text-gray-500">
              <span>ìƒë…„ì›”ì¼: </span>
              <span x-text="student.birth_date"></span>
            </div>
            
            <div x-show="student.parent_phone" class="mt-1 text-xs text-gray-500">
              <span>ì—°ë½ì²˜: </span>
              <span x-text="student.parent_phone"></span>
            </div>
          </div>
          
          <div class="student-actions flex space-x-2">
            <button @click="editStudent(student)"
                    class="px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200">
              ìˆ˜ì •
            </button>
            
            <button @click="deleteStudent(student.id)"
                    class="px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200">
              ì‚­ì œ
            </button>
          </div>
          
        </div>
      </div>
    </template>
  </div>
</div>

<!-- HTMX ì‚¬ìš© ì˜ˆì‹œ -->
<!-- 
<div hx-get="/components/student/student-list.html"
     hx-trigger="load, student-updated from:body"
     @student-edit="openStudentEdit($event.detail.student)"
     @student-deleted="refreshStudentList()"
     @student-delete-error="showDeleteError($event.detail.error)">
</div>
-->
```

---

---

## 5.5 êµìœ¡ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸

### 5.5.1 Calendar ì»´í¬ë„ŒíŠ¸ (`components/education/calendar.html`)
```html
<div x-data="{
  currentDate: new Date(),
  events: $store.education.monthlyPlans || [],
  selectedDate: null,
  
  // ì›” í¬ë§·íŒ…
  formatMonth(date) {
    return date.toLocaleDateString('ko-KR', { 
      year: 'numeric', 
      month: 'long' 
    });
  },
  
  // ë‹¬ë ¥ ë‚´ë¹„ê²Œì´ì…˜
  navigateMonth(direction) {
    const newDate = new Date(this.currentDate);
    newDate.setMonth(newDate.getMonth() + direction);
    this.currentDate = newDate;
    this.loadMonthEvents();
  },
  
  // ë‹¬ë ¥ ë‚ ì§œ ìƒì„±
  generateCalendarDays() {
    const year = this.currentDate.getFullYear();
    const month = this.currentDate.getMonth();
    const firstDay = new Date(year, month, 1);
    const lastDay = new Date(year, month + 1, 0);
    const startDate = new Date(firstDay);
    startDate.setDate(startDate.getDate() - firstDay.getDay());
    
    const days = [];
    for (let i = 0; i < 42; i++) {
      const date = new Date(startDate);
      date.setDate(startDate.getDate() + i);
      days.push(date);
    }
    return days;
  },
  
  // ë‚ ì§œë³„ ì´ë²¤íŠ¸ ì¡°íšŒ
  getEventsForDate(date) {
    const dateString = date.toISOString().split('T')[0];
    return this.events.filter(event => 
      event.plan_date && event.plan_date.startsWith(dateString)
    );
  },
  
  // ë‚ ì§œ í´ë¦­ í•¸ë“¤ëŸ¬
  handleDateClick(date) {
    this.selectedDate = date;
    this.$dispatch('calendar-date-click', { 
      date: date,
      events: this.getEventsForDate(date)
    });
  },
  
  // ì´ë²¤íŠ¸ í´ë¦­ í•¸ë“¤ëŸ¬
  handleEventClick(event) {
    this.$dispatch('calendar-event-click', { event });
  },
  
  // ì›”ë³„ ì´ë²¤íŠ¸ ë¡œë“œ
  async loadMonthEvents() {
    const year = this.currentDate.getFullYear();
    const month = this.currentDate.getMonth() + 1;
    await $store.education.fetchMonthlyPlans(year, month);
  },
  
  // ì´ˆê¸°í™”
  init() {
    this.loadMonthEvents();
  }
}" class="calendar bg-white rounded-lg shadow">
  
  <!-- ì›” í—¤ë” -->
  <div class="calendar-header flex items-center justify-between p-4 border-b">
    <button @click="navigateMonth(-1)" 
            class="px-3 py-2 text-gray-600 hover:bg-gray-100 rounded">
      â† ì´ì „
    </button>
    
    <h2 class="text-lg font-semibold text-gray-900" 
        x-text="formatMonth(currentDate)"></h2>
    
    <button @click="navigateMonth(1)" 
            class="px-3 py-2 text-gray-600 hover:bg-gray-100 rounded">
      ë‹¤ìŒ â†’
    </button>
  </div>
  
  <!-- ìš”ì¼ í—¤ë” -->
  <div class="grid grid-cols-7 border-b">
    <template x-for="day in ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† ']">
      <div class="p-2 text-center text-sm font-medium text-gray-700 bg-gray-50" 
           x-text="day"></div>
    </template>
  </div>
  
  <!-- ë‹¬ë ¥ ê·¸ë¦¬ë“œ -->
  <div class="calendar-grid grid grid-cols-7">
    <template x-for="(day, index) in generateCalendarDays()" :key="index">
      <div class="calendar-day border-r border-b h-24 p-1 cursor-pointer hover:bg-gray-50"
           :class="{
             'bg-gray-100': day.getMonth() !== currentDate.getMonth(),
             'bg-blue-50': selectedDate && day.toDateString() === selectedDate.toDateString()
           }"
           @click="handleDateClick(day)">
        
        <div class="flex justify-between items-start h-full">
          <span class="text-sm" 
                :class="day.getMonth() !== currentDate.getMonth() ? 'text-gray-400' : 'text-gray-900'"
                x-text="day.getDate()"></span>
        </div>
        
        <!-- ë‚ ì§œë³„ ì´ë²¤íŠ¸ -->
        <template x-for="event in getEventsForDate(day).slice(0, 2)">
          <div class="text-xs bg-blue-100 text-blue-800 px-1 rounded mt-1 truncate"
               @click.stop="handleEventClick(event)"
               x-text="event.activity_name">
          </div>
        </template>
        
        <!-- ë” ë§ì€ ì´ë²¤íŠ¸ í‘œì‹œ -->
        <div x-show="getEventsForDate(day).length > 2" 
             class="text-xs text-gray-500 mt-1"
             x-text="'+' + (getEventsForDate(day).length - 2) + 'ê°œ'"></div>
      </div>
    </template>
  </div>
</div>

<!-- HTMX ì‚¬ìš© ì˜ˆì‹œ -->
<!-- 
<div hx-get="/components/education/calendar.html"
     hx-trigger="load"
     @calendar-date-click="showDateEvents($event.detail)"
     @calendar-event-click="showEventDetail($event.detail.event)">
</div>
-->
```

### 5.5.2 QuickLinksGrid ì»´í¬ë„ŒíŠ¸ (`components/education/quick-links-grid.html`)
```html
<div x-data="{
  tools: [],
  isLoading: false,
  
  // ì´ˆê¸°í™”
  async init() {
    this.isLoading = true;
    try {
      await this.loadQuickLinks();
    } catch (error) {
      console.error('ë¹ ë¥¸ ë§í¬ ë¡œë“œ ì˜¤ë¥˜:', error);
    } finally {
      this.isLoading = false;
    }
  },
  
  // ë¹ ë¥¸ ë§í¬ ë¡œë“œ
  async loadQuickLinks() {
    try {
      const response = await fetch('/api/quick-links');
      const data = await response.json();
      
      if (data.success) {
        this.tools = data.data;
      } else {
        throw new Error(data.error?.message || 'ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨');
      }
    } catch (error) {
      this.$dispatch('quick-links-error', { error: error.message });
    }
  },
  
  // ë„êµ¬ í´ë¦­ í•¸ë“¤ëŸ¬
  handleToolClick(tool) {
    // UTF-8 ì•ˆì „ì„± ê²€ì‚¬
    if (!FormUtils.validateUTF8(tool.title)) {
      this.$dispatch('tool-click-error', { 
        error: 'ë„êµ¬ ì´ë¦„ì— ì˜¤ë¥˜ê°€ ìˆìŠµë‹ˆë‹¤.' 
      });
      return;
    }
    
    this.$dispatch('quick-link-click', { 
      tool: tool,
      timestamp: new Date().toISOString()
    });
    
    // ë„êµ¬ ì‚¬ìš© í†µê³„ ì—…ë°ì´íŠ¸
    this.updateToolUsage(tool.id);
  },
  
  // ë„êµ¬ ì‚¬ìš© í†µê³„ ì—…ë°ì´íŠ¸
  async updateToolUsage(toolId) {
    try {
      await fetch('/api/quick-links/usage', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ tool_id: toolId })
      });
    } catch (error) {
      console.error('ë„êµ¬ ì‚¬ìš© í†µê³„ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:', error);
    }
  }
}" class="education-tools-container">
  
  <!-- ë¡œë”© ìƒíƒœ -->
  <div x-show="isLoading" class="flex justify-center items-center py-12">
    <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
    <span class="ml-2 text-gray-600">ë¹ ë¥¸ ë§í¬ ë¡œë“œ ì¤‘...</span>
  </div>
  
  <!-- ë¹ ë¥¸ ë§í¬ ê·¸ë¦¬ë“œ -->
  <div x-show="!isLoading && tools.length > 0" 
       class="education-tools-grid grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 p-4">
    
    <template x-for="tool in tools" :key="tool.id">
      <div class="tool-button group cursor-pointer transform transition-transform hover:scale-105"
           :style="'background: linear-gradient(135deg, ' + tool.color + ', ' + tool.color + '90)'"
           @click="handleToolClick(tool)"
           :title="tool.description">
        
        <div class="tool-card bg-white bg-opacity-90 backdrop-blur-sm rounded-lg p-4 h-32 flex flex-col items-center justify-center text-center shadow-sm group-hover:shadow-md transition-shadow">
          
          <!-- ë„êµ¬ ì•„ì´ì½˜ -->
          <div class="tool-icon text-3xl mb-2" x-html="tool.icon"></div>
          
          <!-- ë„êµ¬ ì œëª© -->
          <div class="tool-title text-sm font-medium text-gray-800" 
               x-text="tool.title"></div>
          
          <!-- ì‚¬ìš© íšŸìˆ˜ -->
          <div x-show="tool.usage_count" 
               class="text-xs text-gray-500 mt-1"
               x-text="tool.usage_count + 'íšŒ ì‚¬ìš©'"></div>
          
        </div>
      </div>
    </template>
    
  </div>
  
  <!-- ë¹„ì–´ìˆì„ ë•Œ -->
  <div x-show="!isLoading && tools.length === 0" 
       class="text-center py-12 text-gray-500">
    <div class="text-lg mb-2">í•™ì¢… ë„êµ¬</div>
    <p>ë“±ë¡ëœ ë¹ ë¥¸ ë§í¬ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
  </div>
  
</div>

<!-- HTMX ì‚¬ìš© ì˜ˆì‹œ -->
<!-- 
<div hx-get="/components/education/quick-links-grid.html"
     hx-trigger="load"
     @quick-link-click="handleQuickLinkAction($event.detail)"
     @quick-links-error="showQuickLinksError($event.detail.error)"
     @tool-click-error="showToolError($event.detail.error)">
</div>
-->
```

---

---

## 5.6 êµìœ¡ê³¼ì • ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸

> **Alpine.js Store ì—°ë**: ë³¸ ì ˆì˜ ëª¨ë“  êµìœ¡ê³¼ì • ì»´í¬ë„ŒíŠ¸ëŠ” ìƒíƒœ ê´€ë¦¬ë¥¼ ìœ„í•´ [06_ìƒíƒœ_ê´€ë¦¬.md](./06_ìƒíƒœ_ê´€ë¦¬.md)ì—ì„œ ì •ì˜í•œ `Alpine.store('curriculum')` ìŠ¤í† ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì˜ˆì‹œ ì½”ë“œì—ì„œ `$store.curriculum.units`, `$store.curriculum.fetchUnits()` í˜•íƒœë¡œ í˜¸ì¶œí•˜ì—¬ HTMX + Alpine.js íŒ¨í„´ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.

### 5.6.1 CurriculumUpload ì»´í¬ë„ŒíŠ¸ (`components/curriculum/curriculum-upload.html`)
```html
<div x-data="{
  uploadMethod: 'manual',
  formData: {
    subject: '',
    grade: null,
    semester: null,
    units: []
  },
  isUploading: false,
  uploadProgress: 0,
  errors: {},
  
  // íŒŒì¼ ì—…ë¡œë“œ ê´€ë ¨
  selectedFile: null,
  dragOver: false,
  
  // ì´ˆê¸°í™”
  init() {
    this.resetForm();
  },
  
  // í¼ ë¦¬ì…‹
  resetForm() {
    this.formData = {
      subject: '',
      grade: null,
      semester: null,
      units: []
    };
    this.errors = {};
    this.selectedFile = null;
  },
  
  // í¼ ìœ íš¨ì„± ê²€ì‚¬
  validateForm() {
    const errors = {};
    
    if (!this.formData.subject) {
      errors.subject = 'ê³¼ëª©ì„ ì„ íƒí•´ì£¼ì„¸ìš”.';
    }
    if (!this.formData.grade) {
      errors.grade = 'í•™ë…„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.';
    }
    if (!this.formData.semester) {
      errors.semester = 'í•™ê¸°ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.';
    }
    
    if (this.uploadMethod === 'manual' && this.formData.units.length === 0) {
      errors.units = 'ìµœì†Œ 1ê°œ ì´ìƒì˜ êµìœ¡ê³¼ì • ë‹¨ìœ„ë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”.';
    }
    
    if (this.uploadMethod === 'excel' && !this.selectedFile) {
      errors.file = 'ì—…ë¡œë“œí•  íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.';
    }
    
    this.errors = errors;
    return Object.keys(errors).length === 0;
  },
  
  // UTF-8 íŒŒì¼ ê²€ì¦
  async validateFileUTF8(file) {
    try {
      const encoder = new TextEncoder();
      const decoder = new TextDecoder('utf-8', { fatal: true });
      
      // íŒŒì¼ëª… UTF-8 ê²€ì¦
      const encodedFileName = encoder.encode(file.name);
      decoder.decode(encodedFileName);
      
      // í…ìŠ¤íŠ¸ íŒŒì¼ì¸ ê²½ìš° ë‚´ìš© ê²€ì¦
      if (file.type.startsWith('text/') || 
          file.name.endsWith('.txt') || 
          file.name.endsWith('.csv') || 
          file.name.endsWith('.xlsx')) {
        if (file.name.endsWith('.xlsx')) {
          return { valid: true }; // Excel íŒŒì¼ì€ ë°”ì´ë„ˆë¦¬ì´ë¯€ë¡œ ë³„ë„ ì²˜ë¦¬
        }
        
        const text = await file.text();
        const encodedText = encoder.encode(text);
        decoder.decode(encodedText);
      }
      
      return { valid: true };
    } catch (error) {
      return { 
        valid: false, 
        error: 'íŒŒì¼ì— ì˜¬ë°”ë¥´ì§€ ì•Šì€ UTF-8 ë¬¸ìê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.' 
      };
    }
  },
  
  // ìˆ˜ë™ ì—…ë¡œë“œ ì²˜ë¦¬
  async handleManualUpload() {
    if (!this.validateForm()) return;
    
    this.isUploading = true;
    this.uploadProgress = 0;
    
    try {
      // ì§„í–‰ë¥  ì‹œë®¬ë ˆì´ì…˜
      const progressInterval = setInterval(() => {
        if (this.uploadProgress < 90) {
          this.uploadProgress += Math.random() * 20;
        }
      }, 100);
      
      const response = await $store.curriculum.uploadUnits(this.formData);
      
      clearInterval(progressInterval);
      this.uploadProgress = 100;
      
      if (response.success) {
        this.$dispatch('curriculum-upload-success', {
          method: 'manual',
          data: response.data
        });
        this.resetForm();
      } else {
        throw new Error(response.error?.message || 'ì—…ë¡œë“œ ì‹¤íŒ¨');
      }
    } catch (error) {
      this.$dispatch('curriculum-upload-error', {
        error: error.message
      });
    } finally {
      this.isUploading = false;
      this.uploadProgress = 0;
    }
  },
  
  // íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬
  async handleFileUpload() {
    if (!this.validateForm() || !this.selectedFile) return;
    
    this.isUploading = true;
    this.uploadProgress = 0;
    
    try {
      // UTF-8 ê²€ì¦
      const validation = await this.validateFileUTF8(this.selectedFile);
      if (!validation.valid) {
        throw new Error(validation.error);
      }
      
      // íŒŒì¼ í¬ê¸° ê²€ì¦ (10MB)
      const maxSize = 10 * 1024 * 1024;
      if (this.selectedFile.size > maxSize) {
        throw new Error('íŒŒì¼ í¬ê¸°ê°€ 10MBë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤.');
      }
      
      const formData = new FormData();
      formData.append('file', this.selectedFile);
      formData.append('subject', this.formData.subject);
      formData.append('grade', this.formData.grade.toString());
      formData.append('semester', this.formData.semester.toString());
      
      const response = await $store.curriculum.uploadExcelFile(formData);
      
      if (response.success) {
        this.uploadProgress = 100;
        this.$dispatch('curriculum-upload-success', {
          method: 'excel',
          data: response.data
        });
        this.resetForm();
      } else {
        throw new Error(response.error?.message || 'ì—…ë¡œë“œ ì‹¤íŒ¨');
      }
    } catch (error) {
      this.$dispatch('curriculum-upload-error', {
        error: error.message
      });
    } finally {
      this.isUploading = false;
      this.uploadProgress = 0;
    }
  },
  
  // íŒŒì¼ ì„ íƒ í•¸ë“¤ëŸ¬
  handleFileSelect(event) {
    const file = event.target.files[0];
    this.selectedFile = file;
    
    if (file && this.errors.file) {
      delete this.errors.file;
    }
  },
  
  // ë“œë˜ê·¸ ì•¤ ë“œë¡­ í•¸ë“¤ëŸ¬
  handleDrop(event) {
    event.preventDefault();
    this.dragOver = false;
    
    const files = event.dataTransfer.files;
    if (files.length > 0) {
      this.selectedFile = files[0];
      if (this.errors.file) {
        delete this.errors.file;
      }
    }
  }
}" class="curriculum-upload max-w-4xl mx-auto p-6 space-y-6">
  
  <div class="bg-white rounded-lg shadow p-6">
    <h2 class="text-2xl font-bold mb-6">êµìœ¡ê³¼ì • ì—…ë¡œë“œ</h2>
    
    <!-- ì—…ë¡œë“œ ë°©ì‹ ì„ íƒ -->
    <div class="mb-6">
      <label class="block text-sm font-semibold text-gray-700 mb-3">
        ì—…ë¡œë“œ ë°©ì‹ ì„ íƒ
      </label>
      <div class="flex space-x-4">
        <button type="button"
                @click="uploadMethod = 'manual'"
                :class="uploadMethod === 'manual' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700'"
                class="px-4 py-2 rounded-md font-medium transition-colors">
          ì§ì ‘ ì…ë ¥
        </button>
        <button type="button"
                @click="uploadMethod = 'excel'"
                :class="uploadMethod === 'excel' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700'"
                class="px-4 py-2 rounded-md font-medium transition-colors">
          Excel ì—…ë¡œë“œ
        </button>
      </div>
    </div>
    
    <!-- ê¸°ë³¸ ì •ë³´ ì…ë ¥ -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
      <div class="form-field">
        <label class="block text-sm font-medium text-gray-700 mb-1">
          ê³¼ëª© <span class="text-red-500">*</span>
        </label>
        <select x-model="formData.subject"
                :class="errors.subject ? 'border-red-300' : 'border-gray-300'"
                class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1">
          <option value="">ê³¼ëª© ì„ íƒ</option>
          <option value="êµ­ì–´">êµ­ì–´</option>
          <option value="ìˆ˜í•™">ìˆ˜í•™</option>
        </select>
        <div x-show="errors.subject" x-text="errors.subject" class="mt-1 text-sm text-red-600"></div>
      </div>
      
      <div class="form-field">
        <label class="block text-sm font-medium text-gray-700 mb-1">
          í•™ë…„ <span class="text-red-500">*</span>
        </label>
        <select x-model="formData.grade"
                :class="errors.grade ? 'border-red-300' : 'border-gray-300'"
                class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1">
          <option value="">í•™ë…„ ì„ íƒ</option>
          <option value="1">1í•™ë…„</option>
          <option value="2">2í•™ë…„</option>
          <option value="3">3í•™ë…„</option>
          <option value="4">4í•™ë…„</option>
          <option value="5">5í•™ë…„</option>
          <option value="6">6í•™ë…„</option>
        </select>
        <div x-show="errors.grade" x-text="errors.grade" class="mt-1 text-sm text-red-600"></div>
      </div>
      
      <div class="form-field">
        <label class="block text-sm font-medium text-gray-700 mb-1">
          í•™ê¸° <span class="text-red-500">*</span>
        </label>
        <select x-model="formData.semester"
                :class="errors.semester ? 'border-red-300' : 'border-gray-300'"
                class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1">
          <option value="">í•™ê¸° ì„ íƒ</option>
          <option value="1">1í•™ê¸°</option>
          <option value="2">2í•™ê¸°</option>
        </select>
        <div x-show="errors.semester" x-text="errors.semester" class="mt-1 text-sm text-red-600"></div>
      </div>
    </div>
    
    <!-- Excel ì—…ë¡œë“œ ì„¹ì…˜ -->
    <div x-show="uploadMethod === 'excel'" class="space-y-4">
      <div class="border-2 border-dashed border-gray-300 rounded-lg p-6"
           :class="dragOver ? 'border-blue-500 bg-blue-50' : ''"
           @dragover.prevent="dragOver = true"
           @dragleave="dragOver = false"
           @drop="handleDrop($event)">
        
        <div class="text-center">
          <div class="mb-4">
            <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48">
              <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          
          <div x-show="!selectedFile">
            <p class="text-lg mb-2">Excel íŒŒì¼ì„ ì—¬ê¸°ì— ë“œë˜ê·¸í•˜ê±°ë‚˜</p>
            <label class="cursor-pointer">
              <span class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">
                íŒŒì¼ ì„ íƒ
              </span>
              <input type="file" 
                     accept=".xlsx,.xls,.csv"
                     @change="handleFileSelect($event)"
                     class="hidden">
            </label>
          </div>
          
          <div x-show="selectedFile" class="text-green-600">
            <p class="font-medium" x-text="'ì„ íƒëœ íŒŒì¼: ' + (selectedFile?.name || '')"></p>
            <p class="text-sm text-gray-500" x-text="selectedFile ? Math.round(selectedFile.size/1024) + 'KB' : ''"></p>
          </div>
        </div>
      </div>
      
      <div x-show="errors.file" x-text="errors.file" class="text-sm text-red-600"></div>
    </div>
    
    <!-- ì—…ë¡œë“œ ì§„í–‰ë¥  -->
    <div x-show="isUploading" class="space-y-2">
      <div class="flex justify-between text-sm">
        <span>ì—…ë¡œë“œ ì¤‘...</span>
        <span x-text="Math.round(uploadProgress) + '%'"></span>
      </div>
      <div class="w-full bg-gray-200 rounded-full h-2">
        <div class="bg-blue-600 h-2 rounded-full transition-all duration-300" 
             :style="'width: ' + uploadProgress + '%'"></div>
      </div>
    </div>
    
    <!-- ì—…ë¡œë“œ ë²„íŠ¼ -->
    <div class="flex justify-end space-x-3">
      <button type="button" 
              @click="resetForm()"
              :disabled="isUploading"
              class="px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 disabled:opacity-50">
        ì´ˆê¸°í™”
      </button>
      
      <button type="button"
              @click="uploadMethod === 'manual' ? handleManualUpload() : handleFileUpload()"
              :disabled="isUploading"
              class="px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50">
        <span x-show="!isUploading">ì—…ë¡œë“œ</span>
        <span x-show="isUploading">ì—…ë¡œë“œ ì¤‘...</span>
      </button>
    </div>
  </div>
</div>

<!-- HTMX ì‚¬ìš© ì˜ˆì‹œ -->
<!-- 
<div hx-get="/components/curriculum/curriculum-upload.html"
     hx-trigger="load"
     @curriculum-upload-success="handleUploadSuccess($event.detail)"
     @curriculum-upload-error="handleUploadError($event.detail.error)">
</div>
-->

        </div>

        {/* ì—…ë¡œë“œ ë°©ì‹ë³„ UI */}
        {uploadMethod === 'manual' && (
          <CurriculumManualInput
            units={units}
            onUnitsChange={setUnits}
            onUpload={handleManualUpload}
            isUploading={isUploading}
          />
        )}

        {uploadMethod === 'excel' && (
          <CurriculumExcelUpload
            onFileUpload={handleExcelUpload}
            isUploading={isUploading}
          />
        )}
      </div>
    </div>
  );
};
```

### 5.6.2 CurriculumUnitForm ì»´í¬ë„ŒíŠ¸
```html
<!-- êµìœ¡ê³¼ì • ë‹¨ì› í¼ ì»´í¬ë„ŒíŠ¸ -->
<div class="curriculum-unit-form" 
     x-data="curriculumUnitForm()"
     x-init="initForm($el.dataset.unit ? JSON.parse($el.dataset.unit) : null)">
  
  <form @submit.prevent="handleSubmit()" class="space-y-6">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <!-- ë‹¨ì› ë²ˆí˜¸ -->
      <div class="form-group">
        <label for="unit_number" class="block text-sm font-semibold text-gray-700 mb-2">
          ë‹¨ì› ë²ˆí˜¸ <span class="text-red-500">*</span>
        </label>
        <input 
          id="unit_number"
          type="number" 
          x-model.number="formData.unit_number"
          min="1" 
          max="20" 
          required
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          style="min-height: 48px;"
        />
      </div>
      
      <!-- ë‹¨ì›ëª… -->
      <div class="form-group">
        <label for="unit_title" class="block text-sm font-semibold text-gray-700 mb-2">
          ë‹¨ì›ëª… <span class="text-red-500">*</span>
        </label>
        <input 
          id="unit_title"
          type="text" 
          x-model="formData.unit_title"
          placeholder="ì˜ˆ: ì¬ë¯¸ìˆëŠ” ë‚±ë§"
          required
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          style="min-height: 48px;"
          @blur="validateUTF8(formData.unit_title, 'ë‹¨ì›ëª…')"
        />
      </div>
    </div>

    <!-- ì„±ì·¨ê¸°ì¤€ -->
    <div class="form-group">
      <label class="block text-sm font-semibold text-gray-700 mb-2">
        ì„±ì·¨ê¸°ì¤€ <span class="text-red-500">*</span>
      </label>
      <template x-for="(standard, index) in formData.achievement_standards" :key="index">
        <div class="flex items-center space-x-2 mb-2">
          <input
            type="text"
            x-model="formData.achievement_standards[index]"
            class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            style="min-height: 48px;"
            placeholder="ì„±ì·¨ê¸°ì¤€ì„ ì…ë ¥í•˜ì„¸ìš”"
            @blur="validateUTF8(formData.achievement_standards[index], 'ì„±ì·¨ê¸°ì¤€')"
          />
          <button
            type="button"
            @click="removeArrayItem('achievement_standards', index)"
            class="px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors"
            style="min-height: 48px; min-width: 48px;"
          >
            ì‚­ì œ
          </button>
        </div>
      </template>
      <button
        type="button"
        @click="addArrayItem('achievement_standards')"
        class="px-4 py-2 text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50 transition-colors"
        style="min-height: 48px;"
      >
        + ì„±ì·¨ê¸°ì¤€ ì¶”ê°€
      </button>
    </div>

    <!-- êµìœ¡ ë‚´ìš© -->
    <div class="form-group">
      <h4 class="text-md font-semibold text-gray-700 mb-4">êµìœ¡ ë‚´ìš©</h4>
      
      <!-- ì£¼ìš” ì£¼ì œ -->
      <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700 mb-2">ì£¼ìš” ì£¼ì œ</label>
        <template x-for="(topic, index) in formData.educational_content.main_topics" :key="index">
          <div class="flex items-center space-x-2 mb-2">
            <input
              type="text"
              x-model="formData.educational_content.main_topics[index]"
              class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              style="min-height: 48px;"
              placeholder="ì£¼ìš” ì£¼ì œë¥¼ ì…ë ¥í•˜ì„¸ìš”"
              @blur="validateUTF8(formData.educational_content.main_topics[index], 'ì£¼ìš” ì£¼ì œ')"
            />
            <button
              type="button"
              @click="removeNestedArrayItem('educational_content', 'main_topics', index)"
              class="px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors"
              style="min-height: 48px; min-width: 48px;"
            >
              ì‚­ì œ
            </button>
          </div>
        </template>
        <button
          type="button"
          @click="addNestedArrayItem('educational_content', 'main_topics')"
          class="px-4 py-2 text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50 transition-colors"
          style="min-height: 48px;"
        >
          + ì£¼ì œ ì¶”ê°€
        </button>
      </div>
    </div>

    <!-- ì•¡ì…˜ ë²„íŠ¼ -->
    <div class="flex justify-end space-x-3 pt-4">
      <button 
        type="button" 
        @click="handleCancel()"
        class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"
        style="min-height: 48px;"
      >
        ì·¨ì†Œ
      </button>
      <button 
        type="submit" 
        :disabled="isSubmitting"
        class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"
        style="min-height: 48px;"
      >
        <span x-show="!isSubmitting" x-text="editingUnit ? 'ìˆ˜ì •' : 'ì¶”ê°€'"></span>
        <span x-show="isSubmitting" class="flex items-center space-x-2">
          <svg class="animate-spin h-4 w-4" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
          <span>ì²˜ë¦¬ ì¤‘...</span>
        </span>
      </button>
    </div>
  </form>
</div>

<script>
function curriculumUnitForm() {
  return {
    // í¼ ë°ì´í„°
    formData: {
      unit_number: 1,
      unit_title: '',
      achievement_standards: [''],
      educational_content: {
        main_topics: [''],
        activities: [''],
        materials: [''],
        teaching_methods: ['']
      },
      evaluation_plan: {
        methods: [''],
        criteria: [''],
        tools: [''],
        frequency: ''
      }
    },
    
    // ìƒíƒœ
    isSubmitting: false,
    editingUnit: null,
    errors: {},
    
    // ì´ˆê¸°í™”
    initForm(unit) {
      if (unit) {
        this.editingUnit = unit;
        this.formData = {
          unit_number: unit.unit_number || 1,
          unit_title: unit.unit_title || '',
          achievement_standards: unit.achievement_standards || [''],
          educational_content: unit.educational_content || {
            main_topics: [''],
            activities: [''],
            materials: [''],
            teaching_methods: ['']
          },
          evaluation_plan: unit.evaluation_plan || {
            methods: [''],
            criteria: [''],
            tools: [''],
            frequency: ''
          }
        };
      }
    },
    
    // UTF-8 ê²€ì¦ í•¨ìˆ˜
    validateUTF8(text, fieldName) {
      if (!text) return true;
      
      try {
        const encoded = new TextEncoder().encode(text);
        const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
        return decoded === text;
      } catch (error) {
        console.error(`${fieldName} UTF-8 ì¸ì½”ë”© ì˜¤ë¥˜:`, error);
        this.errors[fieldName] = 'UTF-8 ì¸ì½”ë”© ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
        return false;
      }
    },
    
    // ë°°ì—´ í•­ëª© ì¶”ê°€
    addArrayItem(fieldName) {
      this.formData[fieldName].push('');
    },
    
    // ë°°ì—´ í•­ëª© ì‚­ì œ
    removeArrayItem(fieldName, index) {
      if (this.formData[fieldName].length > 1) {
        this.formData[fieldName].splice(index, 1);
      }
    },
    
    // ì¤‘ì²© ë°°ì—´ í•­ëª© ì¶”ê°€
    addNestedArrayItem(parentField, childField) {
      this.formData[parentField][childField].push('');
    },
    
    // ì¤‘ì²© ë°°ì—´ í•­ëª© ì‚­ì œ
    removeNestedArrayItem(parentField, childField, index) {
      if (this.formData[parentField][childField].length > 1) {
        this.formData[parentField][childField].splice(index, 1);
      }
    },
    
    // í¼ ê²€ì¦
    validateForm() {
      this.errors = {};
      
      if (!this.formData.unit_title?.trim()) {
        this.errors.unit_title = 'ë‹¨ì›ëª…ì€ í•„ìˆ˜ ì…ë ¥ ì‚¬í•­ì…ë‹ˆë‹¤.';
      }
      
      if (!this.formData.achievement_standards[0]?.trim()) {
        this.errors.achievement_standards = 'ìµœì†Œ í•˜ë‚˜ì˜ ì„±ì·¨ê¸°ì¤€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.';
      }
      
      // UTF-8 ê²€ì¦
      if (!this.validateUTF8(this.formData.unit_title, 'unit_title')) {
        return false;
      }
      
      return Object.keys(this.errors).length === 0;
    },
    
    // í¼ ì œì¶œ
    async handleSubmit() {
      if (!this.validateForm()) {
        alert('ì…ë ¥ ë‚´ìš©ì„ ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.');
        return;
      }
      
      this.isSubmitting = true;
      
      try {
        const method = this.editingUnit ? 'PUT' : 'POST';
        const url = this.editingUnit 
          ? `/api/curriculum-units/${this.editingUnit.id}`
          : '/api/curriculum-units';
        
        const response = await fetch(url, {
          method: method,
          headers: {
            'Content-Type': 'application/json; charset=utf-8',
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          },
          body: JSON.stringify(this.formData)
        });
        
        if (response.ok) {
          const result = await response.json();
          
          // ì„±ê³µ ì´ë²¤íŠ¸ ë°œì†¡
          this.$dispatch('curriculum-unit-saved', {
            unit: result.data,
            isEdit: !!this.editingUnit
          });
          
          alert(`êµìœ¡ê³¼ì • ë‹¨ì›ì´ ì„±ê³µì ìœ¼ë¡œ ${this.editingUnit ? 'ìˆ˜ì •' : 'ì¶”ê°€'}ë˜ì—ˆìŠµë‹ˆë‹¤.`);
          
          // í¼ ì´ˆê¸°í™”
          if (!this.editingUnit) {
            this.resetForm();
          }
        } else {
          const error = await response.json();
          alert(error.message || 'ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
      } catch (error) {
        console.error('êµìœ¡ê³¼ì • ë‹¨ì› ì €ì¥ ì˜¤ë¥˜:', error);
        alert('ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      } finally {
        this.isSubmitting = false;
      }
    },
    
    // ì·¨ì†Œ ì²˜ë¦¬
    handleCancel() {
      this.$dispatch('curriculum-unit-cancel');
    },
    
    // í¼ ì´ˆê¸°í™”
    resetForm() {
      this.formData = {
        unit_number: 1,
        unit_title: '',
        achievement_standards: [''],
        educational_content: {
          main_topics: [''],
          activities: [''],
          materials: [''],
          teaching_methods: ['']
        },
        evaluation_plan: {
          methods: [''],
          criteria: [''],
          tools: [''],
          frequency: ''
        }
      };
      this.editingUnit = null;
      this.errors = {};
    }
  };
}
</script>
```

### 5.6.3 CurriculumList ì»´í¬ë„ŒíŠ¸
```html
<!-- êµìœ¡ê³¼ì • ëª©ë¡ ì»´í¬ë„ŒíŠ¸ -->
<div class="curriculum-list" 
     x-data="curriculumList()"
     x-init="loadUnits()">
  
  <!-- ë¡œë”© ìƒíƒœ -->
  <div x-show="isLoading" class="flex justify-center py-8">
    <svg class="animate-spin h-8 w-8 text-blue-500" fill="none" viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
      <path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
    </svg>
  </div>
  
  <!-- ë¹ˆ ìƒíƒœ -->
  <div x-show="!isLoading && units.length === 0" 
       class="text-center py-12 text-gray-500">
    <svg class="mx-auto h-12 w-12 text-gray-400 mb-4" fill="none" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
    </svg>
    <p class="text-lg font-medium mb-2">ë“±ë¡ëœ êµìœ¡ê³¼ì •ì´ ì—†ìŠµë‹ˆë‹¤</p>
    <p class="text-sm">ìƒˆë¡œìš´ êµìœ¡ê³¼ì • ë‹¨ì›ì„ ì¶”ê°€í•´ë³´ì„¸ìš”.</p>
  </div>
  
  <!-- êµìœ¡ê³¼ì • ëª©ë¡ -->
  <div x-show="!isLoading && units.length > 0" class="space-y-4">
    <template x-for="unit in filteredUnits" :key="unit.id">
      <div class="bg-white border border-gray-200 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow">
        <!-- í—¤ë” -->
        <div class="flex justify-between items-start mb-4">
          <div class="flex-1">
            <h3 class="text-lg font-semibold text-gray-800" x-text="`${unit.unit_number}. ${unit.unit_title}`"></h3>
            <div class="text-sm text-gray-500 mt-1">
              <span x-text="unit.subject || 'êµê³¼'"></span>
              <span class="mx-2">|</span>
              <span x-text="`${unit.grade || 0}í•™ë…„ ${unit.semester || 0}í•™ê¸°`"></span>
              <span class="mx-2">|</span>
              <span x-text="formatDate(unit.created_at)"></span>
            </div>
          </div>
          
          <!-- ì•¡ì…˜ ë²„íŠ¼ -->
          <div class="flex space-x-2">
            <button
              @click="handleEdit(unit)"
              class="px-3 py-2 text-sm text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50 transition-colors"
              style="min-height: 40px;"
            >
              ìˆ˜ì •
            </button>
            <button
              @click="handleDelete(unit.id, unit.unit_title)"
              class="px-3 py-2 text-sm text-red-600 border border-red-600 rounded-lg hover:bg-red-50 transition-colors"
              style="min-height: 40px;"
            >
              ì‚­ì œ
            </button>
          </div>
        </div>
        
        <!-- ì½˜í…ì¸  ê·¸ë¦¬ë“œ -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- ì„±ì·¨ê¸°ì¤€ -->
          <div>
            <h4 class="font-medium text-gray-700 mb-3 flex items-center">
              <svg class="w-4 h-4 mr-2 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
              ì„±ì·¨ê¸°ì¤€
            </h4>
            <div x-show="unit.achievement_standards && unit.achievement_standards.length > 0">
              <ul class="text-sm text-gray-600 space-y-2">
                <template x-for="(standard, index) in unit.achievement_standards" :key="index">
                  <li class="flex items-start" x-show="standard.trim()">
                    <span class="text-green-600 mr-2 mt-1 flex-shrink-0">â€¢</span>
                    <span x-text="standard" class="break-words"></span>
                  </li>
                </template>
              </ul>
            </div>
            <div x-show="!unit.achievement_standards || unit.achievement_standards.length === 0" 
                 class="text-sm text-gray-400 italic">
              ì„±ì·¨ê¸°ì¤€ì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
            </div>
          </div>
          
          <!-- ì£¼ìš” ë‚´ìš© -->
          <div>
            <h4 class="font-medium text-gray-700 mb-3 flex items-center">
              <svg class="w-4 h-4 mr-2 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
              ì£¼ìš” ë‚´ìš©
            </h4>
            <div x-show="unit.educational_content && unit.educational_content.main_topics && unit.educational_content.main_topics.length > 0">
              <div class="text-sm text-gray-600" x-text="formatTopics(unit.educational_content.main_topics)"></div>
            </div>
            <div x-show="!unit.educational_content || !unit.educational_content.main_topics || unit.educational_content.main_topics.length === 0" 
                 class="text-sm text-gray-400 italic">
              ì£¼ìš” ë‚´ìš©ì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
            </div>
          </div>
        </div>
        
        <!-- í‰ê°€ ê³„íš (ì ‘ì„ ìˆ˜ ìˆëŠ” ì„¹ì…˜) -->
        <div x-show="unit.evaluation_plan && (unit.evaluation_plan.methods?.length > 0 || unit.evaluation_plan.criteria?.length > 0)" 
             class="mt-6 pt-4 border-t border-gray-200">
          <div x-data="{ expanded: false }">
            <button @click="expanded = !expanded" 
                    class="flex items-center justify-between w-full text-left">
              <h4 class="font-medium text-gray-700 flex items-center">
                <svg class="w-4 h-4 mr-2 text-purple-600" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"/>
                  <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"/>
                </svg>
                í‰ê°€ ê³„íš
              </h4>
              <svg x-show="!expanded" class="w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
              </svg>
              <svg x-show="expanded" class="w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z" clip-rule="evenodd"/>
              </svg>
            </button>
            <div x-show="expanded" x-transition class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-4">
              <div x-show="unit.evaluation_plan.methods?.length > 0">
                <span class="text-xs font-medium text-gray-500 uppercase tracking-wide">í‰ê°€ ë°©ë²•</span>
                <div class="mt-1 text-sm text-gray-600" x-text="unit.evaluation_plan.methods.filter(m => m.trim()).join(', ')"></div>
              </div>
              <div x-show="unit.evaluation_plan.criteria?.length > 0">
                <span class="text-xs font-medium text-gray-500 uppercase tracking-wide">í‰ê°€ ê¸°ì¤€</span>
                <div class="mt-1 text-sm text-gray-600" x-text="unit.evaluation_plan.criteria.filter(c => c.trim()).join(', ')"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </template>
  </div>
  
  <!-- í˜ì´ì§€ë„¤ì´ì…˜ (ì„ íƒì ) -->
  <div x-show="totalPages > 1" class="flex justify-center mt-6">
    <nav class="flex items-center space-x-2">
      <button 
        @click="goToPage(currentPage - 1)"
        :disabled="currentPage === 1"
        class="px-3 py-2 text-sm text-gray-600 hover:text-blue-600 disabled:text-gray-300 disabled:cursor-not-allowed"
      >
        ì´ì „
      </button>
      
      <template x-for="page in visiblePages" :key="page">
        <button 
          @click="goToPage(page)"
          :class="page === currentPage ? 'bg-blue-600 text-white' : 'text-gray-600 hover:text-blue-600'"
          class="px-3 py-2 text-sm rounded-lg transition-colors"
          x-text="page"
        ></button>
      </template>
      
      <button 
        @click="goToPage(currentPage + 1)"
        :disabled="currentPage === totalPages"
        class="px-3 py-2 text-sm text-gray-600 hover:text-blue-600 disabled:text-gray-300 disabled:cursor-not-allowed"
      >
        ë‹¤ìŒ
      </button>
    </nav>
  </div>
</div>

<script>
function curriculumList() {
  return {
    // ë°ì´í„°
    units: [],
    filteredUnits: [],
    
    // ìƒíƒœ
    isLoading: false,
    error: null,
    
    // í˜ì´ì§€ë„¤ì´ì…˜
    currentPage: 1,
    itemsPerPage: 10,
    totalPages: 1,
    
    // ì´ˆê¸°í™”
    async loadUnits() {
      this.isLoading = true;
      this.error = null;
      
      try {
        const response = await fetch('/api/curriculum-units', {
          headers: {
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          }
        });
        
        if (response.ok) {
          const result = await response.json();
          this.units = result.data || [];
          this.applyFilters();
          this.updatePagination();
        } else {
          const error = await response.json();
          this.error = error.message || 'êµìœ¡ê³¼ì • ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.';
        }
      } catch (error) {
        console.error('êµìœ¡ê³¼ì • ëª©ë¡ ë¡œë“œ ì˜¤ë¥˜:', error);
        this.error = 'ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
      } finally {
        this.isLoading = false;
      }
    },
    
    // í•„í„° ì ìš©
    applyFilters() {
      this.filteredUnits = [...this.units];
      
      // ì •ë ¬ (ë‹¨ì› ë²ˆí˜¸ ìˆœ)
      this.filteredUnits.sort((a, b) => (a.unit_number || 0) - (b.unit_number || 0));
    },
    
    // í˜ì´ì§€ë„¤ì´ì…˜ ì—…ë°ì´íŠ¸
    updatePagination() {
      this.totalPages = Math.ceil(this.filteredUnits.length / this.itemsPerPage);
      
      // í˜„ì¬ í˜ì´ì§€ì˜ ë°ì´í„°ë§Œ í‘œì‹œ
      const startIndex = (this.currentPage - 1) * this.itemsPerPage;
      const endIndex = startIndex + this.itemsPerPage;
      this.filteredUnits = this.filteredUnits.slice(startIndex, endIndex);
    },
    
    // í˜ì´ì§€ ì´ë™
    goToPage(page) {
      if (page >= 1 && page <= this.totalPages) {
        this.currentPage = page;
        this.applyFilters();
        this.updatePagination();
      }
    },
    
    // í‘œì‹œí•  í˜ì´ì§€ ë²ˆí˜¸ë“¤
    get visiblePages() {
      const pages = [];
      const maxVisible = 5;
      const start = Math.max(1, this.currentPage - Math.floor(maxVisible / 2));
      const end = Math.min(this.totalPages, start + maxVisible - 1);
      
      for (let i = start; i <= end; i++) {
        pages.push(i);
      }
      return pages;
    },
    
    // ë‚ ì§œ í¬ë§·íŒ…
    formatDate(dateString) {
      if (!dateString) return '';
      
      const date = new Date(dateString);
      return date.toLocaleDateString('ko-KR', {
        year: 'numeric',
        month: 'short',
        day: 'numeric'
      });
    },
    
    // ì£¼ì œ í¬ë§·íŒ…
    formatTopics(topics) {
      if (!topics || !Array.isArray(topics)) return '';
      
      const validTopics = topics.filter(topic => topic && topic.trim());
      
      if (validTopics.length === 0) return '';
      if (validTopics.length <= 3) return validTopics.join(', ');
      
      return validTopics.slice(0, 3).join(', ') + ` ì™¸ ${validTopics.length - 3}ê°œ`;
    },
    
    // ìˆ˜ì • ì²˜ë¦¬
    handleEdit(unit) {
      // UTF-8 ê²€ì¦
      if (unit.unit_title && !this.validateUTF8(unit.unit_title)) {
        alert('êµìœ¡ê³¼ì • ë°ì´í„°ì— ì¸ì½”ë”© ì˜¤ë¥˜ê°€ ìˆìŠµë‹ˆë‹¤.');
        return;
      }
      
      this.$dispatch('curriculum-unit-edit', { unit });
    },
    
    // ì‚­ì œ ì²˜ë¦¬
    async handleDelete(unitId, unitTitle) {
      // UTF-8 ê²€ì¦
      if (unitTitle && !this.validateUTF8(unitTitle)) {
        alert('êµìœ¡ê³¼ì • ë°ì´í„°ì— ì¸ì½”ë”© ì˜¤ë¥˜ê°€ ìˆìŠµë‹ˆë‹¤.');
        return;
      }
      
      const confirmed = confirm(`"${unitTitle}" ë‹¨ì›ì„ ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`);
      
      if (!confirmed) return;
      
      try {
        const response = await fetch(`/api/curriculum-units/${unitId}`, {
          method: 'DELETE',
          headers: {
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          }
        });
        
        if (response.ok) {
          // ë¡œì»¬ì—ì„œ ì œê±°
          this.units = this.units.filter(unit => unit.id !== unitId);
          this.applyFilters();
          this.updatePagination();
          
          // ì„±ê³µ ì´ë²¤íŠ¸ ë°œì†¡
          this.$dispatch('curriculum-unit-deleted', { unitId, unitTitle });
          
          alert('êµìœ¡ê³¼ì • ë‹¨ì›ì´ ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
        } else {
          const error = await response.json();
          alert(error.message || 'ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
      } catch (error) {
        console.error('êµìœ¡ê³¼ì • ë‹¨ì› ì‚­ì œ ì˜¤ë¥˜:', error);
        alert('ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      }
    },
    
    // ìƒˆë¡œê³ ì¹¨
    refresh() {
      this.loadUnits();
    },
    
    // UTF-8 ê²€ì¦ í•¨ìˆ˜
    validateUTF8(text) {
      try {
        const encoded = new TextEncoder().encode(text);
        const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
        return decoded === text;
      } catch (error) {
        console.error('UTF-8 ì¸ì½”ë”© ì˜¤ë¥˜:', error);
        return false;
      }
    }
  };
}
</script>
```

---

## 5.7 Alpine.js ìœ í‹¸ë¦¬í‹° íŒ¨í„´

### 5.7.1 Alpine.js í¼ ê´€ë¦¬ íŒ¨í„´
```javascript
// Alpine.js ê¸°ë°˜ í¼ ê´€ë¦¬ ìœ í‹¸ë¦¬í‹°
const createFormManager = (initialValues, validationRules = {}) => {
  return {
    // í¼ ë°ì´í„°
    formData: { ...initialValues },
    originalData: { ...initialValues },
    
    // ìƒíƒœ
    errors: {},
    isSubmitting: false,
    isDirty: false,
    isValid: true,
    
    // UTF-8 ê²€ì¦ í•¨ìˆ˜
    validateUTF8(text, fieldName) {
      if (!text) return true;
      
      try {
        const encoded = new TextEncoder().encode(text);
        const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
        return decoded === text;
      } catch (error) {
        console.error(`${fieldName} UTF-8 ì¸ì½”ë”© ì˜¤ë¥˜:`, error);
        this.errors[fieldName] = 'UTF-8 ì¸ì½”ë”© ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
        return false;
      }
    },
    
    // í•„ë“œ ê°’ ë³€ê²½
    handleFieldChange(fieldName, value) {
      // UTF-8 ê²€ì¦
      if (typeof value === 'string' && !this.validateUTF8(value, fieldName)) {
        return false;
      }
      
      this.formData[fieldName] = value;
      this.isDirty = JSON.stringify(this.formData) !== JSON.stringify(this.originalData);
      
      // ì—ëŸ¬ ì´ˆê¸°í™”
      if (this.errors[fieldName]) {
        delete this.errors[fieldName];
      }
      
      // ì‹¤ì‹œê°„ ìœ íš¨ì„± ê²€ì‚¬
      this.validateField(fieldName);
      
      return true;
    },
    
    // ê°œë³„ í•„ë“œ ìœ íš¨ì„± ê²€ì‚¬
    validateField(fieldName) {
      const value = this.formData[fieldName];
      const rule = validationRules[fieldName];
      
      if (!rule) return true;
      
      // í•„ìˆ˜ í•­ëª© ê²€ì‚¬
      if (rule.required && (!value || String(value).trim() === '')) {
        this.errors[fieldName] = rule.message || `${fieldName}ì€(ëŠ”) í•„ìˆ˜ ì…ë ¥ í•­ëª©ì…ë‹ˆë‹¤.`;
        return false;
      }
      
      // ìµœì†Œ/ìµœëŒ€ ê¸¸ì´ ê²€ì‚¬
      if (rule.minLength && String(value).length < rule.minLength) {
        this.errors[fieldName] = `ìµœì†Œ ${rule.minLength}ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”.`;
        return false;
      }
      
      if (rule.maxLength && String(value).length > rule.maxLength) {
        this.errors[fieldName] = `ìµœëŒ€ ${rule.maxLength}ìê¹Œì§€ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.`;
        return false;
      }
      
      // íŒ¨í„´ ê²€ì‚¬
      if (rule.pattern && !rule.pattern.test(String(value))) {
        this.errors[fieldName] = rule.patternMessage || 'ì˜¬ë°”ë¥¸ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.';
        return false;
      }
      
      // ì»¤ìŠ¤í…€ ìœ íš¨ì„± ê²€ì‚¬ í•¨ìˆ˜
      if (rule.validator && typeof rule.validator === 'function') {
        const result = rule.validator(value);
        if (result !== true) {
          this.errors[fieldName] = result || 'ìœ íš¨ì„± ê²€ì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.';
          return false;
        }
      }
      
      // ìœ íš¨í•˜ë©´ ì—ëŸ¬ ì œê±°
      delete this.errors[fieldName];
      return true;
    },
    
    // ì „ì²´ í¼ ìœ íš¨ì„± ê²€ì‚¬
    validateForm() {
      this.errors = {};
      let isValid = true;
      
      Object.keys(validationRules).forEach(fieldName => {
        if (!this.validateField(fieldName)) {
          isValid = false;
        }
      });
      
      this.isValid = isValid;
      return isValid;
    },
    
    // í¼ ì œì¶œ
    async submitForm(submitHandler) {
      if (this.isSubmitting) return;
      
      // ì „ì²´ ìœ íš¨ì„± ê²€ì‚¬
      if (!this.validateForm()) {
        alert('ì…ë ¥ ë‚´ìš©ì„ ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.');
        return;
      }
      
      this.isSubmitting = true;
      
      try {
        // UTF-8 ê²€ì¦ (ì „ì²´ ë°ì´í„°)
        for (const [key, value] of Object.entries(this.formData)) {
          if (typeof value === 'string' && !this.validateUTF8(value, key)) {
            this.isSubmitting = false;
            return;
          }
        }
        
        // ì œì¶œ í•¸ë“¤ëŸ¬ ì‹¤í–‰
        const result = await submitHandler(this.formData);
        
        if (result && result.success) {
          // ì„±ê³µ ì‹œ ì›ë³¸ ë°ì´í„° ì—…ë°ì´íŠ¸
          this.originalData = { ...this.formData };
          this.isDirty = false;
        }
        
        return result;
      } catch (error) {
        console.error('í¼ ì œì¶œ ì˜¤ë¥˜:', error);
        const errorMessage = error.message || 'í¼ ì œì¶œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
        
        // ì„œë²„ ì˜¤ë¥˜ë¥¼ í¼ ì—ëŸ¬ë¡œ ë§¤í•‘
        if (error.field) {
          this.errors[error.field] = errorMessage;
        } else {
          alert(errorMessage);
        }
        
        throw error;
      } finally {
        this.isSubmitting = false;
      }
    },
    
    // í¼ ì´ˆê¸°í™”
    resetForm() {
      this.formData = { ...initialValues };
      this.originalData = { ...initialValues };
      this.errors = {};
      this.isDirty = false;
      this.isValid = true;
    },
    
    // ë³€ê²½ì‚¬í•­ ë˜ëŒë¦¬ê¸°
    revertChanges() {
      this.formData = { ...this.originalData };
      this.errors = {};
      this.isDirty = false;
    },
    
    // íŠ¹ì • í•„ë“œ ì—ëŸ¬ ì„¤ì •
    setFieldError(fieldName, errorMessage) {
      this.errors[fieldName] = errorMessage;
      this.isValid = Object.keys(this.errors).length === 0;
    },
    
    // ì—ëŸ¬ ê°œìˆ˜ ê³„ì‚°
    get errorCount() {
      return Object.keys(this.errors).length;
    },
    
    // í•„ë“œê°€ ì—ëŸ¬ê°€ ìˆëŠ”ì§€ í™•ì¸
    hasFieldError(fieldName) {
      return !!this.errors[fieldName];
    }
  };
};
```

### 5.7.2 Alpine.js API ê´€ë¦¬ íŒ¨í„´
```javascript
// Alpine.js ê¸°ë°˜ API ê´€ë¦¬ ìœ í‹¸ë¦¬í‹°
const createApiManager = () => {
  return {
    // ìƒíƒœ
    isLoading: false,
    error: null,
    data: null,
    lastResponse: null,
    
    // ê¸°ë³¸ ì„¤ì •
    baseURL: '/api',
    defaultHeaders: {
      'Content-Type': 'application/json; charset=utf-8',
      'Accept': 'application/json'
    },
    
    // ì¸ì¦ í—¤ë” ì¶”ê°€
    getAuthHeaders() {
      const token = Alpine.store('auth')?.token;
      return token ? { 'Authorization': `Bearer ${token}` } : {};
    },
    
    // UTF-8 ì•ˆì „ JSON íŒŒì‹±
    safeJsonParse(text) {
      try {
        // UTF-8 ê²€ì¦
        const encoded = new TextEncoder().encode(text);
        const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
        
        if (decoded !== text) {
          throw new Error('UTF-8 ì¸ì½”ë”© ì˜¤ë¥˜');
        }
        
        return JSON.parse(text);
      } catch (error) {
        console.error('JSON íŒŒì‹± ì˜¤ë¥˜:', error);
        throw new Error('ì‘ë‹µ ë°ì´í„° íŒŒì‹±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
      }
    },
    
    // HTTP ìš”ì²­ ì‹¤í–‰
    async request(method, endpoint, data = null, options = {}) {
      this.isLoading = true;
      this.error = null;
      
      try {
        const url = endpoint.startsWith('http') ? endpoint : `${this.baseURL}${endpoint}`;
        
        const config = {
          method: method.toUpperCase(),
          headers: {
            ...this.defaultHeaders,
            ...this.getAuthHeaders(),
            ...options.headers
          },
          ...options
        };
        
        // POST, PUT, PATCH ìš”ì²­ì— ë°ì´í„° ì¶”ê°€
        if (data && ['POST', 'PUT', 'PATCH'].includes(config.method)) {
          // UTF-8 ì•ˆì „ì„± ê²€ì‚¬
          const dataString = JSON.stringify(data);
          const encoded = new TextEncoder().encode(dataString);
          const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
          
          if (decoded !== dataString) {
            throw new Error('ìš”ì²­ ë°ì´í„°ì— UTF-8 ì¸ì½”ë”© ì˜¤ë¥˜ê°€ ìˆìŠµë‹ˆë‹¤.');
          }
          
          config.body = dataString;
        }
        
        const response = await fetch(url, config);
        this.lastResponse = response;
        
        // ì‘ë‹µ ì²˜ë¦¬
        const responseText = await response.text();
        
        let responseData = null;
        if (responseText) {
          try {
            responseData = this.safeJsonParse(responseText);
          } catch (parseError) {
            // JSONì´ ì•„ë‹Œ ê²½ìš° í…ìŠ¤íŠ¸ë¡œ ì²˜ë¦¬
            responseData = responseText;
          }
        }
        
        if (!response.ok) {
          const errorMessage = responseData?.message || 
                             responseData?.error || 
                             `HTTP ${response.status}: ${response.statusText}`;
          throw new Error(errorMessage);
        }
        
        this.data = responseData;
        return responseData;
        
      } catch (error) {
        console.error('API ìš”ì²­ ì˜¤ë¥˜:', error);
        this.error = error.message || 'ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
        throw error;
      } finally {
        this.isLoading = false;
      }
    },
    
    // GET ìš”ì²­
    async get(endpoint, options = {}) {
      return this.request('GET', endpoint, null, options);
    },
    
    // POST ìš”ì²­
    async post(endpoint, data, options = {}) {
      return this.request('POST', endpoint, data, options);
    },
    
    // PUT ìš”ì²­
    async put(endpoint, data, options = {}) {
      return this.request('PUT', endpoint, data, options);
    },
    
    // PATCH ìš”ì²­
    async patch(endpoint, data, options = {}) {
      return this.request('PATCH', endpoint, data, options);
    },
    
    // DELETE ìš”ì²­
    async delete(endpoint, options = {}) {
      return this.request('DELETE', endpoint, null, options);
    },
    
    // íŒŒì¼ ì—…ë¡œë“œ
    async uploadFile(endpoint, file, additionalData = {}, onProgress = null) {
      this.isLoading = true;
      this.error = null;
      
      try {
        const formData = new FormData();
        formData.append('file', file);
        
        // ì¶”ê°€ ë°ì´í„° ì¶”ê°€
        Object.entries(additionalData).forEach(([key, value]) => {
          // UTF-8 ê²€ì¦
          if (typeof value === 'string') {
            const encoded = new TextEncoder().encode(value);
            const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
            if (decoded !== value) {
              throw new Error(`${key} í•„ë“œì— UTF-8 ì¸ì½”ë”© ì˜¤ë¥˜ê°€ ìˆìŠµë‹ˆë‹¤.`);
            }
          }
          formData.append(key, value);
        });
        
        const config = {
          method: 'POST',
          headers: {
            ...this.getAuthHeaders()
            // Content-Typeì€ FormDataê°€ ìë™ ì„¤ì •
          },
          body: formData
        };
        
        // ì§„í–‰ë¥  ì¶”ì 
        if (onProgress && typeof onProgress === 'function') {
          const xhr = new XMLHttpRequest();
          
          return new Promise((resolve, reject) => {
            xhr.upload.addEventListener('progress', (event) => {
              if (event.lengthComputable) {
                const percentComplete = (event.loaded / event.total) * 100;
                onProgress(Math.round(percentComplete));
              }
            });
            
            xhr.addEventListener('load', () => {
              this.isLoading = false;
              
              if (xhr.status >= 200 && xhr.status < 300) {
                try {
                  const responseData = this.safeJsonParse(xhr.responseText);
                  this.data = responseData;
                  resolve(responseData);
                } catch (error) {
                  this.error = 'ì‘ë‹µ íŒŒì‹± ì˜¤ë¥˜';
                  reject(new Error(this.error));
                }
              } else {
                this.error = `ì—…ë¡œë“œ ì‹¤íŒ¨: ${xhr.status}`;
                reject(new Error(this.error));
              }
            });
            
            xhr.addEventListener('error', () => {
              this.isLoading = false;
              this.error = 'ì—…ë¡œë“œ ì¤‘ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
              reject(new Error(this.error));
            });
            
            xhr.open('POST', `${this.baseURL}${endpoint}`);
            
            // ì¸ì¦ í—¤ë” ì¶”ê°€
            const authHeaders = this.getAuthHeaders();
            Object.entries(authHeaders).forEach(([key, value]) => {
              xhr.setRequestHeader(key, value);
            });
            
            xhr.send(formData);
          });
        } else {
          // ê¸°ë³¸ fetch ì‚¬ìš©
          const url = `${this.baseURL}${endpoint}`;
          const response = await fetch(url, config);
          
          const responseText = await response.text();
          const responseData = responseText ? this.safeJsonParse(responseText) : null;
          
          if (!response.ok) {
            const errorMessage = responseData?.message || `ì—…ë¡œë“œ ì‹¤íŒ¨: ${response.status}`;
            throw new Error(errorMessage);
          }
          
          this.data = responseData;
          return responseData;
        }
        
      } catch (error) {
        console.error('íŒŒì¼ ì—…ë¡œë“œ ì˜¤ë¥˜:', error);
        this.error = error.message || 'íŒŒì¼ ì—…ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
        throw error;
      } finally {
        this.isLoading = false;
      }
    },
    
    // ìƒíƒœ ì´ˆê¸°í™”
    reset() {
      this.isLoading = false;
      this.error = null;
      this.data = null;
      this.lastResponse = null;
    },
    
    // ì—ëŸ¬ ìƒíƒœì¸ì§€ í™•ì¸
    get hasError() {
      return !!this.error;
    },
    
    // ì„±ê³µ ìƒíƒœì¸ì§€ í™•ì¸
    get isSuccess() {
      return !this.error && !this.isLoading && this.data !== null;
    }
  };
};
```

---

## ğŸ“‹ **ì²´í¬ë¦¬ìŠ¤íŠ¸**

### ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸
- [ ] Button, Modal, FormField ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- [ ] Select, Checkbox, Radio ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- [ ] Loading, Error ì»´í¬ë„ŒíŠ¸ êµ¬í˜„

### ë³µí•© ì»´í¬ë„ŒíŠ¸
- [ ] StudentForm, StudentList ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- [ ] Calendar, QuickLinksGrid ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- [ ] DataTable, Pagination ì»´í¬ë„ŒíŠ¸ êµ¬í˜„

### ì»¤ìŠ¤í…€ í›…
- [ ] useForm, useApi í›… êµ¬í˜„
- [ ] useLocalStorage, useDebounce í›… êµ¬í˜„
- [ ] useAuth, usePermissions í›… êµ¬í˜„

---

## 5.8 AI ê¸°ë°˜ í•µì‹¬ ì„œë¹„ìŠ¤ ì»´í¬ë„ŒíŠ¸

### 5.8.1 AI êµìœ¡ê³„íš ìƒì„± ì»´í¬ë„ŒíŠ¸
```html
<!-- AI êµìœ¡ê³„íš ìƒì„± ì»´í¬ë„ŒíŠ¸ -->
<div class="bg-white rounded-lg shadow-md p-6" 
     x-data="aiEducationPlanGenerator()" 
     x-init="initComponent()">
  <div class="flex items-center justify-between mb-4">
    <h3 class="text-lg font-semibold text-gray-800">
      AI ê°œë³„í™”êµìœ¡ ê³„íš ìƒì„±
    </h3>
    <button
      @click="handleGenerate()"
      :disabled="isGenerating"
      class="px-4 py-2 rounded-lg text-white font-medium transition-all"
      :class="isGenerating ? 'bg-gray-400 cursor-not-allowed' : 'bg-gradient-to-r from-pink-500 to-violet-500 hover:from-pink-600 hover:to-violet-600'"
    >
      <span x-show="!isGenerating">ê³„íš ìƒì„±</span>
      <span x-show="isGenerating" class="flex items-center space-x-2">
        <svg class="animate-spin h-4 w-4" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        <span>AI ìƒì„± ì¤‘...</span>
      </span>
    </button>
  </div>
  
  <!-- ìƒì„±ëœ ê³„íš í‘œì‹œ -->
  <div x-show="generatedPlan" x-transition class="space-y-4">
    <div class="flex items-center space-x-2">
      <span class="text-sm text-gray-600">ì‹ ë¢°ë„:</span>
      <div class="flex-1 bg-gray-200 rounded-full h-2">
        <div 
          class="bg-gradient-to-r from-emerald-400 to-cyan-500 h-2 rounded-full transition-all duration-500"
          :style="`width: ${confidence * 100}%`"
        ></div>
      </div>
      <span class="text-sm font-medium" x-text="Math.round(confidence * 100) + '%'"></span>
    </div>
    
    <!-- ì£¼ì˜ì‚¬í•­ -->
    <div x-show="warnings.length > 0" 
         x-transition
         class="bg-amber-50 border border-amber-200 rounded-lg p-3">
      <h4 class="text-sm font-medium text-amber-800 mb-2">âš ï¸ ì£¼ì˜ì‚¬í•­</h4>
      <ul class="text-sm text-amber-700 space-y-1">
        <template x-for="(warning, index) in warnings" :key="index">
          <li>â€¢ <span x-text="warning"></span></li>
        </template>
      </ul>
    </div>
    
    <!-- ê°œì„  ì œì•ˆ -->
    <div x-show="suggestions.length > 0" 
         x-transition
         class="bg-blue-50 border border-blue-200 rounded-lg p-3">
      <h4 class="text-sm font-medium text-blue-800 mb-2">ğŸ’¡ ê°œì„  ì œì•ˆ</h4>
      <ul class="text-sm text-blue-700 space-y-1">
        <template x-for="(suggestion, index) in suggestions" :key="index">
          <li>â€¢ <span x-text="suggestion"></span></li>
        </template>
      </ul>
    </div>
    
    <!-- ìƒì„±ëœ êµìœ¡ê³„íš -->
    <div class="bg-gray-50 rounded-lg p-4">
      <h4 class="font-medium text-gray-800 mb-2">ìƒì„±ëœ êµìœ¡ê³„íš</h4>
      <div class="prose prose-sm max-w-none" x-html="generatedPlan?.content || ''"></div>
    </div>
  </div>
  
  <!-- ì—ëŸ¬ ë©”ì‹œì§€ -->
  <div x-show="errorMessage" 
       x-transition
       class="mt-4 bg-red-50 border border-red-200 rounded-lg p-3">
    <div class="flex items-center space-x-2">
      <svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
      </svg>
      <p class="text-sm text-red-700" x-text="errorMessage"></p>
    </div>
  </div>
</div>

<script>
function aiEducationPlanGenerator() {
  return {
    // ì»´í¬ë„ŒíŠ¸ props (ì´ˆê¸°í™” ì‹œ ì„¤ì •)
    studentId: '',
    subject: 'êµ­ì–´', // 'êµ­ì–´' | 'ìˆ˜í•™'
    unit: '',
    
    // ìƒíƒœ ë³€ìˆ˜
    isGenerating: false,
    generatedPlan: null,
    confidence: 0,
    warnings: [],
    suggestions: [],
    errorMessage: '',
    
    // ì´ˆê¸°í™”
    initComponent() {
      // ì „ì—­ ìŠ¤í† ì–´ì—ì„œ í˜„ì¬ ì„ íƒëœ í•™ìƒ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
      const studentsStore = Alpine.store('students');
      if (studentsStore.selectedStudent) {
        this.studentId = studentsStore.selectedStudent.id;
      }
      
      // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
      this.$el.addEventListener('ai:education-plan-request', (event) => {
        const { studentId, subject, unit } = event.detail;
        this.studentId = studentId;
        this.subject = subject;
        this.unit = unit;
        this.handleGenerate();
      });
    },
    
    // UTF-8 ì¸ì½”ë”© ê²€ì¦
    validateUTF8(text) {
      try {
        const encoded = new TextEncoder().encode(text);
        const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
        return decoded === text;
      } catch (error) {
        console.error('UTF-8 ì¸ì½”ë”© ì˜¤ë¥˜:', error);
        return false;
      }
    },
    
    // AI êµìœ¡ê³„íš ìƒì„±
    async handleGenerate() {
      if (!this.studentId || !this.subject || !this.unit) {
        this.errorMessage = 'í•„ìˆ˜ ì •ë³´(í•™ìƒ, ê³¼ëª©, ë‹¨ì›)ê°€ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤.';
        return;
      }
      
      this.isGenerating = true;
      this.errorMessage = '';
      this.generatedPlan = null;
      
      try {
        // HTMXë¥¼ í†µí•œ Supabase Edge Function í˜¸ì¶œ
        const response = await fetch('/api/ai/generate-education-plan', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          },
          body: JSON.stringify({
            student_id: this.studentId,
            subject: this.subject,
            unit: this.unit,
            standards: [], // êµìœ¡ê³¼ì •ì—ì„œ ê°€ì ¸ì˜¤ê¸°
            teacher_preferences: {} // ì‚¬ìš©ì ì„¤ì •ì—ì„œ ê°€ì ¸ì˜¤ê¸°
          })
        });
        
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const result = await response.json();
        
        if (result.success) {
          // UTF-8 ì•ˆì „ì„± ê²€ì¦
          if (!this.validateUTF8(result.data.content)) {
            throw new Error('ìƒì„±ëœ ê³„íšì— ì¸ì½”ë”© ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.');
          }
          
          this.generatedPlan = result.data;
          this.confidence = result.data.confidence || 0;
          this.warnings = result.data.warnings || [];
          this.suggestions = result.data.suggestions || [];
          
          // ì„±ê³µ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
          this.$dispatch('ai:education-plan-generated', {
            plan: result.data,
            studentId: this.studentId
          });
          
          // êµìœ¡ ìƒíƒœ ìŠ¤í† ì–´ ì—…ë°ì´íŠ¸
          const educationStore = Alpine.store('education');
          if (educationStore.addGeneratedPlan) {
            educationStore.addGeneratedPlan(this.studentId, result.data);
          }
        } else {
          this.errorMessage = result.error?.message || 'AI êµìœ¡ê³„íš ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.';
        }
      } catch (error) {
        console.error('AI êµìœ¡ê³„íš ìƒì„± ì˜¤ë¥˜:', error);
        this.errorMessage = 'ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
      } finally {
        this.isGenerating = false;
      }
    },
    
    // ê³„íš ìŠ¹ì¸ ë° ì €ì¥
    approvePlan() {
      if (!this.generatedPlan) return;
      
      // ìŠ¹ì¸ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
      this.$dispatch('ai:education-plan-approved', {
        plan: this.generatedPlan,
        studentId: this.studentId
      });
      
      // HTMXë¥¼ í†µí•´ ì„œë²„ì— ì €ì¥ ìš”ì²­
      htmx.trigger(this.$el, 'hx:trigger', {
        target: '/api/education/save-plan',
        values: {
          student_id: this.studentId,
          plan: JSON.stringify(this.generatedPlan)
        }
      });
    }
  };
}
</script>
```
    </div>
  );
};
```

### 5.8.2 AI í•™êµì¥ ì˜ê²¬ì„œ ìƒì„± ì»´í¬ë„ŒíŠ¸
```html
<!-- AI í•™êµì¥ ì˜ê²¬ì„œ ìƒì„± ì»´í¬ë„ŒíŠ¸ -->
<div class="bg-white rounded-lg shadow-md p-6" 
     x-data="aiSchoolOpinionGenerator()" 
     x-init="initComponent()">
  <div class="flex items-center justify-between mb-4">
    <h3 class="text-lg font-semibold text-gray-800">
      AI í•™êµì¥ ì˜ê²¬ì„œ ìƒì„± (<span x-text="opinionTypeLabels[opinionType]"></span>)
    </h3>
    <button x-show="!previewMode"
            @click="handleGenerate()"
            :disabled="isGenerating"
            class="px-4 py-2 rounded-lg text-white font-medium transition-all"
            :class="isGenerating ? 'bg-gray-400 cursor-not-allowed' : 'bg-gradient-to-r from-violet-500 to-purple-500 hover:from-violet-600 hover:to-purple-600'">
      <span x-show="!isGenerating">ì˜ê²¬ì„œ ìƒì„±</span>
      <span x-show="isGenerating" class="flex items-center space-x-2">
        <svg class="animate-spin h-4 w-4" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        <span>AI ìƒì„± ì¤‘...</span>
      </span>
    </button>
  </div>
  
  <!-- ë¯¸ë¦¬ë³´ê¸° ëª¨ë“œ -->
  <div x-show="previewMode && generatedOpinion" x-transition class="space-y-4">
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-2">
        <span class="text-sm text-gray-600">ì‹ ë¢°ë„:</span>
        <div class="w-20 bg-gray-200 rounded-full h-2">
          <div 
            class="bg-gradient-to-r from-violet-400 to-purple-500 h-2 rounded-full transition-all duration-500"
            :style="`width: ${confidence * 100}%`"
          ></div>
        </div>
        <span class="text-sm font-medium" x-text="Math.round(confidence * 100) + '%'"></span>
      </div>
      <div class="flex space-x-2">
        <button
          @click="previewMode = false; generatedOpinion = ''"
          class="px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors"
        >
          ë‹¤ì‹œ ìƒì„±
        </button>
        <button
          @click="handleApprove()"
          class="px-3 py-1 text-sm bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-md hover:from-emerald-600 hover:to-teal-600 transition-all"
        >
          ì‚¬ìš©í•˜ê¸°
        </button>
      </div>
    </div>
    
    <!-- ìƒì„±ëœ ì˜ê²¬ì„œ ë‚´ìš© -->
    <div class="bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto">
      <div class="prose prose-sm max-w-none whitespace-pre-wrap" x-text="generatedOpinion"></div>
    </div>
  </div>
  
  <!-- ì˜ê²¬ì„œ ìœ í˜• ì„ íƒ -->
  <div x-show="!previewMode" class="mb-4">
    <label class="block text-sm font-medium text-gray-700 mb-2">
      ì˜ê²¬ì„œ ìœ í˜• ì„ íƒ
    </label>
    <select x-model="opinionType" 
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-violet-500 focus:border-violet-500">
      <option value="new_placement">ì‹ ê·œ ë°°ì¹˜</option>
      <option value="reselection">ì¬ì„ ì •</option>
      <option value="replacement">ì¬ë°°ì¹˜</option>
      <option value="cancellation">ì„ ì •ì·¨ì†Œ</option>
    </select>
  </div>
  
  <!-- ì—ëŸ¬ ë©”ì‹œì§€ -->
  <div x-show="errorMessage" 
       x-transition
       class="mt-4 bg-red-50 border border-red-200 rounded-lg p-3">
    <div class="flex items-center space-x-2">
      <svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
      </svg>
      <p class="text-sm text-red-700" x-text="errorMessage"></p>
    </div>
  </div>
</div>

<script>
function aiSchoolOpinionGenerator() {
  return {
    // ì»´í¬ë„ŒíŠ¸ props
    studentId: '',
    opinionType: 'new_placement', // 'new_placement' | 'reselection' | 'replacement' | 'cancellation'
    
    // ìƒíƒœ ë³€ìˆ˜
    isGenerating: false,
    generatedOpinion: '',
    confidence: 0,
    previewMode: false,
    errorMessage: '',
    
    // ì˜ê²¬ì„œ ìœ í˜• ë ˆì´ë¸”
    opinionTypeLabels: {
      'new_placement': 'ì‹ ê·œ ë°°ì¹˜',
      'reselection': 'ì¬ì„ ì •',
      'replacement': 'ì¬ë°°ì¹˜',
      'cancellation': 'ì„ ì •ì·¨ì†Œ'
    },
    
    // ì´ˆê¸°í™”
    initComponent() {
      // ì „ì—­ ìŠ¤í† ì–´ì—ì„œ í˜„ì¬ ì„ íƒëœ í•™ìƒ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
      const studentsStore = Alpine.store('students');
      if (studentsStore.selectedStudent) {
        this.studentId = studentsStore.selectedStudent.id;
      }
      
      // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
      this.$el.addEventListener('ai:school-opinion-request', (event) => {
        const { studentId, opinionType } = event.detail;
        this.studentId = studentId;
        this.opinionType = opinionType;
        this.handleGenerate();
      });
    },
    
    // UTF-8 ì¸ì½”ë”© ê²€ì¦
    validateUTF8(text) {
      try {
        const encoded = new TextEncoder().encode(text);
        const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
        return decoded === text;
      } catch (error) {
        console.error('UTF-8 ì¸ì½”ë”© ì˜¤ë¥˜:', error);
        return false;
      }
    },
    
    // AI í•™êµì¥ ì˜ê²¬ì„œ ìƒì„±
    async handleGenerate() {
      if (!this.studentId || !this.opinionType) {
        this.errorMessage = 'í•„ìˆ˜ ì •ë³´(í•™ìƒ, ì˜ê²¬ì„œ ìœ í˜•)ê°€ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤.';
        return;
      }
      
      this.isGenerating = true;
      this.errorMessage = '';
      this.generatedOpinion = '';
      this.previewMode = false;
      
      try {
        // HTMXë¥¼ í†µí•œ Supabase Edge Function í˜¸ì¶œ
        const response = await fetch('/api/ai/generate-school-opinion', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          },
          body: JSON.stringify({
            student_id: this.studentId,
            opinion_type: this.opinionType,
            template_type: 'standard',
            teacher_preferences: {}
          })
        });
        
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const result = await response.json();
        
        if (result.success) {
          // UTF-8 ì•ˆì „ì„± ê²€ì¦
          if (!this.validateUTF8(result.data.opinion)) {
            throw new Error('ìƒì„±ëœ ì˜ê²¬ì„œì— ì¸ì½”ë”© ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.');
          }
          
          this.generatedOpinion = result.data.opinion;
          this.confidence = result.data.confidence || 0;
          this.previewMode = true;
          
          // ì„±ê³µ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
          this.$dispatch('ai:school-opinion-generated', {
            opinion: result.data.opinion,
            studentId: this.studentId,
            opinionType: this.opinionType
          });
        } else {
          this.errorMessage = result.error?.message || 'AI í•™êµì¥ ì˜ê²¬ì„œ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.';
        }
      } catch (error) {
        console.error('AI í•™êµì¥ ì˜ê²¬ì„œ ìƒì„± ì˜¤ë¥˜:', error);
        this.errorMessage = 'ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
      } finally {
        this.isGenerating = false;
      }
    },
    
    // ì˜ê²¬ì„œ ìŠ¹ì¸ ë° ì €ì¥
    handleApprove() {
      if (!this.generatedOpinion) return;
      
      // ìŠ¹ì¸ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
      this.$dispatch('ai:school-opinion-approved', {
        opinion: this.generatedOpinion,
        studentId: this.studentId,
        opinionType: this.opinionType
      });
      
      // AI ì„œë¹„ìŠ¤ ìƒíƒœ ìŠ¤í† ì–´ ì—…ë°ì´íŠ¸
      const aiStore = Alpine.store('aiSchoolOpinion');
      if (aiStore && aiStore.addApprovedOpinion) {
        aiStore.addApprovedOpinion({
          studentId: this.studentId,
          opinionType: this.opinionType,
          opinion: this.generatedOpinion,
          confidence: this.confidence,
          createdAt: new Date().toISOString()
        });
      }
      
      // HTMXë¥¼ í†µí•´ ì„œë²„ì— ì €ì¥ ìš”ì²­
      if (typeof htmx !== 'undefined') {
        htmx.trigger(this.$el, 'hx:trigger', {
          target: '/api/ai/save-school-opinion',
          values: {
            student_id: this.studentId,
            opinion_type: this.opinionType,
            opinion: this.generatedOpinion
          }
        });
      }
      
      // ë¯¸ë¦¬ë³´ê¸° ëª¨ë“œ ì¢…ë£Œ
      this.previewMode = false;
      this.generatedOpinion = '';
    }
  };
}
</script>
```
```

### 5.8.3 AI ìƒë‹´ ê°€ì´ë“œ ìƒì„± ì»´í¬ë„ŒíŠ¸
```html
<!-- AI ìƒë‹´ ê°€ì´ë“œ ìƒì„± ì»´í¬ë„ŒíŠ¸ -->
<div class="bg-white rounded-lg shadow-md p-6" 
     x-data="aiCounselingGuideGenerator()" 
     x-init="initComponent()">
  <div class="flex items-center justify-between mb-4">
    <h3 class="text-lg font-semibold text-gray-800">
      AI ìƒë‹´ ê°€ì´ë“œ ìƒì„± (<span x-text="counselingTypeLabels[counselingType]"></span>)
    </h3>
  </div>
  
  <div class="space-y-4">
    <!-- ìƒë‹´ ìœ í˜• ì„ íƒ -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">
        ìƒë‹´ ìœ í˜• ì„ íƒ
      </label>
      <select x-model="counselingType" 
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-cyan-500 focus:border-cyan-500">
        <option value="individual">ê°œë³„ ìƒë‹´</option>
        <option value="parent">í•™ë¶€ëª¨ ìƒë‹´</option>
        <option value="group">ì§‘ë‹¨ ìƒë‹´</option>
        <option value="expert">ì „ë¬¸ê°€ ìƒë‹´</option>
      </select>
    </div>
    
    <!-- ì£¼ìš” ê´€ì‹¬ ì˜ì—­ ì„ íƒ -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">
        ì£¼ìš” ê´€ì‹¬ ì˜ì—­ ì„ íƒ
      </label>
      <div class="grid grid-cols-2 gap-2">
        <template x-for="area in availableFocusAreas" :key="area">
          <label class="flex items-center space-x-2">
            <input
              type="checkbox"
              :value="area"
              x-model="selectedFocusAreas"
              class="rounded border-gray-300 text-cyan-500 focus:ring-cyan-500"
            />
            <span class="text-sm text-gray-700" x-text="area"></span>
          </label>
        </template>
      </div>
    </div>
    
    <!-- ìƒì„± ë²„íŠ¼ -->
    <button
      @click="handleGenerate()"
      :disabled="isGenerating || selectedFocusAreas.length === 0"
      class="w-full px-4 py-2 rounded-lg text-white font-medium transition-all"
      :class="(isGenerating || selectedFocusAreas.length === 0) ? 'bg-gray-400 cursor-not-allowed' : 'bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600'"
    >
      <span x-show="!isGenerating">ìƒë‹´ ê°€ì´ë“œ ìƒì„±</span>
      <span x-show="isGenerating" class="flex items-center justify-center space-x-2">
        <svg class="animate-spin h-4 w-4" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        <span>AI ìƒì„± ì¤‘...</span>
      </span>
    </button>
  </div>
  
  <!-- ìƒì„±ëœ ê°€ì´ë“œ í‘œì‹œ -->
  <div x-show="generatedGuide" x-transition class="mt-6 space-y-4">
    <div class="flex items-center space-x-2">
      <span class="text-sm text-gray-600">ì‹ ë¢°ë„:</span>
      <div class="flex-1 bg-gray-200 rounded-full h-2">
        <div 
          class="bg-gradient-to-r from-cyan-400 to-blue-500 h-2 rounded-full transition-all duration-500"
          :style="`width: ${generatedGuide?.confidence * 100 || 0}%`"
        ></div>
      </div>
      <span class="text-sm font-medium" x-text="Math.round((generatedGuide?.confidence || 0) * 100) + '%'"></span>
    </div>
    
    <div class="bg-gray-50 rounded-lg p-4">
      <h4 class="font-medium text-gray-800 mb-2">ìƒë‹´ ê°€ì´ë“œ</h4>
      <div class="prose prose-sm max-w-none whitespace-pre-wrap" x-text="generatedGuide?.guide || ''"></div>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="bg-blue-50 rounded-lg p-4">
        <h4 class="font-medium text-blue-800 mb-2">ì£¼ìš” ìƒë‹´ í¬ì¸íŠ¸</h4>
        <ul class="text-sm text-blue-700 space-y-1">
          <template x-for="(point, index) in (generatedGuide?.points || [])" :key="index">
            <li>â€¢ <span x-text="point"></span></li>
          </template>
        </ul>
      </div>
      
      <div class="bg-green-50 rounded-lg p-4">
        <h4 class="font-medium text-green-800 mb-2">ìƒë‹´ ì „ëµ</h4>
        <ul class="text-sm text-green-700 space-y-1">
          <template x-for="(strategy, index) in (generatedGuide?.strategies || [])" :key="index">
            <li>â€¢ <span x-text="strategy"></span></li>
          </template>
        </ul>
      </div>
    </div>
    
    <!-- ì‚¬ìš© ë²„íŠ¼ -->
    <div class="flex justify-end">
      <button
        @click="handleApprove()"
        class="px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-lg hover:from-emerald-600 hover:to-teal-600 transition-all"
      >
        ê°€ì´ë“œ ì‚¬ìš©í•˜ê¸°
      </button>
    </div>
  </div>
  
  <!-- ì—ëŸ¬ ë©”ì‹œì§€ -->
  <div x-show="errorMessage" 
       x-transition
       class="mt-4 bg-red-50 border border-red-200 rounded-lg p-3">
    <div class="flex items-center space-x-2">
      <svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
      </svg>
      <p class="text-sm text-red-700" x-text="errorMessage"></p>
    </div>
  </div>
</div>

<script>
function aiCounselingGuideGenerator() {
  return {
    // ì»´í¬ë„ŒíŠ¸ props
    studentId: '',
    counselingType: 'individual', // 'individual' | 'parent' | 'group' | 'expert'
    
    // ìƒíƒœ ë³€ìˆ˜
    isGenerating: false,
    generatedGuide: null,
    selectedFocusAreas: [],
    errorMessage: '',
    
    // ìƒë‹´ ìœ í˜• ë ˆì´ë¸”
    counselingTypeLabels: {
      'individual': 'ê°œë³„ ìƒë‹´',
      'parent': 'í•™ë¶€ëª¨ ìƒë‹´',
      'group': 'ì§‘ë‹¨ ìƒë‹´',
      'expert': 'ì „ë¬¸ê°€ ìƒë‹´'
    },
    
    // ì´ìš© ê°€ëŠ¥í•œ ê´€ì‹¬ ì˜ì—­
    availableFocusAreas: [
      'í•™ìŠµ ëŠ¥ë ¥ í–¥ìƒ',
      'ì‚¬íšŒì„± ë°œë‹¬',
      'ì˜ì‚¬ì†Œí†µ ê¸°ìˆ ',
      'ë¬¸ì œí–‰ë™ ê°œì„ ',
      'ìë¦½ìƒí™œ ê¸°ìˆ ',
      'ì§„ë¡œ íƒìƒ‰',
      'ê°€ì¡± ê´€ê³„',
      'ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬'
    ],
    
    // ì´ˆê¸°í™”
    initComponent() {
      // ì „ì—­ ìŠ¤í† ì–´ì—ì„œ í˜„ì¬ ì„ íƒëœ í•™ìƒ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
      const studentsStore = Alpine.store('students');
      if (studentsStore.selectedStudent) {
        this.studentId = studentsStore.selectedStudent.id;
      }
      
      // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
      this.$el.addEventListener('ai:counseling-guide-request', (event) => {
        const { studentId, counselingType, focusAreas } = event.detail;
        this.studentId = studentId;
        this.counselingType = counselingType;
        this.selectedFocusAreas = focusAreas || [];
        this.handleGenerate();
      });
    },
    
    // UTF-8 ì¸ì½”ë”© ê²€ì¦
    validateUTF8(text) {
      try {
        const encoded = new TextEncoder().encode(text);
        const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
        return decoded === text;
      } catch (error) {
        console.error('UTF-8 ì¸ì½”ë”© ì˜¤ë¥˜:', error);
        return false;
      }
    },
    
    // AI ìƒë‹´ ê°€ì´ë“œ ìƒì„±
    async handleGenerate() {
      if (!this.studentId || !this.counselingType || this.selectedFocusAreas.length === 0) {
        this.errorMessage = 'í•„ìˆ˜ ì •ë³´(í•™ìƒ, ìƒë‹´ ìœ í˜•, ê´€ì‹¬ ì˜ì—­)ê°€ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤.';
        return;
      }
      
      this.isGenerating = true;
      this.errorMessage = '';
      this.generatedGuide = null;
      
      try {
        // HTMXë¥¼ í†µí•œ Supabase Edge Function í˜¸ì¶œ
        const response = await fetch('/api/ai/generate-counseling-guide', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          },
          body: JSON.stringify({
            student_id: this.studentId,
            counseling_type: this.counselingType,
            focus_areas: this.selectedFocusAreas,
            teacher_preferences: {}
          })
        });
        
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const result = await response.json();
        
        if (result.success) {
          // UTF-8 ì•ˆì „ì„± ê²€ì¦
          if (!this.validateUTF8(result.data.guide)) {
            throw new Error('ìƒì„±ëœ ìƒë‹´ ê°€ì´ë“œì— ì¸ì½”ë”© ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.');
          }
          
          this.generatedGuide = result.data;
          
          // ì„±ê³µ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
          this.$dispatch('ai:counseling-guide-generated', {
            guide: result.data,
            studentId: this.studentId,
            counselingType: this.counselingType
          });
        } else {
          this.errorMessage = result.error?.message || 'AI ìƒë‹´ ê°€ì´ë“œ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.';
        }
      } catch (error) {
        console.error('AI ìƒë‹´ ê°€ì´ë“œ ìƒì„± ì˜¤ë¥˜:', error);
        this.errorMessage = 'ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
      } finally {
        this.isGenerating = false;
      }
    },
    
    // ê°€ì´ë“œ ìŠ¹ì¸ ë° ì €ì¥
    handleApprove() {
      if (!this.generatedGuide) return;
      
      // ìŠ¹ì¸ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
      this.$dispatch('ai:counseling-guide-approved', {
        guide: this.generatedGuide,
        studentId: this.studentId,
        counselingType: this.counselingType,
        focusAreas: this.selectedFocusAreas
      });
      
      // AI ì„œë¹„ìŠ¤ ìƒíƒœ ìŠ¤í† ì–´ ì—…ë°ì´íŠ¸
      const aiStore = Alpine.store('aiCounselingGuide');
      if (aiStore && aiStore.addApprovedGuide) {
        aiStore.addApprovedGuide({
          studentId: this.studentId,
          counselingType: this.counselingType,
          guide: this.generatedGuide,
          focusAreas: this.selectedFocusAreas,
          createdAt: new Date().toISOString()
        });
      }
      
      // HTMXë¥¼ í†µí•´ ì„œë²„ì— ì €ì¥ ìš”ì²­
      if (typeof htmx !== 'undefined') {
        htmx.trigger(this.$el, 'hx:trigger', {
          target: '/api/ai/save-counseling-guide',
          values: {
            student_id: this.studentId,
            counseling_type: this.counselingType,
            guide: JSON.stringify(this.generatedGuide),
            focus_areas: JSON.stringify(this.selectedFocusAreas)
          }
        });
      }
    }
  };
}
</script>
```
              </ul>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};
```

### 5.8.4 AI í–‰ì •ë¬¸ì„œ ìƒì„± ì»´í¬ë„ŒíŠ¸
```html
<!-- AI í–‰ì •ë¬¸ì„œ ìƒì„± ì»´í¬ë„ŒíŠ¸ -->
<div class="bg-white rounded-lg shadow-md p-6" 
     x-data="aiAdminDocumentGenerator()" 
     x-init="initComponent()">
  <div class="flex items-center justify-between mb-4">
    <h3 class="text-lg font-semibold text-gray-800">
      AI <span x-text="documentTypeLabels[documentType]"></span> ìƒì„±
    </h3>
    <div class="text-sm text-gray-600">
      ëŒ€ìƒ í•™ìƒ: <span x-text="selectedStudentIds.length"></span>ëª…
    </div>
  </div>
  
  <div class="space-y-4">
    <!-- ë¬¸ì„œ ìœ í˜• ì„ íƒ -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">
        ë¬¸ì„œ ìœ í˜• ì„ íƒ
      </label>
      <select x-model="documentType" 
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500">
        <option value="evaluation_report">í‰ê°€ ë³´ê³ ì„œ</option>
        <option value="progress_summary">ì§„ë„ ìš”ì•½ì„œ</option>
        <option value="transition_plan">ì „í™˜ ê³„íšì„œ</option>
        <option value="iep_summary">IEP ìš”ì•½ì„œ</option>
      </select>
    </div>
    
    <!-- í•™ìƒ ì„ íƒ -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">
        ëŒ€ìƒ í•™ìƒ ì„ íƒ
      </label>
      <div class="max-h-32 overflow-y-auto border border-gray-200 rounded-md p-2 space-y-1">
        <template x-for="student in availableStudents" :key="student.id">
          <label class="flex items-center space-x-2">
            <input
              type="checkbox"
              :value="student.id"
              x-model="selectedStudentIds"
              class="rounded border-gray-300 text-amber-500 focus:ring-amber-500"
            />
            <span class="text-sm" x-text="student.name"></span>
          </label>
        </template>
      </div>
      <div class="mt-2 text-xs text-gray-500" x-show="selectedStudentIds.length === 0">
        ìƒì„±í•  ë¬¸ì„œì— í¬í•¨í•  í•™ìƒì„ ì„ íƒí•´ì£¼ì„¸ìš”.
      </div>
    </div>
    
    <!-- ê¸°ê°„ ì„¤ì • (ì˜µì…˜) -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">
        ëŒ€ìƒ ê¸°ê°„ (ì„ íƒì‚¬í•­)
      </label>
      <div class="grid grid-cols-2 gap-2">
        <input
          type="date"
          x-model="period.start"
          class="px-3 py-2 border border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500"
          placeholder="ì‹œì‘ì¼"
        />
        <input
          type="date"
          x-model="period.end"
          class="px-3 py-2 border border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500"
          placeholder="ì¢…ë£Œì¼"
        />
      </div>
    </div>
    
    <!-- ì„ íƒëœ ê¸°ê°„ í‘œì‹œ -->
    <div x-show="period.start && period.end" 
         class="p-3 bg-amber-50 border border-amber-200 rounded-lg">
      <span class="text-sm text-amber-800">ëŒ€ìƒ ê¸°ê°„: </span>
      <span class="text-sm font-medium text-amber-900" x-text="period.start + ' ~ ' + period.end"></span>
    </div>
    
    <!-- ìƒì„± ë²„íŠ¼ -->
    <button
      @click="handleGenerate()"
      :disabled="isGenerating || selectedStudentIds.length === 0"
      class="w-full px-4 py-2 rounded-lg text-white font-medium transition-all"
      :class="(isGenerating || selectedStudentIds.length === 0) ? 'bg-gray-400 cursor-not-allowed' : 'bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600'"
    >
      <span x-show="!isGenerating">ë¬¸ì„œ ìƒì„±</span>
      <span x-show="isGenerating" class="flex items-center justify-center space-x-2">
        <svg class="animate-spin h-4 w-4" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        <span>ìƒì„± ì¤‘...</span>
      </span>
    </button>
  </div>
  
  <!-- ìƒì„± ì§„í–‰ ìƒí™© -->
  <div x-show="isGenerating" x-transition class="mt-4 space-y-2">
    <div class="flex items-center justify-between text-sm">
      <span class="text-gray-600" x-text="currentStep"></span>
      <span class="font-medium" x-text="progress + '%'"></span>
    </div>
    <div class="w-full bg-gray-200 rounded-full h-2">
      <div 
        class="bg-gradient-to-r from-amber-400 to-orange-500 h-2 rounded-full transition-all duration-300"
        :style="`width: ${progress}%`"
      ></div>
    </div>
  </div>
  
  <!-- ìƒì„±ëœ ë¬¸ì„œ ë¯¸ë¦¬ë³´ê¸° -->
  <div x-show="generatedDocument" x-transition class="mt-6 space-y-4">
    <div class="bg-gray-50 rounded-lg p-4">
      <h4 class="font-medium text-gray-800 mb-2">ìƒì„±ëœ ë¬¸ì„œ ë¯¸ë¦¬ë³´ê¸°</h4>
      <div class="prose prose-sm max-w-none whitespace-pre-wrap text-sm" 
           x-html="generatedDocument?.content || ''"></div>
    </div>
    
    <!-- ì•¡ì…˜ ë²„íŠ¼ -->
    <div class="flex justify-end space-x-2">
      <button
        @click="downloadDocument()"
        class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all"
      >
        ë¬¸ì„œ ë‹¤ìš´ë¡œë“œ
      </button>
      <button
        @click="saveDocument()"
        class="px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-lg hover:from-emerald-600 hover:to-teal-600 transition-all"
      >
        ë¬¸ì„œ ì €ì¥
      </button>
    </div>
  </div>
  
  <!-- ì—ëŸ¬ ë©”ì‹œì§€ -->
  <div x-show="errorMessage" 
       x-transition
       class="mt-4 bg-red-50 border border-red-200 rounded-lg p-3">
    <div class="flex items-center space-x-2">
      <svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
      </svg>
      <p class="text-sm text-red-700" x-text="errorMessage"></p>
    </div>
  </div>
</div>

<script>
function aiAdminDocumentGenerator() {
  return {
    // ì»´í¬ë„ŒíŠ¸ props
    documentType: 'evaluation_report', // 'evaluation_report' | 'progress_summary' | 'transition_plan' | 'iep_summary'
    selectedStudentIds: [],
    period: {
      start: '',
      end: ''
    },
    
    // ìƒíƒœ ë³€ìˆ˜
    isGenerating: false,
    progress: 0,
    currentStep: '',
    generatedDocument: null,
    errorMessage: '',
    availableStudents: [],
    
    // ë¬¸ì„œ ìœ í˜• ë ˆì´ë¸”
    documentTypeLabels: {
      'evaluation_report': 'í‰ê°€ ë³´ê³ ì„œ',
      'progress_summary': 'ì§„ë„ ìš”ì•½ì„œ',
      'transition_plan': 'ì „í™˜ ê³„íšì„œ',
      'iep_summary': 'IEP ìš”ì•½ì„œ'
    },
    
    // ì´ˆê¸°í™”
    initComponent() {
      this.loadAvailableStudents();
      
      // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
      this.$el.addEventListener('ai:admin-document-request', (event) => {
        const { documentType, studentIds, period } = event.detail;
        this.documentType = documentType;
        this.selectedStudentIds = studentIds || [];
        if (period) {
          this.period = period;
        }
        this.handleGenerate();
      });
    },
    
    // ì‚¬ìš© ê°€ëŠ¥í•œ í•™ìƒ ëª©ë¡ ë¡œë“œ
    async loadAvailableStudents() {
      try {
        const studentsStore = Alpine.store('students');
        if (studentsStore.students && studentsStore.students.length > 0) {
          this.availableStudents = studentsStore.students;
        } else {
          // HTMXë¡œ í•™ìƒ ëª©ë¡ ë¡œë“œ
          const response = await fetch('/api/students', {
            headers: {
              'Authorization': `Bearer ${Alpine.store('auth').token}`
            }
          });
          if (response.ok) {
            const result = await response.json();
            this.availableStudents = result.data || [];
          }
        }
      } catch (error) {
        console.error('í•™ìƒ ëª©ë¡ ë¡œë“œ ì˜¤ë¥˜:', error);
      }
    },
    
    // UTF-8 ì¸ì½”ë”© ê²€ì¦
    validateUTF8(text) {
      try {
        const encoded = new TextEncoder().encode(text);
        const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
        return decoded === text;
      } catch (error) {
        console.error('UTF-8 ì¸ì½”ë”© ì˜¤ë¥˜:', error);
        return false;
      }
    },
    
    // ì§„í–‰ ìƒí™© ì—…ë°ì´íŠ¸
    updateProgress(step, progress) {
      this.currentStep = step;
      this.progress = progress;
    },
    
    // AI í–‰ì •ë¬¸ì„œ ìƒì„±
    async handleGenerate() {
      if (!this.documentType || this.selectedStudentIds.length === 0) {
        this.errorMessage = 'ë¬¸ì„œ ìœ í˜•ê³¼ ëŒ€ìƒ í•™ìƒì„ ì„ íƒí•´ì£¼ì„¸ìš”.';
        return;
      }
      
      this.isGenerating = true;
      this.errorMessage = '';
      this.generatedDocument = null;
      this.progress = 0;
      this.currentStep = '';
      
      try {
        this.updateProgress('í•™ìƒ ë°ì´í„° ìˆ˜ì§‘ ì¤‘...', 20);
        
        // 1ë‹¨ê³„: í•™ìƒ ë°ì´í„° ìˆ˜ì§‘
        await new Promise(resolve => setTimeout(resolve, 1000));
        
        this.updateProgress('AI ë¬¸ì„œ ìƒì„± ì¤‘...', 60);
        
        // 2ë‹¨ê³„: AI ë¬¸ì„œ ìƒì„±
        const response = await fetch('/api/ai/generate-admin-document', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          },
          body: JSON.stringify({
            document_type: this.documentType,
            student_ids: this.selectedStudentIds,
            period: (this.period.start && this.period.end) ? this.period : null,
            template_options: {}
          })
        });
        
        this.updateProgress('ë¬¸ì„œ í›„ì²˜ë¦¬ ì¤‘...', 90);
        
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const result = await response.json();
        
        if (result.success) {
          // UTF-8 ì•ˆì „ì„± ê²€ì¦
          if (!this.validateUTF8(result.data.document)) {
            throw new Error('ìƒì„±ëœ ë¬¸ì„œì— ì¸ì½”ë”© ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.');
          }
          
          this.generatedDocument = {
            content: result.data.document,
            metadata: result.data.metadata || {}
          };
          
          this.updateProgress('ë¬¸ì„œ ìƒì„± ì™„ë£Œ', 100);
          
          // ì„±ê³µ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
          this.$dispatch('ai:admin-document-generated', {
            document: this.generatedDocument,
            documentType: this.documentType,
            studentIds: this.selectedStudentIds,
            period: this.period
          });
        } else {
          this.errorMessage = result.error?.message || 'AI í–‰ì •ë¬¸ì„œ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.';
        }
      } catch (error) {
        console.error('AI í–‰ì •ë¬¸ì„œ ìƒì„± ì˜¤ë¥˜:', error);
        this.errorMessage = 'ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
      } finally {
        this.isGenerating = false;
        // ì§„í–‰ í‘œì‹œ ë¦¬ì…‹
        setTimeout(() => {
          this.progress = 0;
          this.currentStep = '';
        }, 2000);
      }
    },
    
    // ë¬¸ì„œ ë‹¤ìš´ë¡œë“œ
    downloadDocument() {
      if (!this.generatedDocument) return;
      
      const blob = new Blob([this.generatedDocument.content], { type: 'text/plain;charset=utf-8' });
      const url = window.URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.href = url;
      link.download = `${this.documentTypeLabels[this.documentType]}_${new Date().toISOString().split('T')[0]}.txt`;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      window.URL.revokeObjectURL(url);
      
      // ë‹¤ìš´ë¡œë“œ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
      this.$dispatch('ai:document-downloaded', {
        documentType: this.documentType,
        studentIds: this.selectedStudentIds
      });
    },
    
    // ë¬¸ì„œ ì €ì¥
    saveDocument() {
      if (!this.generatedDocument) return;
      
      // HTMXë¥¼ í†µí•´ ì„œë²„ì— ì €ì¥
      if (typeof htmx !== 'undefined') {
        htmx.trigger(this.$el, 'hx:trigger', {
          target: '/api/ai/save-admin-document',
          values: {
            document_type: this.documentType,
            student_ids: JSON.stringify(this.selectedStudentIds),
            period: JSON.stringify(this.period),
            document: this.generatedDocument.content,
            metadata: JSON.stringify(this.generatedDocument.metadata)
          }
        });
      }
      
      // ì €ì¥ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
      this.$dispatch('ai:document-saved', {
        documentType: this.documentType,
        studentIds: this.selectedStudentIds,
        document: this.generatedDocument
      });
    }
  };
}
</script>
```
```

---

## 5.9 êµìœ¡ê³¼ì • ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸ (ê´€ë¦¬ì ì „ìš©)

### 5.9.1 êµìœ¡ê³¼ì • ëª©ë¡ ì»´í¬ë„ŒíŠ¸
```html
<!-- êµìœ¡ê³¼ì • ëª©ë¡ ì»´í¬ë„ŒíŠ¸ -->
<div class="bg-white rounded-lg shadow-md p-6" 
     x-data="curriculumListManager()" 
     x-init="initComponent()">
  
  <div class="flex justify-between items-center mb-4">
    <h3 class="text-lg font-semibold">êµìœ¡ê³¼ì • ê´€ë¦¬</h3>
    <button
      @click="showUploadModal = true"
      class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"
    >
      Excel ì—…ë¡œë“œ
    </button>
  </div>
  
  <!-- í•„í„° ë° ê²€ìƒ‰ -->
  <div class="grid grid-cols-4 gap-4 mb-4">
    <!-- êµê³¼ ì„ íƒ -->
    <select x-model="filters.subject" 
            @change="applyFilters()"
            class="px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">
      <option value="">êµê³¼ ì„ íƒ</option>
      <option value="êµ­ì–´">êµ­ì–´</option>
      <option value="ìˆ˜í•™">ìˆ˜í•™</option>
    </select>
    
    <!-- í•™ë…„ ì„ íƒ -->
    <select x-model="filters.gradeLevel" 
            @change="applyFilters()"
            class="px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">
      <option value="">í•™ë…„ ì„ íƒ</option>
      <option value="1í•™ë…„">1í•™ë…„</option>
      <option value="2í•™ë…„">2í•™ë…„</option>
      <option value="3í•™ë…„">3í•™ë…„</option>
      <option value="4í•™ë…„">4í•™ë…„</option>
      <option value="5í•™ë…„">5í•™ë…„</option>
      <option value="6í•™ë…„">6í•™ë…„</option>
    </select>
    
    <!-- í•™ê¸° ì„ íƒ -->
    <select x-model="filters.semester" 
            @change="applyFilters()"
            class="px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">
      <option value="">í•™ê¸° ì„ íƒ</option>
      <option value="1í•™ê¸°">1í•™ê¸°</option>
      <option value="2í•™ê¸°">2í•™ê¸°</option>
    </select>
    
    <!-- ê²€ìƒ‰ -->
    <input 
      type="text" 
      x-model="searchQuery" 
      @input="debounceSearch()"
      placeholder="ë‹¨ì›ëª… ê²€ìƒ‰" 
      class="px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
    />
  </div>
  
  <!-- ë¡œë”© ì¸ë””ì¼€ì´í„° -->
  <div x-show="isLoading" class="flex justify-center py-8">
    <svg class="animate-spin h-8 w-8 text-blue-500" fill="none" viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
      <path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
    </svg>
  </div>
  
  <!-- êµìœ¡ê³¼ì • ëª©ë¡ í…Œì´ë¸” -->
  <div x-show="!isLoading" class="overflow-x-auto">
    <table class="w-full border-collapse">
      <thead>
        <tr class="bg-gray-50">
          <th class="p-3 text-left border-b">êµê³¼</th>
          <th class="p-3 text-left border-b">í•™ë…„</th>
          <th class="p-3 text-left border-b">í•™ê¸°</th>
          <th class="p-3 text-left border-b">ë‹¨ì›</th>
          <th class="p-3 text-left border-b">ë‹¨ì›ëª…</th>
          <th class="p-3 text-left border-b">ìƒíƒœ</th>
          <th class="p-3 text-left border-b">ì‘ì—…</th>
        </tr>
      </thead>
      <tbody>
        <template x-for="unit in filteredUnits" :key="unit.id">
          <tr class="border-b hover:bg-gray-50 transition-colors">
            <td class="p-3" x-text="unit.subject"></td>
            <td class="p-3" x-text="unit.grade_level"></td>
            <td class="p-3" x-text="unit.semester"></td>
            <td class="p-3" x-text="unit.unit_number"></td>
            <td class="p-3" x-text="unit.unit_name"></td>
            <td class="p-3">
              <span 
                class="px-2 py-1 rounded text-xs"
                :class="unit.is_active ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'"
                x-text="unit.is_active ? 'í™œì„±' : 'ë¹„í™œì„±'"
              ></span>
            </td>
            <td class="p-3">
              <button
                @click="editUnit(unit)"
                class="px-3 py-1 text-sm text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors"
              >
                ìˆ˜ì •
              </button>
              <button
                @click="deleteUnit(unit.id)"
                class="ml-2 px-3 py-1 text-sm text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors"
              >
                ì‚­ì œ
              </button>
            </td>
          </tr>
        </template>
      </tbody>
    </table>
    
    <!-- ë°ì´í„° ì—†ìŒ -->
    <div x-show="filteredUnits.length === 0" class="text-center py-8 text-gray-500">
      ì¡°ê±´ì— ë§ëŠ” êµìœ¡ê³¼ì •ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
    </div>
  </div>
  
  <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
  <div x-show="totalPages > 1" class="flex justify-center items-center mt-4 space-x-2">
    <button
      @click="changePage(currentPage - 1)"
      :disabled="currentPage === 1"
      class="px-3 py-1 rounded border disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"
    >
      ì´ì „
    </button>
    
    <template x-for="page in pageNumbers" :key="page">
      <button
        @click="changePage(page)"
        :class="page === currentPage ? 'bg-blue-500 text-white' : 'bg-white text-gray-700 hover:bg-gray-50'"
        class="px-3 py-1 rounded border"
        x-text="page"
      ></button>
    </template>
    
    <button
      @click="changePage(currentPage + 1)"
      :disabled="currentPage === totalPages"
      class="px-3 py-1 rounded border disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"
    >
      ë‹¤ìŒ
    </button>
  </div>
</div>

<script>
function curriculumListManager() {
  return {
    // ì»´í¬ë„ŒíŠ¸ ìƒíƒœ
    units: [],
    filteredUnits: [],
    isLoading: false,
    searchQuery: '',
    showUploadModal: false,
    
    // í•„í„°
    filters: {
      subject: '',
      gradeLevel: '',
      semester: ''
    },
    
    // í˜ì´ì§€ë„¤ì´ì…˜
    currentPage: 1,
    itemsPerPage: 20,
    totalPages: 0,
    pageNumbers: [],
    
    // ê²€ìƒ‰ ë””ë°”ìš´ì‹±
    searchTimeout: null,
    
    // ì´ˆê¸°í™”
    async initComponent() {
      await this.loadUnits();
      this.applyFilters();
      
      // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
      this.$el.addEventListener('curriculum:unit-updated', () => {
        this.loadUnits();
      });
      
      this.$el.addEventListener('curriculum:unit-deleted', () => {
        this.loadUnits();
      });
    },
    
    // êµìœ¡ê³¼ì • ë‹¨ì› ë¡œë“œ
    async loadUnits() {
      this.isLoading = true;
      
      try {
        const response = await fetch('/api/curriculum/units', {
          headers: {
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          }
        });
        
        if (response.ok) {
          const result = await response.json();
          this.units = result.data || [];
          
          // ì „ì—­ ìƒíƒœ ì—…ë°ì´íŠ¸
          const curriculumStore = Alpine.store('curriculum');
          if (curriculumStore) {
            curriculumStore.units = this.units;
          }
        } else {
          console.error('êµìœ¡ê³¼ì • ë¡œë“œ ì‹¤íŒ¨');
        }
      } catch (error) {
        console.error('êµìœ¡ê³¼ì • ë¡œë“œ ì˜¤ë¥˜:', error);
      } finally {
        this.isLoading = false;
      }
    },
    
    // í•„í„° ì ìš©
    applyFilters() {
      let filtered = [...this.units];
      
      // êµê³¼ í•„í„°
      if (this.filters.subject) {
        filtered = filtered.filter(unit => unit.subject === this.filters.subject);
      }
      
      // í•™ë…„ í•„í„°
      if (this.filters.gradeLevel) {
        filtered = filtered.filter(unit => unit.grade_level === this.filters.gradeLevel);
      }
      
      // í•™ê¸° í•„í„°
      if (this.filters.semester) {
        filtered = filtered.filter(unit => unit.semester === this.filters.semester);
      }
      
      // ê²€ìƒ‰ í•„í„°
      if (this.searchQuery.trim()) {
        const query = this.searchQuery.toLowerCase().trim();
        filtered = filtered.filter(unit => 
          unit.unit_name.toLowerCase().includes(query) ||
          unit.unit_number.toString().includes(query)
        );
      }
      
      this.filteredUnits = filtered;
      this.updatePagination();
    },
    
    // ê²€ìƒ‰ ë””ë°”ìš´ì‹±
    debounceSearch() {
      clearTimeout(this.searchTimeout);
      this.searchTimeout = setTimeout(() => {
        this.applyFilters();
      }, 300);
    },
    
    // í˜ì´ì§€ë„¤ì´ì…˜ ì—…ë°ì´íŠ¸
    updatePagination() {
      this.totalPages = Math.ceil(this.filteredUnits.length / this.itemsPerPage);
      
      // í˜ì´ì§€ ë²ˆí˜¸ ë¦¬ìŠ¤íŠ¸ ìƒì„±
      const pages = [];
      for (let i = 1; i <= this.totalPages; i++) {
        pages.push(i);
      }
      this.pageNumbers = pages;
      
      // í˜„ì¬ í˜ì´ì§€ ë²”ìœ„ ì¡°ì •
      if (this.currentPage > this.totalPages) {
        this.currentPage = Math.max(1, this.totalPages);
      }
      
      // í˜ì´ì§€ë³„ ë°ì´í„° ì„¤ì •
      const startIndex = (this.currentPage - 1) * this.itemsPerPage;
      const endIndex = startIndex + this.itemsPerPage;
      this.filteredUnits = this.filteredUnits.slice(startIndex, endIndex);
    },
    
    // í˜ì´ì§€ ë³€ê²½
    changePage(page) {
      if (page >= 1 && page <= this.totalPages) {
        this.currentPage = page;
        this.applyFilters();
      }
    },
    
    // ë‹¨ì› í¸ì§‘
    editUnit(unit) {
      // í¸ì§‘ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
      this.$dispatch('curriculum:edit-unit', {
        unit: unit
      });
    },
    
    // ë‹¨ì› ì‚­ì œ
    async deleteUnit(unitId) {
      if (!confirm('ì´ ë‹¨ì›ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
      
      try {
        const response = await fetch(`/api/curriculum/units/${unitId}`, {
          method: 'DELETE',
          headers: {
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          }
        });
        
        if (response.ok) {
          // ë¡œì»¬ ìƒíƒœ ì—…ë°ì´íŠ¸
          this.units = this.units.filter(unit => unit.id !== unitId);
          this.applyFilters();
          
          // ì‚­ì œ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
          this.$dispatch('curriculum:unit-deleted', {
            unitId: unitId
          });
        } else {
          alert('ë‹¨ì› ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
      } catch (error) {
        console.error('ë‹¨ì› ì‚­ì œ ì˜¤ë¥˜:', error);
        alert('ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      }
    }
  };
}
</script>
```
```

### 5.9.2 êµìœ¡ê³¼ì • ì—…ë¡œë“œ ì»´í¬ë„ŒíŠ¸
```html
<!-- êµìœ¡ê³¼ì • ì—…ë¡œë“œ ëª¨ë‹¬ -->
<div x-show="showUploadModal" 
     x-data="curriculumUploadManager()"
     x-init="initComponent()"
     class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
     @click.self="closeModal()"
     x-transition:enter="transition ease-out duration-300"
     x-transition:enter-start="opacity-0"
     x-transition:enter-end="opacity-100"
     x-transition:leave="transition ease-in duration-200"
     x-transition:leave-start="opacity-100"
     x-transition:leave-end="opacity-0">
  
  <div class="bg-white rounded-lg p-6 w-96 max-w-md mx-4"
       @click.stop
       x-transition:enter="transition ease-out duration-300"
       x-transition:enter-start="opacity-0 transform scale-95"
       x-transition:enter-end="opacity-100 transform scale-100"
       x-transition:leave="transition ease-in duration-200"
       x-transition:leave-start="opacity-100 transform scale-100"
       x-transition:leave-end="opacity-0 transform scale-95">
    
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-lg font-semibold">êµìœ¡ê³¼ì • ì—…ë¡œë“œ</h3>
      <button
        @click="closeModal()"
        class="text-gray-400 hover:text-gray-600 text-xl leading-none"
      >
        Ã—
      </button>
    </div>
    
    <!-- íŒŒì¼ ì„ íƒ -->
    <div class="mb-4">
      <label class="block text-sm font-medium mb-2">Excel íŒŒì¼ ì„ íƒ</label>
      <input
        type="file"
        accept=".xlsx"
        @change="handleFileSelect($event)"
        class="w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
      />
      
      <!-- ì„ íƒëœ íŒŒì¼ ì •ë³´ -->
      <div x-show="selectedFile" class="mt-2 p-2 bg-blue-50 rounded border">
        <div class="flex items-center">
          <svg class="w-4 h-4 text-blue-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
            <path d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"/>
          </svg>
          <span class="text-sm text-blue-700" x-text="selectedFile?.name"></span>
        </div>
        <div class="text-xs text-blue-600 mt-1" x-text="formatFileSize(selectedFile?.size)"></div>
      </div>
      
      <!-- íŒŒì¼ í˜•ì‹ ì—ëŸ¬ -->
      <div x-show="fileError" x-text="fileError" class="mt-2 text-sm text-red-600"></div>
    </div>
    
    <!-- í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ -->
    <div class="mb-4">
      <button
        @click="downloadTemplate()"
        class="px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors"
      >
        ğŸ“„ í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ
      </button>
      <p class="text-sm text-gray-600 mt-2">
        í…œí”Œë¦¿ ì»¬ëŸ¼: ë‹¨ì›ë²ˆí˜¸ | ë‹¨ì›ëª… | ë‹¨ì› êµìœ¡ëª©í‘œ(ì„±ì·¨ê¸°ì¤€) | ë‹¨ì› êµìœ¡ë‚´ìš© | í‰ê°€ê³„íš(ì°¸ê³ ìš©)
      </p>
    </div>
    
    <!-- ì—…ë¡œë“œ ì§„í–‰ìƒí™© -->
    <div x-show="isUploading" class="mb-4">
      <div class="flex justify-between text-sm mb-1">
        <span>ì—…ë¡œë“œ ì¤‘...</span>
        <span x-text="uploadProgress + '%'"></span>
      </div>
      <div class="w-full bg-gray-200 rounded-full h-2">
        <div 
          class="bg-blue-500 h-2 rounded-full transition-all duration-300"
          :style="`width: ${uploadProgress}%`"
        ></div>
      </div>
      <div x-show="currentStep" class="text-xs text-gray-600 mt-1" x-text="currentStep"></div>
    </div>
    
    <!-- ì—…ë¡œë“œ ê²°ê³¼ -->
    <div x-show="uploadResult" class="mb-4">
      <div :class="uploadResult?.success ? 'bg-green-50 border-green-200 text-green-800' : 'bg-red-50 border-red-200 text-red-800'"
           class="p-3 rounded border">
        <div class="font-medium" x-text="uploadResult?.success ? 'âœ… ì—…ë¡œë“œ ì™„ë£Œ' : 'âŒ ì—…ë¡œë“œ ì‹¤íŒ¨'"></div>
        <div class="text-sm mt-1" x-text="uploadResult?.message"></div>
        
        <!-- ì„±ê³µ ì‹œ í†µê³„ ì •ë³´ -->
        <div x-show="uploadResult?.success && uploadResult?.stats" class="mt-2 text-sm">
          <div>ì´ <span x-text="uploadResult?.stats?.total"></span>ê°œ í•­ëª© ì¤‘</div>
          <div>âœ… ì„±ê³µ: <span x-text="uploadResult?.stats?.success"></span>ê°œ</div>
          <div x-show="uploadResult?.stats?.failed > 0">
            âŒ ì‹¤íŒ¨: <span x-text="uploadResult?.stats?.failed"></span>ê°œ
          </div>
        </div>
      </div>
    </div>
    
    <!-- ì•¡ì…˜ ë²„íŠ¼ -->
    <div class="flex justify-end space-x-2">
      <button
        @click="closeModal()"
        :disabled="isUploading"
        class="px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
      >
        ì·¨ì†Œ
      </button>
      <button
        @click="handleUpload()"
        :disabled="!selectedFile || isUploading"
        class="px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
        x-text="isUploading ? 'ì—…ë¡œë“œ ì¤‘...' : 'ì—…ë¡œë“œ'"
      >
      </button>
    </div>
  </div>
</div>

<script>
function curriculumUploadManager() {
  return {
    // ì»´í¬ë„ŒíŠ¸ ìƒíƒœ
    selectedFile: null,
    fileError: '',
    isUploading: false,
    uploadProgress: 0,
    currentStep: '',
    uploadResult: null,
    
    // ì´ˆê¸°í™”
    initComponent() {
      // ëª¨ë‹¬ì´ ì—´ë¦´ ë•Œ ìƒíƒœ ì´ˆê¸°í™”
      this.selectedFile = null;
      this.fileError = '';
      this.isUploading = false;
      this.uploadProgress = 0;
      this.currentStep = '';
      this.uploadResult = null;
    },
    
    // íŒŒì¼ ì„ íƒ ì²˜ë¦¬
    handleFileSelect(event) {
      const file = event.target.files[0];
      if (!file) {
        this.selectedFile = null;
        this.fileError = '';
        return;
      }
      
      // íŒŒì¼ í˜•ì‹ ê²€ì¦
      const allowedTypes = [
        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
        'application/vnd.ms-excel'
      ];
      
      if (!allowedTypes.includes(file.type) && !file.name.toLowerCase().endsWith('.xlsx')) {
        this.selectedFile = null;
        this.fileError = 'Excel íŒŒì¼(.xlsx)ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.';
        return;
      }
      
      // íŒŒì¼ í¬ê¸° ê²€ì¦ (10MB ì œí•œ)
      const maxSize = 10 * 1024 * 1024;
      if (file.size > maxSize) {
        this.selectedFile = null;
        this.fileError = 'íŒŒì¼ í¬ê¸°ëŠ” 10MB ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.';
        return;
      }
      
      this.selectedFile = file;
      this.fileError = '';
      this.uploadResult = null;
    },
    
    // íŒŒì¼ í¬ê¸° í¬ë§·íŒ…
    formatFileSize(bytes) {
      if (!bytes) return '';
      
      if (bytes < 1024) return bytes + ' bytes';
      if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
      return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
    },
    
    // í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ
    async downloadTemplate() {
      try {
        const response = await fetch('/api/curriculum/template', {
          headers: {
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          }
        });
        
        if (response.ok) {
          const blob = await response.blob();
          const url = window.URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = 'êµìœ¡ê³¼ì •_ì—…ë¡œë“œ_í…œí”Œë¦¿.xlsx';
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          window.URL.revokeObjectURL(url);
        } else {
          alert('í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
      } catch (error) {
        console.error('í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ ì˜¤ë¥˜:', error);
        alert('í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      }
    },
    
    // ì—…ë¡œë“œ ì²˜ë¦¬
    async handleUpload() {
      if (!this.selectedFile) return;
      
      this.isUploading = true;
      this.uploadProgress = 0;
      this.currentStep = 'íŒŒì¼ ê²€ì¦ ì¤‘...';
      this.uploadResult = null;
      
      try {
        // FormData ìƒì„±
        const formData = new FormData();
        formData.append('file', this.selectedFile);
        
        // ì—…ë¡œë“œ ìš”ì²­
        const response = await fetch('/api/curriculum/upload', {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          },
          body: formData
        });
        
        // ì§„í–‰ìƒí™© ì‹œë®¬ë ˆì´ì…˜ (ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì„œë²„ì—ì„œ progress ì´ë²¤íŠ¸ ì‚¬ìš©)
        const progressInterval = setInterval(() => {
          if (this.uploadProgress < 90) {
            this.uploadProgress += Math.random() * 20;
            if (this.uploadProgress > 90) this.uploadProgress = 90;
          }
        }, 200);
        
        this.currentStep = 'ë°ì´í„° ì²˜ë¦¬ ì¤‘...';
        
        const result = await response.json();
        clearInterval(progressInterval);
        
        this.uploadProgress = 100;
        this.currentStep = 'ì™„ë£Œ';
        
        if (response.ok) {
          this.uploadResult = {
            success: true,
            message: result.message || 'êµìœ¡ê³¼ì • ì—…ë¡œë“œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.',
            stats: result.stats
          };
          
          // ì„±ê³µ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
          this.$dispatch('curriculum:upload-complete', {
            result: result.data,
            stats: result.stats
          });
          
        } else {
          this.uploadResult = {
            success: false,
            message: result.error || 'ì—…ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.'
          };
        }
        
      } catch (error) {
        console.error('ì—…ë¡œë“œ ì˜¤ë¥˜:', error);
        this.uploadResult = {
          success: false,
          message: 'ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.'
        };
      } finally {
        this.isUploading = false;
        this.currentStep = '';
      }
    },
    
    // ëª¨ë‹¬ ë‹«ê¸°
    closeModal() {
      if (this.isUploading) {
        if (!confirm('ì—…ë¡œë“œê°€ ì§„í–‰ ì¤‘ì…ë‹ˆë‹¤. ì •ë§ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
          return;
        }
      }
      
      // ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì— ëª¨ë‹¬ ë‹«ê¸° ì´ë²¤íŠ¸ ì „ë‹¬
      this.$dispatch('curriculum:close-upload-modal');
      
      // ëª¨ë‹¬ ìˆ¨ê¸°ê¸°
      this.$el.closest('[x-data]').showUploadModal = false;
    }
  };
}
</script>
```

### 5.9.3 êµìœ¡ê³¼ì • ë‹¨ì› í¸ì§‘ ì»´í¬ë„ŒíŠ¸
```html
<!-- êµìœ¡ê³¼ì • ë‹¨ì› í¸ì§‘ í¼ -->
<form @submit.prevent="handleSubmit()" 
      x-data="curriculumUnitEditor()" 
      x-init="initEditor()"
      class="bg-white rounded-lg shadow-md p-6">
  
  <h3 class="text-lg font-semibold mb-4" x-text="editingUnit ? 'êµìœ¡ê³¼ì • ë‹¨ì› ìˆ˜ì •' : 'êµìœ¡ê³¼ì • ë‹¨ì› ì¶”ê°€'"></h3>
  
  <!-- ê¸°ë³¸ ì •ë³´ -->
  <div class="grid grid-cols-2 gap-4 mb-4">
    <!-- êµê³¼ ì„ íƒ -->
    <div>
      <label class="block text-sm font-medium mb-2">êµê³¼</label>
      <select x-model="formData.subject" 
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">
        <option value="êµ­ì–´">êµ­ì–´</option>
        <option value="ìˆ˜í•™">ìˆ˜í•™</option>
      </select>
    </div>
    
    <!-- í•™ë…„ ì„ íƒ -->
    <div>
      <label class="block text-sm font-medium mb-2">í•™ë…„</label>
      <select x-model="formData.grade_level" 
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">
        <template x-for="grade in grades" :key="grade">
          <option :value="grade" x-text="grade"></option>
        </template>
      </select>
    </div>
  </div>
  
  <!-- í•™ê¸°, ë‹¨ì›ë²ˆí˜¸, ë‹¨ì›ëª… -->
  <div class="grid grid-cols-3 gap-4 mb-4">
    <div>
      <label class="block text-sm font-medium mb-2">í•™ê¸°</label>
      <select x-model="formData.semester" 
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">
        <option value="1í•™ê¸°">1í•™ê¸°</option>
        <option value="2í•™ê¸°">2í•™ê¸°</option>
      </select>
    </div>
    
    <div>
      <label class="block text-sm font-medium mb-2">ë‹¨ì› ë²ˆí˜¸</label>
      <input type="number" 
             x-model="formData.unit_number" 
             min="1" 
             class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" />
    </div>
    
    <div>
      <label class="block text-sm font-medium mb-2">ë‹¨ì›ëª… *</label>
      <input type="text" 
             x-model="formData.unit_name" 
             required 
             class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" 
             placeholder="ë‹¨ì›ëª…ì„ ì…ë ¥í•˜ì„¸ìš”" />
    </div>
  </div>
  
  <!-- êµìœ¡ëª©í‘œ (ì„±ì·¨ê¸°ì¤€) -->
  <div class="mb-4">
    <label class="block text-sm font-medium mb-2">êµìœ¡ëª©í‘œ (ì„±ì·¨ê¸°ì¤€)</label>
    <template x-for="(objective, index) in formData.learning_objectives" :key="index">
      <div class="flex mb-2">
        <input type="text" 
               x-model="formData.learning_objectives[index]" 
               class="flex-1 mr-2 px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" 
               placeholder="êµìœ¡ëª©í‘œë¥¼ ì…ë ¥í•˜ì„¸ìš”" />
        <button type="button" 
                @click="removeObjective(index)" 
                x-show="formData.learning_objectives.length > 1"
                class="px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors">
          ì‚­ì œ
        </button>
      </div>
    </template>
    <button type="button" 
            @click="addObjective()" 
            class="px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors">
      + ëª©í‘œ ì¶”ê°€
    </button>
  </div>
  
  <!-- êµìœ¡ë‚´ìš© -->
  <div class="mb-4">
    <label class="block text-sm font-medium mb-2">êµìœ¡ë‚´ìš©</label>
    <template x-for="(content, index) in formData.learning_contents" :key="index">
      <div class="flex mb-2">
        <input type="text" 
               x-model="formData.learning_contents[index]" 
               class="flex-1 mr-2 px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" 
               placeholder="êµìœ¡ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”" />
        <button type="button" 
                @click="removeContent(index)" 
                x-show="formData.learning_contents.length > 1"
                class="px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors">
          ì‚­ì œ
        </button>
      </div>
    </template>
    <button type="button" 
            @click="addContent()" 
            class="px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors">
      + ë‚´ìš© ì¶”ê°€
    </button>
  </div>
  
  <!-- í‰ê°€ê³„íš -->
  <div class="mb-6">
    <label class="block text-sm font-medium mb-2">í‰ê°€ê³„íš</label>
    <textarea x-model="formData.assessment_plan" 
              class="w-full p-3 border border-gray-300 rounded-lg h-24 focus:ring-blue-500 focus:border-blue-500" 
              placeholder="í‰ê°€ ë°©ë²• ë° ê¸°ì¤€ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
  </div>
  
  <!-- ì €ì¥ ë²„íŠ¼ -->
  <div class="flex justify-end space-x-2">
    <button type="button" 
            @click="cancelEdit()" 
            class="px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors">
      ì·¨ì†Œ
    </button>
    <button type="submit" 
            :disabled="isSaving" 
            class="px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
            x-text="isSaving ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥'">
    </button>
  </div>
</form>

<script>
function curriculumUnitEditor() {
  return {
    // ì»´í¬ë„ŒíŠ¸ ìƒíƒœ
    editingUnit: null,
    isSaving: false,
    
    // í¼ ë°ì´í„°
    formData: {
      subject: 'êµ­ì–´',
      grade_level: '1í•™ë…„',
      semester: '1í•™ê¸°',
      unit_number: 1,
      unit_name: '',
      learning_objectives: [''],
      learning_contents: [''],
      assessment_plan: ''
    },
    
    // ì˜µì…˜ ë°ì´í„°
    grades: ['1í•™ë…„', '2í•™ë…„', '3í•™ë…„', '4í•™ë…„', '5í•™ë…„', '6í•™ë…„'],
    
    // ì´ˆê¸°í™”
    initEditor() {
      // í¸ì§‘ ëª¨ë“œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
      this.$el.addEventListener('curriculum:edit-unit', (e) => {
        this.loadUnitForEdit(e.detail.unit);
      });
      
      // ìƒˆ ë‹¨ì› ì¶”ê°€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
      this.$el.addEventListener('curriculum:add-unit', () => {
        this.resetForm();
      });
    },
    
    // í¸ì§‘í•  ë‹¨ì› ë¡œë“œ
    loadUnitForEdit(unit) {
      this.editingUnit = unit;
      this.formData = {
        subject: unit.subject || 'êµ­ì–´',
        grade_level: unit.grade_level || '1í•™ë…„',
        semester: unit.semester || '1í•™ê¸°',
        unit_number: unit.unit_number || 1,
        unit_name: unit.unit_name || '',
        learning_objectives: unit.learning_objectives?.length ? [...unit.learning_objectives] : [''],
        learning_contents: unit.learning_contents?.length ? [...unit.learning_contents] : [''],
        assessment_plan: unit.assessment_plan || ''
      };
    },
    
    // í¼ ì´ˆê¸°í™”
    resetForm() {
      this.editingUnit = null;
      this.formData = {
        subject: 'êµ­ì–´',
        grade_level: '1í•™ë…„',
        semester: '1í•™ê¸°',
        unit_number: 1,
        unit_name: '',
        learning_objectives: [''],
        learning_contents: [''],
        assessment_plan: ''
      };
    },
    
    // êµìœ¡ëª©í‘œ ì¶”ê°€
    addObjective() {
      this.formData.learning_objectives.push('');
    },
    
    // êµìœ¡ëª©í‘œ ì œê±°
    removeObjective(index) {
      if (this.formData.learning_objectives.length > 1) {
        this.formData.learning_objectives.splice(index, 1);
      }
    },
    
    // êµìœ¡ë‚´ìš© ì¶”ê°€
    addContent() {
      this.formData.learning_contents.push('');
    },
    
    // êµìœ¡ë‚´ìš© ì œê±°
    removeContent(index) {
      if (this.formData.learning_contents.length > 1) {
        this.formData.learning_contents.splice(index, 1);
      }
    },
    
    // í¼ ì œì¶œ
    async handleSubmit() {
      // ìœ íš¨ì„± ê²€ì‚¬
      if (!this.validateForm()) return;
      
      this.isSaving = true;
      
      try {
        // UTF-8 ì•ˆì „ì„± ê²€ì¦
        const textFields = [this.formData.unit_name, this.formData.assessment_plan, ...this.formData.learning_objectives, ...this.formData.learning_contents];
        for (const text of textFields) {
          if (text && !this.validateUTF8(text)) {
            alert('ì…ë ¥ëœ í…ìŠ¤íŠ¸ì— ì¸ì½”ë”© ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.');
            return;
          }
        }
        
        const url = this.editingUnit ? `/api/curriculum/units/${this.editingUnit.id}` : '/api/curriculum/units';
        const method = this.editingUnit ? 'PUT' : 'POST';
        
        const response = await fetch(url, {
          method: method,
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          },
          body: JSON.stringify(this.formData)
        });
        
        if (response.ok) {
          const result = await response.json();
          
          // ì„±ê³µ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
          this.$dispatch('curriculum:unit-saved', {
            unit: result.data,
            isNew: !this.editingUnit
          });
          
          // í¼ ì´ˆê¸°í™”
          this.resetForm();
          
        } else {
          const error = await response.json();
          alert(error.message || 'ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
        
      } catch (error) {
        console.error('ë‹¨ì› ì €ì¥ ì˜¤ë¥˜:', error);
        alert('ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      } finally {
        this.isSaving = false;
      }
    },
    
    // í¸ì§‘ ì·¨ì†Œ
    cancelEdit() {
      this.resetForm();
      this.$dispatch('curriculum:cancel-edit');
    },
    
    // í¼ ìœ íš¨ì„± ê²€ì‚¬
    validateForm() {
      if (!this.formData.unit_name.trim()) {
        alert('ë‹¨ì›ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return false;
      }
      
      if (this.formData.unit_number < 1) {
        alert('ë‹¨ì› ë²ˆí˜¸ëŠ” 1 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.');
        return false;
      }
      
      // ë¹ˆ êµìœ¡ëª©í‘œ ì œê±°
      this.formData.learning_objectives = this.formData.learning_objectives.filter(obj => obj.trim());
      if (this.formData.learning_objectives.length === 0) {
        this.formData.learning_objectives = [''];
      }
      
      // ë¹ˆ êµìœ¡ë‚´ìš© ì œê±°
      this.formData.learning_contents = this.formData.learning_contents.filter(content => content.trim());
      if (this.formData.learning_contents.length === 0) {
        this.formData.learning_contents = [''];
      }
      
      return true;
    },
    
    // UTF-8 ê²€ì¦
    validateUTF8(text) {
      try {
        const encoded = new TextEncoder().encode(text);
        const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
        return decoded === text;
      } catch (error) {
        return false;
      }
    }
  };
}
</script>
```

---

## 5.13 ê´€ë¦¬ì ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸

### 5.13.1 AdminDashboard ì»´í¬ë„ŒíŠ¸
```html
<!-- ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ -->
<div class="space-y-6" 
     x-data="adminDashboard()" 
     x-init="initDashboard()">
  
  <!-- í†µê³„ ì¹´ë“œ -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
    <!-- ì „ì²´ ì‚¬ìš©ì -->
    <div class="bg-white rounded-lg shadow p-6">
      <div class="flex items-center">
        <div class="p-2 bg-blue-100 rounded-lg">
          <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path>
          </svg>
        </div>
        <div class="ml-4">
          <p class="text-sm font-medium text-gray-600">ì „ì²´ ì‚¬ìš©ì</p>
          <p class="text-2xl font-semibold text-gray-900" x-text="statistics.totalUsers"></p>
          <p class="text-sm text-green-600" x-text="statistics.userGrowth"></p>
        </div>
      </div>
    </div>
    
    <!-- í™œì„± ì‚¬ìš©ì -->
    <div class="bg-white rounded-lg shadow p-6">
      <div class="flex items-center">
        <div class="p-2 bg-green-100 rounded-lg">
          <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
        </div>
        <div class="ml-4">
          <p class="text-sm font-medium text-gray-600">í™œì„± ì‚¬ìš©ì</p>
          <p class="text-2xl font-semibold text-gray-900" x-text="statistics.activeUsers"></p>
          <p class="text-sm text-blue-600" x-text="getActiveUserPercentage() + '%'"></p>
        </div>
      </div>
    </div>
    
    <!-- ì „ì²´ í•™ìƒ -->
    <div class="bg-white rounded-lg shadow p-6">
      <div class="flex items-center">
        <div class="p-2 bg-yellow-100 rounded-lg">
          <svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
          </svg>
        </div>
        <div class="ml-4">
          <p class="text-sm font-medium text-gray-600">ì „ì²´ í•™ìƒ</p>
          <p class="text-2xl font-semibold text-gray-900" x-text="statistics.totalStudents"></p>
          <p class="text-sm text-gray-500" x-text="statistics.avgStudentsPerUser + ' ëª…/êµì‚¬'"></p>
        </div>
      </div>
    </div>
    
    <!-- MCP ê¸°ë°˜ ì´ ê²°ì œì•¡ -->
    <div class="bg-white rounded-lg shadow p-6" x-data="{
      mcpRevenue: 0,
      mcpGrowth: '0%',
      async init() {
        await this.loadMcpRevenueData();
      },
      async loadMcpRevenueData() {
        try {
          // Toss Payments MCPë¥¼ í†µí•œ ìˆ˜ìµ ë°ì´í„° ì¡°íšŒ
          const revenueResult = await window.mcp.callTool(
            'tosspayments-integration-guide',
            'getRevenueStatistics',
            { period: 'monthly' }
          );
          
          if (revenueResult.success) {
            this.mcpRevenue = revenueResult.data.total_revenue;
            this.mcpGrowth = revenueResult.data.growth_percentage + '%';
          }
        } catch (error) {
          console.error('ğŸ’³ MCP ìˆ˜ìµ ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜:', error);
          // í´ë°±: Supabase MCPë¡œ ëŒ€ì²´ ë°ì´í„° ì¡°íšŒ
          await this.loadSupabaseRevenueData();
        }
      },
      async loadSupabaseRevenueData() {
        try {
          const result = await window.mcp.callTool(
            'supabase-mcp-server',
            'execute_sql',
            {
              query: 'SELECT SUM(amount) as total_revenue FROM payments WHERE status = \'completed\''
            }
          );
          
          if (result.success && result.data.length > 0) {
            this.mcpRevenue = result.data[0].total_revenue || 0;
          }
        } catch (error) {
          console.error('ğŸ“Š Supabase MCP ìˆ˜ìµ ë°ì´í„° ì˜¤ë¥˜:', error);
        }
      }
    }">
      <div class="flex items-center">
        <div class="p-2 bg-purple-100 rounded-lg">
          <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
          </svg>
        </div>
        <div class="ml-4">
          <p class="text-sm font-medium text-gray-600">MCP ì´ ê²°ì œì•¡</p>
          <p class="text-2xl font-semibold text-gray-900" x-text="formatCurrency(mcpRevenue)"></p>
          <p class="text-sm text-green-600" x-text="mcpGrowth"></p>
          <p class="text-xs text-gray-400 mt-1">í† ìŠ¤í˜ì´ë¨¼ì¸  MCP ì—°ë™</p>
        </div>
      </div>
    </div>
    
    <!-- í™œì„± ë¼ì´ì„ ìŠ¤ -->
    <div class="bg-white rounded-lg shadow p-6">
      <div class="flex items-center">
        <div class="p-2 bg-indigo-100 rounded-lg">
          <svg class="w-6 h-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
          </svg>
        </div>
        <div class="ml-4">
          <p class="text-sm font-medium text-gray-600">í™œì„± ë¼ì´ì„ ìŠ¤</p>
          <p class="text-2xl font-semibold text-gray-900" x-text="statistics.activeLicenses"></p>
          <p class="text-sm text-gray-500" x-text="statistics.licenseUtilization + '%'"></p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- ì°¨íŠ¸ ì˜ì—­ -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- ì‚¬ìš©ì ì„±ì¥ ì°¨íŠ¸ -->
    <div class="bg-white rounded-lg shadow p-6">
      <h3 class="text-lg font-semibold mb-4">ì‚¬ìš©ì ì„±ì¥ ì¶”ì´</h3>
      <canvas x-ref="userGrowthChart" class="w-full h-64"></canvas>
    </div>
    
    <!-- ë¼ì´ì„ ìŠ¤ ë¶„í¬ ì°¨íŠ¸ -->
    <div class="bg-white rounded-lg shadow p-6">
      <h3 class="text-lg font-semibold mb-4">ë¼ì´ì„ ìŠ¤ ë¶„í¬</h3>
      <canvas x-ref="licenseChart" class="w-full h-64"></canvas>
    </div>
  </div>
  
  <!-- í™œë™ ë¡œê·¸ -->
  <div class="bg-white rounded-lg shadow p-6">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-lg font-semibold">ìµœê·¼ í™œë™</h3>
      <button
        @click="refreshActivityLog()"
        class="px-3 py-1 text-sm text-blue-600 hover:text-blue-800 border border-blue-600 rounded hover:bg-blue-50 transition-colors"
      >
        ìƒˆë¡œê³ ì¹¨
      </button>
    </div>
    
    <div x-show="isLoadingActivity" class="flex justify-center py-8">
      <svg class="animate-spin h-8 w-8 text-blue-500" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
      </svg>
    </div>
    
    <div x-show="!isLoadingActivity" class="space-y-3">
      <template x-for="activity in recentActivities" :key="activity.id">
        <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
          <div class="flex-shrink-0">
            <div :class="getActivityIconClass(activity.type)" class="w-8 h-8 rounded-full flex items-center justify-center">
              <span class="text-xs font-medium" x-text="getActivityIcon(activity.type)"></span>
            </div>
          </div>
          <div class="flex-1 min-w-0">
            <p class="text-sm font-medium text-gray-900" x-text="activity.user_name"></p>
            <p class="text-sm text-gray-500" x-text="activity.description"></p>
          </div>
          <div class="flex-shrink-0 text-sm text-gray-400" x-text="formatTimeAgo(activity.created_at)"></div>
        </div>
      </template>
      
      <div x-show="recentActivities.length === 0" class="text-center py-8 text-gray-500">
        ìµœê·¼ í™œë™ì´ ì—†ìŠµë‹ˆë‹¤.
      </div>
    </div>
  </div>
</div>

<script>
function adminDashboard() {
  return {
    // ì»´í¬ë„ŒíŠ¸ ìƒíƒœ
    statistics: {
      totalUsers: 0,
      activeUsers: 0,
      totalStudents: 0,
      totalRevenue: 0,
      activeLicenses: 0,
      userGrowth: '+0%',
      revenueGrowth: '+0%',
      avgStudentsPerUser: 0,
      licenseUtilization: 0
    },
    recentActivities: [],
    isLoadingActivity: false,
    userGrowthChart: null,
    licenseChart: null,
    
    // ì´ˆê¸°í™”
    async initDashboard() {
      await this.loadStatistics();
      await this.loadRecentActivities();
      
      // ì°¨íŠ¸ ì´ˆê¸°í™” (ë‹¤ìŒ í‹±ì—ì„œ ì‹¤í–‰í•˜ì—¬ DOM ì¤€ë¹„ ëŒ€ê¸°)
      this.$nextTick(() => {
        this.initCharts();
      });
      
      // ì£¼ê¸°ì  ì—…ë°ì´íŠ¸ (5ë¶„ë§ˆë‹¤)
      setInterval(() => {
        this.loadStatistics();
        this.loadRecentActivities();
      }, 5 * 60 * 1000);
    },
    
    // í†µê³„ ë°ì´í„° ë¡œë“œ
    async loadStatistics() {
      try {
        const response = await fetch('/api/admin/statistics', {
          headers: {
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          }
        });
        
        if (response.ok) {
          const result = await response.json();
          this.statistics = {
            ...this.statistics,
            ...result.data
          };
        }
      } catch (error) {
        console.error('í†µê³„ ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜:', error);
      }
    },
    
    // ìµœê·¼ í™œë™ ë¡œë“œ
    async loadRecentActivities() {
      this.isLoadingActivity = true;
      
      try {
        const response = await fetch('/api/admin/activities?limit=10', {
          headers: {
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          }
        });
        
        if (response.ok) {
          const result = await response.json();
          this.recentActivities = result.data || [];
        }
      } catch (error) {
        console.error('í™œë™ ë¡œê·¸ ë¡œë“œ ì˜¤ë¥˜:', error);
      } finally {
        this.isLoadingActivity = false;
      }
    },
    
    // í™œë™ ë¡œê·¸ ìƒˆë¡œê³ ì¹¨
    async refreshActivityLog() {
      await this.loadRecentActivities();
    },
    
    // í™œì„± ì‚¬ìš©ì ë¹„ìœ¨ ê³„ì‚°
    getActiveUserPercentage() {
      if (this.statistics.totalUsers === 0) return 0;
      return Math.round((this.statistics.activeUsers / this.statistics.totalUsers) * 100);
    },
    
    // í†µí™” í¬ë§·íŒ…
    formatCurrency(amount) {
      return new Intl.NumberFormat('ko-KR', {
        style: 'currency',
        currency: 'KRW'
      }).format(amount);
    },
    
    // ìƒëŒ€ì  ì‹œê°„ í¬ë§·íŒ…
    formatTimeAgo(dateString) {
      const date = new Date(dateString);
      const now = new Date();
      const diffInMinutes = Math.floor((now - date) / (1000 * 60));
      
      if (diffInMinutes < 1) return 'ë°©ê¸ˆ ì „';
      if (diffInMinutes < 60) return `${diffInMinutes}ë¶„ ì „`;
      if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}ì‹œê°„ ì „`;
      return `${Math.floor(diffInMinutes / 1440)}ì¼ ì „`;
    },
    
    // í™œë™ ì•„ì´ì½˜ í´ë˜ìŠ¤
    getActivityIconClass(type) {
      const classes = {
        'login': 'bg-green-100 text-green-600',
        'logout': 'bg-gray-100 text-gray-600',
        'create': 'bg-blue-100 text-blue-600',
        'update': 'bg-yellow-100 text-yellow-600',
        'delete': 'bg-red-100 text-red-600',
        'payment': 'bg-purple-100 text-purple-600'
      };
      return classes[type] || 'bg-gray-100 text-gray-600';
    },
    
    // í™œë™ ì•„ì´ì½˜
    getActivityIcon(type) {
      const icons = {
        'login': 'â†’',
        'logout': 'â†',
        'create': '+',
        'update': 'âœ',
        'delete': 'Ã—',
        'payment': '$'
      };
      return icons[type] || '?';
    },
    
    // ì°¨íŠ¸ ì´ˆê¸°í™”
    initCharts() {
      if (typeof Chart === 'undefined') {
        console.warn('Chart.jsê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
        return;
      }
      
      // ì‚¬ìš©ì ì„±ì¥ ì°¨íŠ¸
      if (this.$refs.userGrowthChart) {
        this.userGrowthChart = new Chart(this.$refs.userGrowthChart, {
          type: 'line',
          data: {
            labels: ['ì§€ë‚œë‹¬', 'ì´ë²ˆë‹¬'],
            datasets: [{
              label: 'ì‚¬ìš©ì ìˆ˜',
              data: [this.statistics.totalUsers - 50, this.statistics.totalUsers],
              borderColor: 'rgb(59, 130, 246)',
              backgroundColor: 'rgba(59, 130, 246, 0.1)',
              tension: 0.1
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false
          }
        });
      }
      
      // ë¼ì´ì„ ìŠ¤ ë¶„í¬ ì°¨íŠ¸
      if (this.$refs.licenseChart) {
        this.licenseChart = new Chart(this.$refs.licenseChart, {
          type: 'doughnut',
          data: {
            labels: ['í™œì„±', 'ë¹„í™œì„±'],
            datasets: [{
              data: [this.statistics.activeLicenses, this.statistics.totalUsers - this.statistics.activeLicenses],
              backgroundColor: ['rgb(34, 197, 94)', 'rgb(229, 231, 235)']
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false
          }
        });
      }
    }
  };
}
</script>
```

### 5.13.2 UserManagementTable ì»´í¬ë„ŒíŠ¸
```html
<!-- ì‚¬ìš©ì ê´€ë¦¬ í…Œì´ë¸” -->
<div class="space-y-4" x-data="userManagementTable()" x-init="initTable()">
  
  <!-- í•„í„° ì˜ì—­ -->
  <div class="flex flex-col sm:flex-row gap-4">
    <input type="text" x-model="filters.search" @input="debounceSearch()" placeholder="ì‚¬ìš©ì ê²€ìƒ‰..." class="flex-1 px-3 py-2 border border-gray-300 rounded-md" />
    <select x-model="filters.role" @change="applyFilters()" class="px-3 py-2 border rounded-md">
      <option value="all">ì „ì²´ ì—­í• </option>
      <option value="teacher">êµì‚¬</option>
      <option value="admin">ê´€ë¦¬ì</option>
      <option value="super_admin">ìŠˆí¼ ê´€ë¦¬ì</option>
    </select>
    <select x-model="filters.status" @change="applyFilters()" class="px-3 py-2 border rounded-md">
      <option value="all">ì „ì²´ ìƒíƒœ</option>
      <option value="active">í™œì„±</option>
      <option value="inactive">ë¹„í™œì„±</option>
    </select>
  </div>
  
  <!-- ë¡œë”© ì¸ë””ì¼€ì´í„° -->
  <div x-show="isLoading" class="flex justify-center py-8">
    <svg class="animate-spin h-8 w-8 text-blue-500" fill="none" viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
      <path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
    </svg>
  </div>
  
  <!-- ì‚¬ìš©ì í…Œì´ë¸” -->
  <div x-show="!isLoading" class="bg-white rounded-lg shadow overflow-hidden">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-50">
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ì‚¬ìš©ì</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ì—­í• </th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ìƒíƒœ</th>
          <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">ì‘ì—…</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        <template x-for="user in filteredUsers" :key="user.id">
          <tr class="hover:bg-gray-50">
            <td class="px-6 py-4">
              <div class="flex items-center space-x-3">
                <img :src="user.profile_image_url || '/default-avatar.png'" :alt="user.full_name" class="w-10 h-10 rounded-full" />
                <div>
                  <div class="text-sm font-medium" x-text="user.full_name"></div>
                  <div class="text-sm text-gray-500" x-text="user.email"></div>
                </div>
              </div>
            </td>
            <td class="px-6 py-4">
              <span :class="getRoleClass(user.role)" class="px-2 py-1 text-xs rounded-full" x-text="getRoleLabel(user.role)"></span>
            </td>
            <td class="px-6 py-4">
              <span :class="user.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'" class="px-2 py-1 text-xs rounded-full" x-text="user.is_active ? 'í™œì„±' : 'ë¹„í™œì„±'"></span>
            </td>
            <td class="px-6 py-4 text-right space-x-2">
              <button @click="viewUserDetails(user.id)" class="text-blue-600 hover:text-blue-900 text-sm">ìƒì„¸</button>
              <button @click="toggleUserStatus(user.id, user.is_active)" :class="user.is_active ? 'text-red-600' : 'text-green-600'" class="text-sm" x-text="user.is_active ? 'ë¹„í™œì„±í™”' : 'í™œì„±í™”'"></button>
            </td>
          </tr>
        </template>
      </tbody>
    </table>
  </div>
</div>

<script>
function userManagementTable() {
  return {
    users: [],
    filteredUsers: [],
    isLoading: false,
    filters: { search: '', role: 'all', status: 'all' },
    searchTimeout: null,
    
    async initTable() {
      await this.loadUsers();
      this.applyFilters();
    },
    
    async loadUsers() {
      this.isLoading = true;
      try {
        const response = await fetch('/api/admin/users', {
          headers: { 'Authorization': `Bearer ${Alpine.store('auth').token}` }
        });
        if (response.ok) {
          const result = await response.json();
          this.users = result.data || [];
        }
      } catch (error) {
        console.error('ì‚¬ìš©ì ë¡œë“œ ì˜¤ë¥˜:', error);
      } finally {
        this.isLoading = false;
      }
    },
    
    applyFilters() {
      let filtered = [...this.users];
      if (this.filters.search.trim()) {
        const query = this.filters.search.toLowerCase();
        filtered = filtered.filter(user => 
          user.full_name.toLowerCase().includes(query) || user.email.toLowerCase().includes(query)
        );
      }
      if (this.filters.role !== 'all') {
        filtered = filtered.filter(user => user.role === this.filters.role);
      }
      if (this.filters.status !== 'all') {
        filtered = filtered.filter(user => 
          this.filters.status === 'active' ? user.is_active : !user.is_active
        );
      }
      this.filteredUsers = filtered;
    },
    
    debounceSearch() {
      clearTimeout(this.searchTimeout);
      this.searchTimeout = setTimeout(() => this.applyFilters(), 300);
    },
    
    viewUserDetails(userId) {
      this.$dispatch('user:view-details', { userId });
    },
    
    async toggleUserStatus(userId, currentStatus) {
      if (!confirm(currentStatus ? 'ë¹„í™œì„±í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?' : 'í™œì„±í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
      try {
        const response = await fetch(`/api/admin/users/${userId}/toggle-status`, {
          method: 'PATCH',
          headers: { 'Authorization': `Bearer ${Alpine.store('auth').token}` }
        });
        if (response.ok) {
          await this.loadUsers();
          this.applyFilters();
        }
      } catch (error) {
        console.error('ìƒíƒœ ë³€ê²½ ì˜¤ë¥˜:', error);
      }
    },
    
    getRoleClass(role) {
      return role === 'super_admin' ? 'bg-red-100 text-red-800' :
             role === 'admin' ? 'bg-blue-100 text-blue-800' : 'bg-green-100 text-green-800';
    },
    
    getRoleLabel(role) {
      return role === 'super_admin' ? 'ìŠˆí¼ ê´€ë¦¬ì' :
             role === 'admin' ? 'ê´€ë¦¬ì' : 'êµì‚¬';
    }
  };
}
</script>
```

### 5.13.3 SystemSettingsPanel ì»´í¬ë„ŒíŠ¸
```html
<!-- ì‹œìŠ¤í…œ ì„¤ì • íŒ¨ë„ -->
<div class="bg-white rounded-lg shadow p-6" x-data="systemSettingsPanel()" x-init="initSettings()">
  
  <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
  <div class="border-b border-gray-200">
    <nav class="-mb-px flex space-x-8">
      <template x-for="tab in tabs" :key="tab.value">
        <button
          @click="activeTab = tab.value; filterSettingsByTab()"
          :class="activeTab === tab.value ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'"
          class="whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors"
          x-text="tab.label"
        ></button>
      </template>
    </nav>
  </div>
  
  <!-- ë¡œë”© ì¸ë””ì¼€ì´í„° -->
  <div x-show="isLoading" class="flex justify-center py-8">
    <svg class="animate-spin h-8 w-8 text-blue-500" fill="none" viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
      <path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
    </svg>
  </div>
  
  <!-- ì„¤ì • ëª©ë¡ -->
  <div x-show="!isLoading" class="mt-6 space-y-6">
    <template x-for="setting in currentTabSettings" :key="setting.setting_key">
      <div class="flex items-center justify-between py-4 border-b border-gray-100 last:border-b-0">
        <!-- ì„¤ì • ì •ë³´ -->
        <div class="flex-1">
          <h4 class="text-sm font-medium text-gray-900" x-text="setting.display_name"></h4>
          <p x-show="setting.description" class="text-sm text-gray-500 mt-1" x-text="setting.description"></p>
        </div>
        
        <!-- ì„¤ì • ì…ë ¥ -->
        <div class="ml-4">
          <!-- Boolean ìŠ¤ìœ„ì¹˜ -->
          <div x-show="setting.data_type === 'boolean'">
            <button
              @click="toggleBooleanSetting(setting.setting_key)"
              :class="getBooleanValue(setting) ? 'bg-blue-600' : 'bg-gray-200'"
              class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
            >
              <span 
                :class="getBooleanValue(setting) ? 'translate-x-6' : 'translate-x-1'"
                class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"
              ></span>
            </button>
          </div>
          
          <!-- Number ì…ë ¥ -->
          <div x-show="setting.data_type === 'number'">
            <input
              type="number"
              :value="getCurrentValue(setting)"
              @input="handleSettingChange(setting.setting_key, parseInt($event.target.value))"
              class="w-24 px-3 py-1 text-sm border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
            />
          </div>
          
          <!-- Text ì…ë ¥ -->
          <div x-show="setting.data_type === 'string' || setting.data_type === 'text'">
            <input
              type="text"
              :value="getCurrentValue(setting)"
              @input="handleSettingChange(setting.setting_key, $event.target.value)"
              class="w-48 px-3 py-1 text-sm border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
            />
          </div>
          
          <!-- Select ì˜µì…˜ -->
          <div x-show="setting.data_type === 'select'">
            <select
              :value="getCurrentValue(setting)"
              @change="handleSettingChange(setting.setting_key, $event.target.value)"
              class="px-3 py-1 text-sm border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
            >
              <template x-for="option in setting.options" :key="option.value">
                <option :value="option.value" x-text="option.label"></option>
              </template>
            </select>
          </div>
        </div>
      </div>
    </template>
    
    <!-- ë°ì´í„° ì—†ìŒ -->
    <div x-show="currentTabSettings.length === 0 && !isLoading" class="text-center py-8 text-gray-500">
      ì´ ì¹´í…Œê³ ë¦¬ì—ëŠ” ì„¤ì •ì´ ì—†ìŠµë‹ˆë‹¤.
    </div>
    
    <!-- ë³€ê²½ì‚¬í•­ ì ìš© -->
    <div x-show="hasPendingChanges()" class="flex justify-end space-x-3 pt-4 border-t border-gray-200">
      <button
        @click="cancelChanges()"
        class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
      >
        ì·¨ì†Œ
      </button>
      <button
        @click="applyChanges()"
        :disabled="isSaving"
        class="px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"
        x-text="isSaving ? 'ì €ì¥ ì¤‘...' : 'ë³€ê²½ì‚¬í•­ ì ìš©'"
      >
      </button>
    </div>
  </div>
  
  <!-- ì„±ê³µ ë©”ì‹œì§€ -->
  <div x-show="showSuccessMessage" 
       x-transition:enter="transition ease-out duration-300"
       x-transition:enter-start="opacity-0 transform translate-y-2"
       x-transition:enter-end="opacity-100 transform translate-y-0"
       x-transition:leave="transition ease-in duration-200"
       x-transition:leave-start="opacity-100 transform translate-y-0"
       x-transition:leave-end="opacity-0 transform translate-y-2"
       class="fixed top-4 right-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg z-50">
    <div class="flex items-center">
      <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
      </svg>
      ì„¤ì •ì´ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.
    </div>
  </div>
</div>

<script>
function systemSettingsPanel() {
  return {
    // ì»´í¬ë„ŒíŠ¸ ìƒíƒœ
    settings: [],
    currentTabSettings: [],
    pendingChanges: {},
    isLoading: false,
    isSaving: false,
    showSuccessMessage: false,
    
    // íƒ­ ì„¤ì •
    activeTab: 'general',
    tabs: [
      { value: 'general', label: 'ì¼ë°˜ ì„¤ì •' },
      { value: 'security', label: 'ë³´ì•ˆ ì„¤ì •' },
      { value: 'api', label: 'API ì„¤ì •' },
      { value: 'notification', label: 'ì•Œë¦¼ ì„¤ì •' }
    ],
    
    // ì´ˆê¸°í™”
    async initSettings() {
      await this.loadSettings();
      this.filterSettingsByTab();
    },
    
    // ì„¤ì • ë°ì´í„° ë¡œë“œ
    async loadSettings() {
      this.isLoading = true;
      
      try {
        const response = await fetch('/api/admin/settings', {
          headers: {
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          }
        });
        
        if (response.ok) {
          const result = await response.json();
          this.settings = result.data || [];
        } else {
          console.error('ì„¤ì • ë¡œë“œ ì‹¤íŒ¨');
        }
      } catch (error) {
        console.error('ì„¤ì • ë¡œë“œ ì˜¤ë¥˜:', error);
      } finally {
        this.isLoading = false;
      }
    },
    
    // íƒ­ë³„ ì„¤ì • í•„í„°ë§
    filterSettingsByTab() {
      this.currentTabSettings = this.settings.filter(setting => 
        setting.setting_type === this.activeTab
      );
    },
    
    // ì„¤ì •ê°’ ë³€ê²½ ì²˜ë¦¬
    handleSettingChange(key, value) {
      this.pendingChanges[key] = value;
    },
    
    // Boolean ì„¤ì • í† ê¸€
    toggleBooleanSetting(key) {
      const currentValue = this.getBooleanValue(this.settings.find(s => s.setting_key === key));
      this.handleSettingChange(key, !currentValue);
    },
    
    // í˜„ì¬ê°’ ê°€ì ¸ì˜¤ê¸°
    getCurrentValue(setting) {
      return this.pendingChanges[setting.setting_key] ?? setting.setting_value;
    },
    
    // Boolean ê°’ ê°€ì ¸ì˜¤ê¸°
    getBooleanValue(setting) {
      const value = this.getCurrentValue(setting);
      return value === 'true' || value === true;
    },
    
    // ë³€ê²½ì‚¬í•­ ì¡´ì¬ ì—¬ë¶€
    hasPendingChanges() {
      return Object.keys(this.pendingChanges).length > 0;
    },
    
    // ë³€ê²½ì‚¬í•­ ì·¨ì†Œ
    cancelChanges() {
      this.pendingChanges = {};
    },
    
    // ë³€ê²½ì‚¬í•­ ì ìš©
    async applyChanges() {
      if (!this.hasPendingChanges()) return;
      
      this.isSaving = true;
      
      try {
        // ë³€ê²½ì‚¬í•­ì„ ì„œë²„ì— ì „ì†¡
        const response = await fetch('/api/admin/settings', {
          method: 'PATCH',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          },
          body: JSON.stringify({
            changes: this.pendingChanges
          })
        });
        
        if (response.ok) {
          // ë¡œì»¬ ìƒíƒœ ì—…ë°ì´íŠ¸
          Object.entries(this.pendingChanges).forEach(([key, value]) => {
            const setting = this.settings.find(s => s.setting_key === key);
            if (setting) {
              setting.setting_value = value;
            }
          });
          
          // ë³€ê²½ì‚¬í•­ ì´ˆê¸°í™”
          this.pendingChanges = {};
          
          // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
          this.showSuccessMessage = true;
          setTimeout(() => {
            this.showSuccessMessage = false;
          }, 3000);
          
          // ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
          this.$dispatch('settings:updated', {
            changes: this.pendingChanges
          });
          
        } else {
          const error = await response.json();
          alert(error.message || 'ì„¤ì • ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
        
      } catch (error) {
        console.error('ì„¤ì • ì €ì¥ ì˜¤ë¥˜:', error);
        alert('ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      } finally {
        this.isSaving = false;
      }
    }
  };
}
</script>
```

### 5.13.4 NotificationCenter ì»´í¬ë„ŒíŠ¸
```html
<!-- ì•Œë¦¼ ì„¼í„° -->
<div class="bg-white rounded-lg shadow max-w-md mx-auto" x-data="notificationCenter()" x-init="loadNotifications()">
  
  <!-- í—¤ë” -->
  <div class="flex items-center justify-between p-4 border-b border-gray-200">
    <h3 class="text-lg font-semibold text-gray-900">
      ì•Œë¦¼
      <span x-show="unreadCount > 0" class="ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800" x-text="unreadCount"></span>
    </h3>
    <button 
      x-show="unreadCount > 0"
      @click="markAllAsRead()"
      :disabled="isProcessing"
      class="text-sm text-blue-600 hover:text-blue-800 disabled:opacity-50"
    >
      ëª¨ë‘ ì½ìŒ
    </button>
  </div>
  
  <!-- ë¡œë”© -->
  <div x-show="isLoading" class="flex justify-center py-8">
    <svg class="animate-spin h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
      <path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
    </svg>
  </div>
  
  <!-- ì•Œë¦¼ ëª©ë¡ -->
  <div x-show="!isLoading" class="max-h-96 overflow-y-auto">
    <!-- ë¹ˆ ìƒíƒœ -->
    <div x-show="notifications.length === 0" class="text-center py-8 text-gray-500">
      <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5-5h5V7H9v5l-5 5h5v5z" />
      </svg>
      <h3 class="mt-2 text-sm font-medium text-gray-900">ìƒˆë¡œìš´ ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤</h3>
      <p class="mt-1 text-sm text-gray-500">ìƒˆ ì•Œë¦¼ì´ ë„ì°©í•˜ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
    </div>
    
    <!-- ì•Œë¦¼ ì•„ì´í…œ -->
    <template x-for="notification in notifications" :key="notification.id">
      <div 
        :class="notification.is_read ? 'bg-white hover:bg-gray-50' : 'bg-blue-50 hover:bg-blue-100'"
        class="border-b border-gray-100 last:border-b-0 transition-colors"
      >
        <div class="p-4">
          <div class="flex items-start justify-between">
            <!-- ì•Œë¦¼ ë‚´ìš© -->
            <div class="flex-1 min-w-0">
              <!-- ì½ì§€ ì•ŠìŒ í‘œì‹œ -->
              <div x-show="!notification.is_read" class="flex items-center mb-1">
                <div class="w-2 h-2 bg-blue-500 rounded-full mr-2"></div>
                <span class="text-xs text-blue-600 font-medium">ìƒˆ ì•Œë¦¼</span>
              </div>
              
              <h4 class="text-sm font-medium text-gray-900 mb-1" x-text="notification.title"></h4>
              <p class="text-sm text-gray-600 mb-2" x-text="notification.message"></p>
              <p class="text-xs text-gray-400" x-text="formatRelativeTime(notification.created_at)"></p>
            </div>
            
            <!-- ì•¡ì…˜ ë²„íŠ¼ -->
            <div class="flex items-center space-x-1 ml-3">
              <!-- ì½ìŒ ì²˜ë¦¬ -->
              <button 
                x-show="!notification.is_read"
                @click="markAsRead(notification.id)"
                :disabled="isProcessing"
                class="text-xs text-blue-600 hover:text-blue-800 px-2 py-1 rounded disabled:opacity-50"
              >
                ì½ìŒ
              </button>
              
              <!-- ì‚­ì œ -->
              <button 
                @click="deleteNotification(notification.id)"
                :disabled="isProcessing"
                class="text-xs text-red-600 hover:text-red-800 px-2 py-1 rounded disabled:opacity-50"
              >
                ì‚­ì œ
              </button>
            </div>
          </div>
        </div>
      </div>
    </template>
  </div>
  
  <!-- í•˜ë‹¨ ì•¡ì…˜ -->
  <div x-show="notifications.length > 0 && !isLoading" class="p-4 border-t border-gray-200 bg-gray-50">
    <div class="flex justify-between items-center">
      <span class="text-sm text-gray-500" x-text="`ì´ ${notifications.length}ê°œì˜ ì•Œë¦¼`"></span>
      <button 
        @click="refreshNotifications()"
        :disabled="isLoading"
        class="text-sm text-gray-600 hover:text-gray-800 disabled:opacity-50"
      >
        ìƒˆë¡œê³ ì¹¨
      </button>
    </div>
  </div>
</div>

<script>
function notificationCenter() {
  return {
    // ìƒíƒœ
    notifications: [],
    isLoading: false,
    isProcessing: false,
    
    // ê³„ì‚°ëœ ì†ì„±
    get unreadCount() {
      return this.notifications.filter(n => !n.is_read).length;
    },
    
    // ì´ˆê¸°í™”
    async loadNotifications() {
      this.isLoading = true;
      
      try {
        const response = await fetch('/api/notifications', {
          headers: {
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          }
        });
        
        if (response.ok) {
          const result = await response.json();
          this.notifications = result.data || [];
        } else {
          console.error('ì•Œë¦¼ ë¡œë“œ ì‹¤íŒ¨');
        }
      } catch (error) {
        console.error('ì•Œë¦¼ ë¡œë“œ ì˜¤ë¥˜:', error);
      } finally {
        this.isLoading = false;
      }
    },
    
    // ìƒˆë¡œê³ ì¹¨
    async refreshNotifications() {
      await this.loadNotifications();
    },
    
    // ê°œë³„ ì½ìŒ ì²˜ë¦¬
    async markAsRead(id) {
      if (this.isProcessing) return;
      
      this.isProcessing = true;
      
      try {
        const response = await fetch(`/api/notifications/${id}/read`, {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          }
        });
        
        if (response.ok) {
          // ë¡œì»¬ ìƒíƒœ ì—…ë°ì´íŠ¸
          const notification = this.notifications.find(n => n.id === id);
          if (notification) {
            notification.is_read = true;
          }
          
          // ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
          this.$dispatch('notification:read', { id });
        } else {
          alert('ì½ìŒ ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
      } catch (error) {
        console.error('ì½ìŒ ì²˜ë¦¬ ì˜¤ë¥˜:', error);
        alert('ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      } finally {
        this.isProcessing = false;
      }
    },
    
    // ì „ì²´ ì½ìŒ ì²˜ë¦¬
    async markAllAsRead() {
      if (this.isProcessing || this.unreadCount === 0) return;
      
      this.isProcessing = true;
      
      try {
        const response = await fetch('/api/notifications/read-all', {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          }
        });
        
        if (response.ok) {
          // ëª¨ë“  ì•Œë¦¼ì„ ì½ìŒìœ¼ë¡œ í‘œì‹œ
          this.notifications.forEach(notification => {
            notification.is_read = true;
          });
          
          // ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
          this.$dispatch('notification:read-all');
        } else {
          alert('ì „ì²´ ì½ìŒ ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
      } catch (error) {
        console.error('ì „ì²´ ì½ìŒ ì²˜ë¦¬ ì˜¤ë¥˜:', error);
        alert('ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      } finally {
        this.isProcessing = false;
      }
    },
    
    // ì•Œë¦¼ ì‚­ì œ
    async deleteNotification(id) {
      if (this.isProcessing) return;
      
      if (!confirm('ì´ ì•Œë¦¼ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
      
      this.isProcessing = true;
      
      try {
        const response = await fetch(`/api/notifications/${id}`, {
          method: 'DELETE',
          headers: {
            'Authorization': `Bearer ${Alpine.store('auth').token}`
          }
        });
        
        if (response.ok) {
          // ë¡œì»¬ì—ì„œ ì œê±°
          this.notifications = this.notifications.filter(n => n.id !== id);
          
          // ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
          this.$dispatch('notification:deleted', { id });
        } else {
          alert('ì•Œë¦¼ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
      } catch (error) {
        console.error('ì•Œë¦¼ ì‚­ì œ ì˜¤ë¥˜:', error);
        alert('ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      } finally {
        this.isProcessing = false;
      }
    },
    
    // ìƒëŒ€ ì‹œê°„ í¬ë§·
    formatRelativeTime(dateString) {
      const date = new Date(dateString);
      const now = new Date();
      const diffInSeconds = Math.floor((now - date) / 1000);
      
      if (diffInSeconds < 60) {
        return 'ë°©ê¸ˆ ì „';
      } else if (diffInSeconds < 3600) {
        const minutes = Math.floor(diffInSeconds / 60);
        return `${minutes}ë¶„ ì „`;
      } else if (diffInSeconds < 86400) {
        const hours = Math.floor(diffInSeconds / 3600);
        return `${hours}ì‹œê°„ ì „`;
      } else {
        const days = Math.floor(diffInSeconds / 86400);
        return `${days}ì¼ ì „`;
      }
    }
  };
}
</script>
```

---

## ğŸ”— **ê´€ë ¨ ë¬¸ì„œ**

- **[03_UI_UX_ì„¤ê³„.md](./03_UI_UX_ì„¤ê³„.md)**: ë””ìì¸ ì‹œìŠ¤í…œ ë° ìŠ¤íƒ€ì¼ ê°€ì´ë“œ
- **[06_ìƒíƒœ_ê´€ë¦¬.md](./06_ìƒíƒœ_ê´€ë¦¬.md)**: Alpine.js ìƒíƒœ ê´€ë¦¬ ì„¤ê³„
- **[12_ê°œë°œ_ê°€ì´ë“œ.md](./12_ê°œë°œ_ê°€ì´ë“œ.md)**: ì»´í¬ë„ŒíŠ¸ ê°œë°œ ê°€ì´ë“œë¼ì¸
