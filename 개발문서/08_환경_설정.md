# âš™ï¸ IEPON MCP í™˜ê²½ ì„¤ì •

> **HTML + Alpine.js + HTMX + Supabase MCP + Toss Payments MCP ê¸°ë°˜ í™˜ê²½ ì„¤ì •**  
> **ì—°ê²° ë¬¸ì„œ**: [01_ì‹œìŠ¤í…œ_ì•„í‚¤í…ì²˜.md](./01_ì‹œìŠ¤í…œ_ì•„í‚¤í…ì²˜.md) | [10_ë°°í¬_ê°€ì´ë“œ.md](./10_ë°°í¬_ê°€ì´ë“œ.md) | [11_ê°œë°œ_ê°€ì´ë“œ.md](./11_ê°œë°œ_ê°€ì´ë“œ.md) | [14_ê²°ì œ_ì„¤ê³„.md](./14_ê²°ì œ_ì„¤ê³„.md)

---

## ğŸ“‹ MCP í™˜ê²½ ì„¤ì • ê°œìš”

### ğŸ¯ MCP ê¸°ë°˜ ê¸°ìˆ  ìŠ¤íƒ íŠ¹ì§•
- **í”„ë¡ íŠ¸ì—”ë“œ**: HTML5 + CSS3 + Alpine.js + HTMX (ë¹Œë“œ ê³¼ì • ì—†ìŒ)
- **ë°±ì—”ë“œ**: Supabase MCP ì„œë²„ (PostgreSQL + Auth + Storage + Edge Functions)
- **ê²°ì œ**: Toss Payments MCP ì„œë²„ (AI ì—ì´ì „íŠ¸ ê¸°ë°˜ ê²°ì œ í”Œë¡œìš°)
- **ë°°í¬**: Netlify (ì •ì  íŒŒì¼ í˜¸ìŠ¤íŒ…)
- **ê°œë°œ í™˜ê²½**: Windsurf MCP í†µí•© ê°œë°œ í™˜ê²½

### âš¡ MCP ê¸°ë°˜ AI ì—ì´ì „íŠ¸ ì¹œí™”ì  ì„¤ì • ì›ì¹™
- MCP í”„ë¡œí† ì½œì„ í†µí•œ AI ì—ì´ì „íŠ¸ ìë™ ì—°ë™
- Windsurf MCP ì„¤ì •ì„ í†µí•œ ê°œë°œ í™˜ê²½ ìµœì í™”
- UTF-8 í•œê¸€ ì²˜ë¦¬ ì•ˆì „ì„± ìš°ì„  ê³ ë ¤
- ì‹¤ì‹œê°„ MCP ì„œë²„ ìƒíƒœ ëª¨ë‹ˆí„°ë§ ë° ìë™ ë³µêµ¬
- AI ì—ì´ì „íŠ¸ ê¸°ë°˜ ìë™í™”ëœ ê²°ì œ ë° ë°ì´í„° ì²˜ë¦¬

---

## 8.1 MCP ì„œë²„ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

> **MCP ê¸°ë°˜ í™˜ê²½ ë³€ìˆ˜ ëª…ëª… ê·œì¹™**: MCP ì„œë²„ ì„¤ì •ì€ `~/.codeium/windsurf/mcp_config.json`ì—ì„œ ê´€ë¦¬í•˜ë©°, í´ë¼ì´ì–¸íŠ¸ëŠ” `window.mcp` ê°ì²´ë¥¼ í†µí•´ MCP íˆ´ì— ì ‘ê·¼í•©ë‹ˆë‹¤. ë¯¼ê°í•œ API í‚¤ëŠ” MCP ì„œë²„ ì„¤ì •ì—ì„œ ì•ˆì „í•˜ê²Œ ê´€ë¦¬ë©ë‹ˆë‹¤.

### 8.1.0 MCP ì„œë²„ ì„¤ì • (~/.codeium/windsurf/mcp_config.json)
```json
{
  "mcpServers": {
    "supabase-mcp-server": {
      "command": "npx",
      "args": ["@supabase/mcp-server"],
      "env": {
        "SUPABASE_URL": "https://nkssusbaaycylcvnpcmt.supabase.co",
        "SUPABASE_SERVICE_ROLE_KEY": "your-service-role-key",
        "SUPABASE_PROJECT_ID": "nkssusbaaycylcvnpcmt"
      }
    },
    "tosspayments-integration-guide": {
      "command": "npx",
      "args": ["@tosspayments/integration-guide-mcp"],
      "env": {
        "TOSS_CLIENT_KEY": "test_ck_D5GePWvyJnrK0W0k6q8gLzN97Eoq",
        "TOSS_SECRET_KEY": "test_sk_zXLkKEypNArWmo50nX3lmeaxYG5R",
        "TOSS_WEBHOOK_SECRET": "your-webhook-secret",
        "TOSS_MODE": "sandbox",
        "TOSS_API_VERSION": "2022-11-16"
      }
    }
  }
}
```

### 8.1.1 .env (MCP í´ë¼ì´ì–¸íŠ¸ í™˜ê²½)
```bash
# ===========================================
# IEPON MCP í´ë¼ì´ì–¸íŠ¸ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
# ===========================================

# MCP ì„œë²„ ì—°ê²° ì„¤ì • (í´ë¼ì´ì–¸íŠ¸ ì ‘ê·¼ìš©)
# âœ… ë¸Œë¼ìš°ì €ì—ì„œ window.mcp ê°ì²´ë¥¼ í†µí•´ ì ‘ê·¼
MCP_SUPABASE_SERVER=supabase-mcp-server
MCP_PAYMENTS_SERVER=tosspayments-integration-guide
MCP_CONNECTION_TIMEOUT=10000  # 10ì´ˆ
MCP_RETRY_COUNT=3
MCP_HEALTH_CHECK_INTERVAL=30000  # 30ì´ˆ

# Supabase MCP ì„¤ì • (í´ë¼ì´ì–¸íŠ¸ ì ‘ê·¼ìš©)
# âœ… MCP ì„œë²„ë¥¼ í†µí•´ ì•ˆì „í•˜ê²Œ ì ‘ê·¼
SUPABASE_URL=https://nkssusbaaycylcvnpcmt.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5rc3N1c2JhYXljeWxjdm5wY210Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxOTc3NDcsImV4cCI6MjA2Nzc3Mzc0N30.dxWvFsjoaWprlOJOICSU2n_jKIroMF7H9xLAiZRtUac
# âš ï¸ ì„œë²„ í‚¤ëŠ” MCP ì„œë²„ì—ì„œë§Œ ì‚¬ìš© (ë¸Œë¼ìš°ì € ë…¸ì¶œ ê¸ˆì§€)
SUPABASE_PROJECT_ID=nkssusbaaycylcvnpcmt

# Toss Payments MCP ì„¤ì • (í´ë¼ì´ì–¸íŠ¸ ì ‘ê·¼ìš©)
# âœ… MCP ì„œë²„ë¥¼ í†µí•´ AI ì—ì´ì „íŠ¸ê°€ ìë™ ì²˜ë¦¬
TOSS_CLIENT_KEY=test_ck_D5GePWvyJnrK0W0k6q8gLzN97Eoq  # í´ë¼ì´ì–¸íŠ¸ ìœ„ì ¯ìš©
TOSS_MODE=sandbox  # sandbox ë˜ëŠ” production
TOSS_CURRENCY=KRW
TOSS_COUNTRY=KR
# âš ï¸ ì‹œí¬ë¦¿ í‚¤ì™€ ì›¹í›… ì‹œí¬ë¦¿ì€ MCP ì„œë²„ì—ì„œë§Œ ì‚¬ìš©

# ë„ë©”ì¸ ë° ì•± ì„¤ì •
DOMAIN=iepon.site
SITE_URL=https://iepon.site
APP_URL=https://iepon.site
APP_NAME=IEPON
APP_DESCRIPTION=AI ê¸°ë°˜ íŠ¹ìˆ˜êµìœ¡ ê´€ë¦¬ ì‹œìŠ¤í…œ
APP_VERSION=1.0.0
APP_LANGUAGE=ko
APP_TIMEZONE=Asia/Seoul

# ê´€ë¦¬ì ê³„ì • ì„¤ì • (ì´ˆê¸° ì„¤ì •ìš©)
# âš ï¸ Supabase Auth + RLS ì •ì±…ìœ¼ë¡œ ê´€ë¦¬ë˜ë©°, Edge Functionsì—ì„œë§Œ ì‚¬ìš©
# í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” Supabase ëŒ€ì‹œë³´ë“œì—ì„œ ì§ì ‘ ê´€ë¦¬
ADMIN_ROLE=super_admin
ADMIN_DISPLAY_NAME=IEPON ì‹œìŠ¤í…œ ê´€ë¦¬ì
ADMIN_DEPARTMENT=ì‹œìŠ¤í…œê´€ë¦¬íŒ€
ADMIN_PERMISSIONS=all

# Supabase ì¸ì¦ ì„¤ì • (JWTëŠ” Supabaseì—ì„œ ìë™ ê´€ë¦¬)
# âœ… Alpine.jsì—ì„œ supabase.auth.getSession()ìœ¼ë¡œ í† í° ìë™ ì²˜ë¦¬
AUTH_SESSION_TIMEOUT=24h  # ì„¸ì…˜ ìœ ì§€ ì‹œê°„
AUTH_REFRESH_MARGIN=5m    # í† í° ê°±ì‹  ì—¬ìœ  ì‹œê°„
AUTH_REMEMBER_ME=true     # ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€
AUTH_REDIRECT_URL=/dashboard  # ë¡œê·¸ì¸ í›„ ë¦¬ë””ë ‰ì…˜
AUTH_LOGOUT_REDIRECT_URL=/  # ë¡œê·¸ì•„ì›ƒ í›„ ë¦¬ë””ë ‰ì…˜

# ë°ì´í„° ì•”í˜¸í™” ì„¤ì • (Supabase Edge Functions ì „ìš©)
# âš ï¸ ë¸Œë¼ìš°ì € ë…¸ì¶œ ê¸ˆì§€, ì„œë²„ì‚¬ì´ë“œ ì•”í˜¸í™” ì „ìš©
ENCRYPTION_ALGORITHM=AES-256-GCM
ENCRYPTION_KEY_LENGTH=32
DATA_ENCRYPTION_ENABLED=true
SENSITIVE_FIELDS=student_ssn,guardian_phone,medical_info

# AI ì„œë¹„ìŠ¤ ì„¤ì • (Supabase Edge Functions ì „ìš©)
# âš ï¸ API í‚¤ëŠ” Edge Functionsì—ì„œë§Œ ì‚¬ìš©, ë¸Œë¼ìš°ì € ë…¸ì¶œ ì ˆëŒ€ ê¸ˆì§€
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4o
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7
OPENAI_TOP_P=0.9
OPENAI_FREQUENCY_PENALTY=0.0
OPENAI_PRESENCE_PENALTY=0.0

# AI í•œêµ­ì–´ ìµœì í™” ì„¤ì •
AI_LANGUAGE=korean
AI_ENCODING=UTF-8
AI_FORMALITY_LEVEL=formal
AI_EDUCATION_CONTEXT=special_needs
AI_PROMPT_VERSION=v3.0
AI_RESPONSE_FORMAT=korean_educational

# AI í’ˆì§ˆ ë° ì•ˆì „ì„± ê´€ë¦¬
AI_CONFIDENCE_THRESHOLD=0.8
AI_CONTENT_FILTER_ENABLED=true
AI_EDUCATIONAL_GUIDELINES_CHECK=true
AI_BACKUP_MODEL=gpt-3.5-turbo
AI_RETRY_COUNT=3
AI_TIMEOUT_SECONDS=30
AI_RATE_LIMIT_PER_MINUTE=60

# êµìœ¡ê³¼ì • ê´€ë¦¬ ì„¤ì • (HTMX + Supabase Storage)
# âœ… Supabase Storage ê¸°ë°˜ íŒŒì¼ ì—…ë¡œë“œ ë° ê´€ë¦¬
CURRICULUM_UPLOAD_MAX_SIZE=10485760  # 10MB
CURRICULUM_SUPPORTED_FORMATS=xlsx,csv,json  # í™•ì¥ ì§€ì› í˜•ì‹
CURRICULUM_TEMPLATE_VERSION=v2.0  # Alpine.js í˜¸í™˜ í…œí”Œë¦¿
CURRICULUM_BATCH_SIZE=50
CURRICULUM_AUTO_BACKUP=true
CURRICULUM_BACKUP_RETENTION_DAYS=90
CURRICULUM_REALTIME_SYNC=true  # HTMX ì‹¤ì‹œê°„ ë™ê¸°í™”
CURRICULUM_PROGRESS_TRACKING=true  # Alpine.js ì§„í–‰ë¥  í‘œì‹œ

# êµìœ¡ê³¼ì • UTF-8 ì•ˆì „ì„± ë° ê²€ì¦
CURRICULUM_UTF8_VALIDATION=true  # í•œê¸€ ë°ì´í„° ê²€ì¦ í•„ìˆ˜
CURRICULUM_ENCODING_CHECK=strict  # ì¸ì½”ë”© ì—„ê²© ê²€ì‚¬
CURRICULUM_VALIDATION_STRICT=true
CURRICULUM_REQUIRED_FIELDS=subject,grade_level,semester,unit_number,unit_name,learning_objectives,learning_contents
CURRICULUM_MAX_OBJECTIVES=15  # í™•ì¥ëœ ëª©í‘œ ìˆ˜
CURRICULUM_MAX_CONTENTS=20  # í™•ì¥ëœ ë‚´ìš© ìˆ˜
CURRICULUM_MIN_UNIT_NAME_LENGTH=2
CURRICULUM_MAX_UNIT_NAME_LENGTH=200
CURRICULUM_KOREAN_TEXT_VALIDATION=true  # í•œê¸€ í…ìŠ¤íŠ¸ ìœ íš¨ì„± ê²€ì‚¬

# ê²°ì œ ì‹œìŠ¤í…œ ì„¤ì • (Toss Payments ìœ„ì ¯ ë°©ì‹)
# âœ… ë‹¨ìˆœí™”ëœ ê²°ì œ ìœ„ì ¯, Alpine.jsì—ì„œ ì§ì ‘ í˜¸ì¶œ ê°€ëŠ¥
PAYMENT_PRIMARY_PG=toss_payments  # ì£¼ ê²°ì œ ìˆ˜ë‹¨
TOSS_CLIENT_KEY=your-toss-client-key  # ë¸Œë¼ìš°ì €ì—ì„œ ì‚¬ìš©
TOSS_WIDGET_VERSION=v2  # ìµœì‹  ìœ„ì ¯ ë²„ì „
TOSS_ENVIRONMENT=sandbox  # ê°œë°œìš© (productionìœ¼ë¡œ ë³€ê²½)
# âš ï¸ ì„œë²„ ì „ìš© í‚¤ (Edge Functionsì—ì„œë§Œ ì‚¬ìš©)
TOSS_SECRET_KEY=your-toss-secret-key
TOSS_WEBHOOK_SECRET=your-toss-webhook-secret

# ê²°ì œ ë³´ì•ˆ ë° ê²€ì¦
PAYMENT_AMOUNT_VALIDATION=true  # ê²°ì œ ê¸ˆì•¡ ê²€ì¦
PAYMENT_DUPLICATE_PREVENTION=true  # ì¤‘ë³µ ê²°ì œ ë°©ì§€
PAYMENT_TIMEOUT_SECONDS=300  # 5ë¶„ ê²°ì œ íƒ€ì„ì•„ì›ƒ
PAYMENT_SUCCESS_REDIRECT=/payment/success
PAYMENT_FAIL_REDIRECT=/payment/fail
PAYMENT_CANCEL_REDIRECT=/payment/cancel

# ì´ë©”ì¼ ì•Œë¦¼ ì„¤ì • (Supabase Edge Functions)
# âš ï¸ ì´ë©”ì¼ ë°œì†¡ì€ Edge Functionsì—ì„œ ì²˜ë¦¬
EMAIL_SERVICE_PROVIDER=supabase_edge  # Supabase Edge Functions ì‚¬ìš©
SMTP_SERVICE=gmail  # Gmail SMTP ì„œë¹„ìŠ¤
EMAIL_FROM_NAME=IEPON ì‹œìŠ¤í…œ
EMAIL_FROM_ADDRESS=noreply@iepon.site
EMAIL_TEMPLATE_LANGUAGE=korean
EMAIL_UTF8_ENCODING=true  # í•œê¸€ ì´ë©”ì¼ ì•ˆì „ì„±
# âš ï¸ ì„œë²„ ì „ìš© SMTP ì¸ì¦ ì •ë³´
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# ì™¸ë¶€ íˆ´ ì—°ë™ ì„¤ì • (ì„ íƒì  í†µí•©)
# âœ… Alpine.jsì—ì„œ iframe ë˜ëŠ” API í˜¸ì¶œë¡œ ì—°ë™
# Google Workspace (ì„ íƒ ì‚¬í•­)
# âš ï¸ ì„œë²„ ì „ìš© (Edge Functionsì—ì„œë§Œ ì‚¬ìš©)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=https://iepon.site/api/auth/google/callback
GOOGLE_SCOPES=classroom.courses,drive.readonly

# Microsoft 365 (ì„ íƒì  í†µí•©)
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret
MICROSOFT_TENANT_ID=your-tenant-id
MICROSOFT_REDIRECT_URI=https://iepon.site/api/auth/microsoft/callback
MICROSOFT_SCOPES=User.Read,Files.ReadWrite

# í™”ìƒíšŒì˜ ë„êµ¬ (iframe ì„ë² ë”© ë°©ì‹)
ZOOM_INTEGRATION_TYPE=iframe  # Alpine.jsì—ì„œ iframeìœ¼ë¡œ ì„ë² ë”©
ZOOM_CLIENT_ID=your-zoom-client-id
ZOOM_REDIRECT_URI=https://iepon.site/tools/zoom
ZOOM_EMBEDDED_MEETING=true

# ì™¸ë¶€ êµìœ¡ ë„êµ¬ API (í´ë¼ì´ì–¸íŠ¸ ì ‘ê·¼ í—ˆìš©)
HOLIDAY_API_ENABLED=true
CALENDAR_INTEGRATION_ENABLED=true
EDUCATIONAL_TOOLS_ENABLED=true  # Kahoot, Padlet ë“±
# âš ï¸ API í‚¤ëŠ” Edge Functionsì—ì„œ í”„ë¡ì‹œë¡œ ì²˜ë¦¬
HOLIDAY_API_KEY=your-holiday-api-key
KAHOOT_API_KEY=your-kahoot-api-key
PADLET_API_KEY=your-padlet-api-key

# Supabase Storage íŒŒì¼ ì—…ë¡œë“œ ì„¤ì •
# âœ… Alpine.jsì—ì„œ ì§ì ‘ Supabase Storage ì‚¬ìš©
FILE_UPLOAD_SERVICE=supabase_storage
MAX_FILE_SIZE=10485760  # 10MB
MAX_TOTAL_SIZE=104857600  # 100MB (ì‚¬ìš©ìë‹¹)
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/gif,image/webp
ALLOWED_DOCUMENT_TYPES=application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document
ALLOWED_SPREADSHEET_TYPES=application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
FILE_UPLOAD_BUCKET=iepon-uploads
FILE_UPLOAD_PATH_PATTERN=/{user_id}/{category}/{timestamp}_{filename}

# Supabase ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì„¤ì •
# âœ… Alpine.jsì—ì„œ supabase í´ë¼ì´ì–¸íŠ¸ë¡œ ì§ì ‘ ì—°ê²°
DB_CONNECTION_TYPE=supabase_client  # í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì—°ê²°
DB_REALTIME_ENABLED=true  # ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
DB_RLS_ENABLED=true  # Row Level Security í•„ìˆ˜
DB_CONNECTION_POOL_SIZE=10
DB_CONNECTION_TIMEOUT=5000  # 5ì´ˆ
DB_QUERY_TIMEOUT=10000  # 10ì´ˆ

# êµìœ¡ê³¼ì • ì—…ë¡œë“œ ì„¤ì •
CURRICULUM_MAX_FILE_SIZE=52428800  # 50MB (Excel íŒŒì¼ìš©)
CURRICULUM_ALLOWED_TYPES=application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel
CURRICULUM_MAX_UNITS_PER_UPLOAD=100  # í•œ ë²ˆì— ì—…ë¡œë“œ ê°€ëŠ¥í•œ ìµœëŒ€ ë‹¨ì› ìˆ˜
CURRICULUM_BACKUP_ENABLED=true  # êµìœ¡ê³¼ì • ë°ì´í„° ìë™ ë°±ì—…
CURRICULUM_VERSION_CONTROL=true  # êµìœ¡ê³¼ì • ë²„ì „ ê´€ë¦¬ í™œì„±í™”

# êµìœ¡ê³¼ì • ê²€ì¦ ì„¤ì •
CURRICULUM_VALIDATE_ON_UPLOAD=true  # ì—…ë¡œë“œ ì‹œ ë°ì´í„° ê²€ì¦
CURRICULUM_MIN_OBJECTIVES=1  # ìµœì†Œ í•™ìŠµëª©í‘œ ê°œìˆ˜
CURRICULUM_MAX_OBJECTIVES=10  # ìµœëŒ€ í•™ìŠµëª©í‘œ ê°œìˆ˜
CURRICULUM_MIN_CONTENTS=1  # ìµœì†Œ í•™ìŠµë‚´ìš© ê°œìˆ˜
CURRICULUM_MAX_CONTENTS=20  # ìµœëŒ€ í•™ìŠµë‚´ìš© ê°œìˆ˜
CURRICULUM_UNIT_NAME_MIN_LENGTH=2  # ë‹¨ì›ëª… ìµœì†Œ ê¸¸ì´
CURRICULUM_UNIT_NAME_MAX_LENGTH=200  # ë‹¨ì›ëª… ìµœëŒ€ ê¸¸ì´

# êµìœ¡ê³¼ì • í…œí”Œë¦¿ ì„¤ì •
CURRICULUM_TEMPLATE_PATH=/templates/curriculum_upload_template.xlsx
CURRICULUM_SAMPLE_DATA_PATH=/templates/curriculum_sample_data.xlsx
CURRICULUM_TEMPLATE_VERSION=2023.1

# êµìœ¡ê³¼ì • ìºì‹± ì„¤ì •
CURRICULUM_CACHE_ENABLED=true  # ìºì‹± í™œì„±í™”
CURRICULUM_CACHE_TTL=3600  # ìºì‹œ TTL (ì´ˆ)
CURRICULUM_CACHE_KEY_PREFIX=curriculum_

# êµìœ¡ê³¼ì • ê²€ìƒ‰ ì„¤ì •
CURRICULUM_SEARCH_MIN_LENGTH=2  # ìµœì†Œ ê²€ìƒ‰ì–´ ê¸¸ì´
CURRICULUM_SEARCH_RESULT_LIMIT=50  # ê²€ìƒ‰ ê²°ê³¼ ìµœëŒ€ ê°œìˆ˜
CURRICULUM_SEARCH_HIGHLIGHT=true  # ê²€ìƒ‰ì–´ í•˜ì´ë¼ì´íŠ¸

# êµìœ¡ê³¼ì • ê¶Œí•œ ì„¤ì •
CURRICULUM_VIEW_ROLE=teacher,super_admin  # ì¡°íšŒ ê¶Œí•œ
CURRICULUM_CREATE_ROLE=super_admin  # ìƒì„± ê¶Œí•œ

# ê´€ë¦¬ì ì‹œìŠ¤í…œ ì„¤ì • (Supabase RLS + Alpine.js)
# âœ… Supabase ëŒ€ì‹œë³´ë“œì—ì„œ ê´€ë¦¬ì ê¶Œí•œ ì„¤ì •, Alpine.jsì—ì„œ ê¶Œí•œ í™•ì¸
ADMIN_DASHBOARD_TYPE=alpine_js  # Alpine.js ê¸°ë°˜ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
ADMIN_AUTH_TYPE=supabase_rls  # Supabase RLS ê¸°ë°˜ ê¶Œí•œ ê´€ë¦¬
ADMIN_SESSION_TIMEOUT=4h  # ê´€ë¦¬ì ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ
ADMIN_IDLE_TIMEOUT=30m  # ë¹„í™œì„± íƒ€ì„ì•„ì›ƒ
ADMIN_AUTO_LOGOUT_WARNING=5m  # ìë™ ë¡œê·¸ì•„ì›ƒ ê²½ê³  ì‹œê°„
ADMIN_REQUIRE_REAUTH=true  # ì¤‘ìš” ì‘ì—… ì‹œ ì¬ì¸ì¦ í•„ìš”
ADMIN_AUDIT_LOG_ENABLED=true  # ê´€ë¦¬ì í™œë™ ë¡œê·¸
ADMIN_REALTIME_MONITORING=true  # ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§

# ìƒë‹´ ì§€ì› ì‹œìŠ¤í…œ ì„¤ì • (AI + Alpine.js)
# âœ… Supabase Edge Functions + Alpine.js UI ì¡°í•©
COUNSELING_SERVICE_TYPE=supabase_ai  # Supabase Edge Functions AI ìƒë‹´
COUNSELING_UI_FRAMEWORK=alpine_js  # Alpine.js ìƒë‹´ ì¸í„°í˜ì´ìŠ¤
COUNSELING_REALTIME_CHAT=true  # ì‹¤ì‹œê°„ ì±„íŒ… ê¸°ëŠ¥
COUNSELING_AUTO_SAVE_INTERVAL=30s  # ìë™ ì €ì¥ ê°„ê²©
COUNSELING_BACKUP_ENABLED=true  # ìƒë‹´ ê¸°ë¡ ìë™ ë°±ì—…
COUNSELING_ENCRYPTION_ENABLED=true  # ìƒë‹´ ê¸°ë¡ ì•”í˜¸í™”
COUNSELING_RETENTION_DAYS=2555  # ìƒë‹´ ê¸°ë¡ ë³´ì¡´ ê¸°ê°„ (7ë…„)
COUNSELING_ALERT_THRESHOLD=high  # ìœ„í—˜ ì‹ í˜¸ ì•Œë¦¼ ì„ê³„ê°’
COUNSELING_UTF8_SAFE=true  # í•œê¸€ ìƒë‹´ ë‚´ìš© ì•ˆì „ì„±
# âš ï¸ AI ëª¨ë¸ì€ Edge Functionsì—ì„œë§Œ ì‚¬ìš©
COUNSELING_AI_MODEL=gpt-4o
COUNSELING_CONFIDENCE_THRESHOLD=0.85

# MCP ê¸°ë°˜ ê²°ì œ ì‹œìŠ¤í…œ ì„¤ì • (Toss Payments MCP)
# âœ… AI ì—ì´ì „íŠ¸ê°€ MCP ì„œë²„ë¥¼ í†µí•´ ìë™ ê²°ì œ ì²˜ë¦¬
PAYMENT_ENABLED=true  # ê²°ì œ ê¸°ëŠ¥ í™œì„±í™”
PAYMENT_UI_TYPE=mcp_agent  # MCP AI ì—ì´ì „íŠ¸ ê¸°ë°˜ ê²°ì œ
PAYMENT_MCP_SERVER=tosspayments-integration-guide  # ì‚¬ìš©í•  MCP ì„œë²„
PAYMENT_TEST_MODE=sandbox  # sandbox ë˜ëŠ” production
PAYMENT_CURRENCY=KRW  # ê¸°ë³¸ í†µí™”
PAYMENT_MIN_AMOUNT=1000  # ìµœì†Œ ê²°ì œ ê¸ˆì•¡
PAYMENT_MAX_AMOUNT=1000000  # ìµœëŒ€ ê²°ì œ ê¸ˆì•¡
PAYMENT_MCP_TIMEOUT=30000  # MCP íˆ´ í˜¸ì¶œ íƒ€ì„ì•„ì›ƒ (30ì´ˆ)
PAYMENT_MCP_RETRY_COUNT=3  # MCP í˜¸ì¶œ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ íšŸìˆ˜
PAYMENT_MCP_HEALTH_CHECK=true  # MCP ì„œë²„ ìƒíƒœ ì‹¤ì‹œê°„ ì²´í¬
PAYMENT_SESSION_TIMEOUT=1800  # ê²°ì œ ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ (30ë¶„)
PAYMENT_WEBHOOK_TIMEOUT=30  # ì›¹í›… íƒ€ì„ì•„ì›ƒ (ì´ˆ)
PAYMENT_RETRY_COUNT=3  # ê²°ì œ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ íšŸìˆ˜
PAYMENT_LOG_RETENTION_DAYS=2555  # ê²°ì œ ë¡œê·¸ ë³´ì¡´ ê¸°ê°„ (7ë…„)
PAYMENT_REFUND_ENABLED=true  # í™˜ë¶ˆ ê¸°ëŠ¥ í™œì„±í™”
PAYMENT_PARTIAL_REFUND=true  # ë¶€ë¶„ í™˜ë¶ˆ í—ˆìš©
PAYMENT_AUTO_REFUND_DAYS=7  # ìë™ í™˜ë¶ˆ ê°€ëŠ¥ ê¸°ê°„
PAYMENT_VERIFICATION_ENABLED=true  # ê²°ì œ ê²€ì¦ í™œì„±í™”
PAYMENT_DUPLICATE_CHECK=true  # ì¤‘ë³µ ê²°ì œ ë°©ì§€
PAYMENT_FRAUD_DETECTION=true  # ì‚¬ê¸° ê±°ë˜ íƒì§€
PAYMENT_NOTIFICATION_EMAIL=payment@iepon.site  # ê²°ì œ ì•Œë¦¼ ì´ë©”ì¼

# ì›Œí¬í”Œë¡œìš° ìë™í™” ì„¤ì •
WORKFLOW_ENABLED=true  # ì›Œí¬í”Œë¡œìš° ìë™í™” í™œì„±í™”
WORKFLOW_MAX_ACTIONS=10  # ì›Œí¬í”Œë¡œìš°ë‹¹ ìµœëŒ€ ì•¡ì…˜ ìˆ˜
WORKFLOW_TIMEOUT=300  # ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ íƒ€ì„ì•„ì›ƒ (ì´ˆ)
WORKFLOW_RETRY_COUNT=3  # ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ íšŸìˆ˜
WORKFLOW_LOG_RETENTION_DAYS=90  # ì›Œí¬í”Œë¡œìš° ë¡œê·¸ ë³´ì¡´ ê¸°ê°„
WORKFLOW_APPROVAL_TIMEOUT=86400  # ìŠ¹ì¸ ëŒ€ê¸° íƒ€ì„ì•„ì›ƒ (24ì‹œê°„)
WORKFLOW_NOTIFICATION_ENABLED=true  # ì›Œí¬í”Œë¡œìš° ì•Œë¦¼ í™œì„±í™”

# í€µë§í¬ ëŒ€ì‹œë³´ë“œ ì„¤ì •
QUICKLINK_MAX_BUTTONS=9  # ìµœëŒ€ í€µë§í¬ ë²„íŠ¼ ìˆ˜ (3x3)
QUICKLINK_CACHE_TTL=3600  # í€µë§í¬ ìºì‹œ TTL (ì´ˆ)
QUICKLINK_PERSONALIZATION=true  # ê°œì¸í™” ê¸°ëŠ¥ í™œì„±í™”
QUICKLINK_USAGE_TRACKING=true  # ì‚¬ìš© íŒ¨í„´ ì¶”ì 
QUICKLINK_AUTO_OPTIMIZE=true  # AI ê¸°ë°˜ ìë™ ìµœì í™”

# ì™¸ë¶€ íˆ´ ë³´ì•ˆ ì„¤ì •
EXTERNAL_TOOL_ENCRYPTION=true  # ì™¸ë¶€ íˆ´ ë°ì´í„° ì•”í˜¸í™”
EXTERNAL_TOOL_TOKEN_REFRESH=true  # í† í° ìë™ ê°±ì‹ 
EXTERNAL_TOOL_RATE_LIMIT=1000  # ì‹œê°„ë‹¹ API í˜¸ì¶œ ì œí•œ
EXTERNAL_TOOL_TIMEOUT=30  # API í˜¸ì¶œ íƒ€ì„ì•„ì›ƒ (ì´ˆ)
EXTERNAL_TOOL_LOG_ENABLED=true  # ì™¸ë¶€ íˆ´ ì‚¬ìš© ë¡œê·¸
EXTERNAL_TOOL_GDPR_COMPLIANCE=true  # GDPR ì¤€ìˆ˜ ëª¨ë“œ

# ì•Œë¦¼ ì‹œìŠ¤í…œ ì„¤ì •
NOTIFICATION_REALTIME=true  # ì‹¤ì‹œê°„ ì•Œë¦¼ í™œì„±í™”
NOTIFICATION_EMAIL=true  # ì´ë©”ì¼ ì•Œë¦¼ í™œì„±í™”
NOTIFICATION_BATCH_SIZE=100  # ëŒ€ëŸ‰ ì•Œë¦¼ ë°°ì¹˜ í¬ê¸°
NOTIFICATION_RETENTION_DAYS=30  # ì•Œë¦¼ ë³´ê´€ ê¸°ê°„ (ì¼)

# ë¡œê·¸ì¸ ê¸°ë¡ ì„¤ì •
LOGIN_LOG_RETENTION_DAYS=90  # ë¡œê·¸ì¸ ê¸°ë¡ ë³´ê´€ ê¸°ê°„ (ì¼)
LOGIN_TRACK_DEVICE=true  # ë””ë°”ì´ìŠ¤ ì •ë³´ ì¶”ì 
LOGIN_TRACK_LOCATION=false  # ìœ„ì¹˜ ì •ë³´ ì¶”ì 
LOGIN_FAILED_ATTEMPTS_LIMIT=5  # ë¡œê·¸ì¸ ì‹¤íŒ¨ ì œí•œ

# ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§ ì„¤ì •
MONITORING_ENABLED=true  # ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§ í™œì„±í™”
MONITORING_INTERVAL=60  # ëª¨ë‹ˆí„°ë§ ê°„ê²© (ì´ˆ)
MONITORING_ALERTS=true  # ëª¨ë‹ˆí„°ë§ ì•Œë¦¼ í™œì„±í™”
MONITORING_SLACK_WEBHOOK=  # Slack ì›¹í›… URL
CURRICULUM_UPDATE_ROLE=super_admin  # ìˆ˜ì • ê¶Œí•œ
CURRICULUM_DELETE_ROLE=super_admin  # ì‚­ì œ ê¶Œí•œ
CURRICULUM_UPLOAD_ROLE=super_admin  # ëŒ€ëŸ‰ ì—…ë¡œë“œ ê¶Œí•œ

# êµìœ¡ê³¼ì • ë™ê¸°í™” ì„¤ì •
CURRICULUM_SYNC_ENABLED=true  # ì‹¤ì‹œê°„ ë™ê¸°í™”
CURRICULUM_SYNC_INTERVAL=300  # ë™ê¸°í™” ê°„ê²© (ì´ˆ)
CURRICULUM_CONFLICT_RESOLUTION=latest  # ì¶©ëŒ í•´ê²° ë°©ì‹ (latest, merge, manual)

# êµìœ¡ê³¼ì • ë°±ì—… ì„¤ì •
CURRICULUM_BACKUP_PATH=/backups/curriculum/
CURRICULUM_BACKUP_RETENTION_DAYS=30  # ë°±ì—… ë³´ê´€ ê¸°ê°„
CURRICULUM_BACKUP_SCHEDULE=0 2 * * *  # ë§¤ì¼ ìƒˆë²½ 2ì‹œ ë°±ì—… (cron í˜•ì‹)

# êµìœ¡ê³¼ì • ë¡œê¹… ì„¤ì •
CURRICULUM_LOG_UPLOADS=true  # ì—…ë¡œë“œ ë¡œê·¸ ê¸°ë¡
CURRICULUM_LOG_UPDATES=true  # ìˆ˜ì • ë¡œê·¸ ê¸°ë¡
CURRICULUM_LOG_DELETES=true  # ì‚­ì œ ë¡œê·¸ ê¸°ë¡
CURRICULUM_LOG_RETENTION_DAYS=90  # ë¡œê·¸ ë³´ê´€ ê¸°ê°„

# ì„¸ì…˜ ì„¤ì •
SESSION_SECRET=your-session-secret
SESSION_MAX_AGE=86400  # 24ì‹œê°„

# ë¡œê·¸ ì„¤ì •
LOG_LEVEL=debug
LOG_FILE_PATH=./logs/app.log

# ê´€ë¦¬ì ê³„ì • ìƒì„¸ ì„¤ì •
ADMIN_ROLE=super_admin
ADMIN_DISPLAY_NAME=IEPON ì‹œìŠ¤í…œ ê´€ë¦¬ì

# ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì • (HTML + Alpine.js í´ë¼ì´ì–¸íŠ¸ ì„¤ì •)
# âœ… window.ENV ê°ì²´ë¥¼ í†µí•´ Alpine.jsì—ì„œ ì ‘ê·¼ ê°€ëŠ¥
APP_NAME=IEPON
APP_DESCRIPTION=íŠ¹ìˆ˜êµìœ¡ ê´€ë¦¬ ì‹œìŠ¤í…œ
APP_VERSION=1.0.0
APP_TITLE=IEPON - AI ê¸°ë°˜ íŠ¹ìˆ˜êµìœ¡ ê´€ë¦¬ ì‹œìŠ¤í…œ

# ê°œë°œ í™˜ê²½ ì„¤ì •
NODE_ENV=development
DEBUG=true
SUPABASE_SERVICE_ROLE_KEY=your-production-service-role-key
SUPABASE_PROJECT_ID=nkssusbaaycylcvnpcmt

# ë„ë©”ì¸ ì„¤ì • (í”„ë¡œë•ì…˜)
DOMAIN=iepon.site
SITE_URL=https://iepon.site
APP_URL=https://iepon.site
APP_NAME=IEPON
APP_DESCRIPTION=AI ê¸°ë°˜ íŠ¹ìˆ˜êµìœ¡ ê´€ë¦¬ ì‹œìŠ¤í…œ
APP_VERSION=1.0.0
APP_LANGUAGE=ko
APP_TIMEZONE=Asia/Seoul
APP_ENVIRONMENT=production

# Supabase ì¸ì¦ ì„¤ì • (í”„ë¡œë•ì…˜)
# âœ… Alpine.jsì—ì„œ supabase.auth ì‚¬ìš©
AUTH_SESSION_TIMEOUT=24h
AUTH_REFRESH_MARGIN=5m
AUTH_REMEMBER_ME=true
AUTH_REDIRECT_URL=/dashboard
AUTH_LOGOUT_REDIRECT_URL=/

# ë°ì´í„° ë³´ì•ˆ ì„¤ì • (í”„ë¡œë•ì…˜ ê°•í™”)
# âš ï¸ ëª¨ë“  ë¯¼ê° ë°ì´í„° ì•”í˜¸í™”
DATA_ENCRYPTION_ENABLED=true
ENCRYPTION_ALGORITHM=AES-256-GCM
ENCRYPTION_KEY_LENGTH=32
SENSITIVE_FIELDS_ENCRYPTION=true
SSL_ENFORCED=true
HSTS_ENABLED=true

# AI ì„œë¹„ìŠ¤ ì„¤ì • (í”„ë¡œë•ì…˜)
# âš ï¸ Supabase Edge Functionsì—ì„œë§Œ ì‚¬ìš©
OPENAI_API_KEY=your-production-openai-key
OPENAI_MODEL=gpt-4o
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7
AI_RATE_LIMIT_PER_MINUTE=100  # ìš´ì˜ í™˜ê²½ ì œí•œ
AI_CONTENT_FILTER_STRICT=true  # ì—„ê²©í•œ ì½˜í…ì¸  í•„í„°ë§

# ê²°ì œ PG ì„¤ì • (í”„ë¡œë•ì…˜)
# Toss Payments
TOSS_CLIENT_KEY=your-production-toss-client-key
TOSS_SECRET_KEY=your-production-toss-secret-key
TOSS_WEBHOOK_SECRET=your-production-toss-webhook-secret

# Kakao Pay
KAKAO_PAY_CID=your-production-kakao-cid
KAKAO_PAY_SECRET=your-production-kakao-secret

# NICE Payments
NICE_CLIENT_ID=your-production-nice-client-id
NICE_CLIENT_SECRET=your-production-nice-client-secret

# Inicis
INICIS_MID=your-production-inicis-mid
INICIS_SIGN_KEY=your-production-inicis-sign-key

# ì´ë©”ì¼ ì„¤ì •
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=iepon.system@gmail.com
SMTP_PASS=your-production-app-password

# íŒŒì¼ ì—…ë¡œë“œ ì„¤ì •
MAX_FILE_SIZE=10485760  # 10MB
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png,hwp,docx,mp4

# êµìœ¡ê³¼ì • ì—…ë¡œë“œ ì„¤ì • (í”„ë¡œë•ì…˜)
CURRICULUM_MAX_FILE_SIZE=52428800  # 50MB
CURRICULUM_ALLOWED_TYPES=application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
CURRICULUM_MAX_UNITS_PER_UPLOAD=100
CURRICULUM_BACKUP_ENABLED=true
CURRICULUM_VERSION_CONTROL=true
CURRICULUM_VALIDATE_ON_UPLOAD=true
CURRICULUM_CACHE_ENABLED=true
CURRICULUM_CACHE_TTL=7200  # 2ì‹œê°„ (í”„ë¡œë•ì…˜ì—ì„œëŠ” ë” ê¸¸ê²Œ)
CURRICULUM_SYNC_ENABLED=true
CURRICULUM_BACKUP_SCHEDULE=0 3 * * *  # ë§¤ì¼ ìƒˆë²½ 3ì‹œ

# êµìœ¡ê³¼ì • ë³´ì•ˆ ì„¤ì • (í”„ë¡œë•ì…˜)
CURRICULUM_ENCRYPTION_ENABLED=true  # ë¯¼ê°í•œ ë°ì´í„° ì•”í˜¸í™”
CURRICULUM_ACCESS_LOG_ENABLED=true  # ì ‘ê·¼ ë¡œê·¸ ê¸°ë¡
CURRICULUM_RATE_LIMIT=100  # ì‹œê°„ë‹¹ API í˜¸ì¶œ ì œí•œ

# í”„ë¡œë•ì…˜ í™˜ê²½ ì„¤ì •
NODE_ENV=production
DEBUG=false
LOG_LEVEL=info

# ëª¨ë‹ˆí„°ë§ ì„¤ì •
SENTRY_DSN=your-sentry-dsn
ANALYTICS_ID=your-analytics-id
```

---

## 8.2 HTML + Alpine.js ê°œë°œ í™˜ê²½ ì„¤ì •

### 8.2.1 config.js (í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì„¤ì •)
```javascript
// IEPON Alpine.js + HTMX + Supabase ì„¤ì •
// íŒŒì¼ ìœ„ì¹˜: /js/config.js

// í™˜ê²½ ë³€ìˆ˜ ì „ì—­ ì„¤ì • (UTF-8 ì•ˆì „ì„± ìš°ì„ )
window.ENV = {
  // Supabase ì„¤ì •
  SUPABASE_URL: 'https://nkssusbaaycylcvnpcmt.supabase.co',
  SUPABASE_ANON_KEY: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...',  // ì‹¤ì œ í‚¤ ì…ë ¥
  
  // ì•± ì„¤ì •
  APP_NAME: 'IEPON',
  APP_VERSION: '1.0.0',
  APP_LANGUAGE: 'ko',
  APP_TIMEZONE: 'Asia/Seoul',
  SITE_URL: window.location.origin,
  
  // ê¸°ëŠ¥ ì„¤ì •
  REALTIME_ENABLED: true,
  FILE_UPLOAD_ENABLED: true,
  MAX_FILE_SIZE: 10 * 1024 * 1024,  // 10MB
  SUPPORTED_FILE_TYPES: ['jpg', 'jpeg', 'png', 'pdf', 'docx', 'xlsx'],
  
  // ê²°ì œ ì„¤ì • (í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ì‚¬ìš© ê°€ëŠ¥)
  PAYMENT_ENABLED: true,
  TOSS_CLIENT_KEY: 'test_ck_...',  // ê°œë°œìš© í‚¤
  PAYMENT_TEST_MODE: true,
  
  // UTF-8 ì¸ì½”ë”© ê²€ì¦ í•¨ìˆ˜
  validateUTF8: (text) => {
    try {
      const encoded = new TextEncoder().encode(text);
      const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
      return decoded === text;
    } catch (error) {
      console.error('UTF-8 ì¸ì½”ë”© ì˜¤ë¥˜:', error);
      return false;
    }
  },
  
  // í•œê¸€ í…ìŠ¤íŠ¸ ì•ˆì „ì„± ê²€ì‚¬
  isKoreanTextSafe: (text) => {
    const koreanRegex = /^[ê°€-í£ã„±-ã…ã…-ã…£a-zA-Z0-9\s\.,!?()-]*$/;
    return koreanRegex.test(text) && window.ENV.validateUTF8(text);
  },
  
  // API ê¸°ë³¸ í—¤ë” ì„¤ì • (HTMX í˜¸ì¶œ ì‹œ ì‚¬ìš©)
  getApiHeaders: () => {
    return {
      'Content-Type': 'application/json; charset=utf-8',
      'Accept': 'application/json',
      'Accept-Charset': 'utf-8'
    };
  },
  
  // ì—ëŸ¬ ë©”ì‹œì§€ í•œê¸€í™”
  ERROR_MESSAGES: {
    NETWORK_ERROR: 'ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.',
    UPLOAD_ERROR: 'íŒŒì¼ ì—…ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.',
    VALIDATION_ERROR: 'ì…ë ¥ ë°ì´í„°ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.',
    AUTH_ERROR: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.',
    PERMISSION_ERROR: 'ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.',
    SERVER_ERROR: 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.',
    UTF8_ERROR: 'í•œê¸€ í…ìŠ¤íŠ¸ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.'
  }
};

// Alpine.js ì „ì—­ ì´ˆê¸°í™”
document.addEventListener('alpine:init', () => {
  console.log('IEPON Alpine.js ì´ˆê¸°í™” ì™„ë£Œ');
  console.log('í™˜ê²½ ì„¤ì •:', window.ENV.APP_NAME, window.ENV.APP_VERSION);
});
```

### 8.2.2 styles.css (ìˆœìˆ˜ CSS + ìµœì†Œ Bootstrap)
```css
/* IEPON ìŠ¤íƒ€ì¼ì‹œíŠ¸ - HTML + Alpine.js ì „ìš© */
/* íŒŒì¼ ìœ„ì¹˜: /css/styles.css */

/* =========================== */
/* CSS ë³€ìˆ˜ ë° ì „ì—­ ì„¤ì • (UTF-8 ì•ˆì „) */
/* =========================== */

:root {
  /* ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ (íŠ¹ìˆ˜êµìœ¡ ì¹œí™”ì  ìƒ‰ìƒ) */
  --primary-50: #eff6ff;
  --primary-100: #dbeafe;
  --primary-200: #bfdbfe;
  --primary-300: #93c5fd;
  --primary-400: #60a5fa;
  --primary-500: #3b82f6;
  --primary-600: #2563eb;
  --primary-700: #1d4ed8;
  --primary-800: #1e40af;
  --primary-900: #1e3a8a;
  
  --secondary-50: #f9fafb;
  --secondary-100: #f3f4f6;
  --secondary-200: #e5e7eb;
  --secondary-300: #d1d5db;
  --secondary-400: #9ca3af;
  --secondary-500: #6b7280;
  --secondary-600: #4b5563;
  --secondary-700: #374151;
  --secondary-800: #1f2937;
  --secondary-900: #111827;
  
  /* ìƒíƒœ ìƒ‰ìƒ */
  --success: #10b981;
  --warning: #f59e0b;
  --error: #ef4444;
  --info: #3b82f6;
  
  /* íƒ€ì´í¬ê·¸ë˜í”¼ */
  --font-family-sans: 'Noto Sans KR', 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  --font-family-mono: 'D2Coding', 'Consolas', 'Monaco', monospace;
  
  /* ê°„ê²© ë° í¬ê¸° */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  
  /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  
  /* ê·¸ë¦¼ì */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  
  /* ì ‘ê·¼ì„± - WCAG 2.1 AA ê¸°ì¤€ */
  --focus-ring: 0 0 0 3px rgba(59, 130, 246, 0.5);
  --min-touch-target: 48px; /* ìµœì†Œ í„°ì¹˜ ì˜ì—­ */
  
  /* ì• ë‹ˆë©”ì´ì…˜ */
  --transition-fast: 0.15s ease;
  --transition-normal: 0.3s ease;
  --transition-slow: 0.5s ease;

---

## 8.3 HTML + Alpine.js í”„ë¡œì íŠ¸ êµ¬ì¡°

### 8.3.1 ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
iepon-system/
â”œâ”€â”€ index.html                 # ë©”ì¸ í˜ì´ì§€
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ styles.css            # ë©”ì¸ ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”‚   â””â”€â”€ components.css        # ì»´í¬ë„ŒíŠ¸ë³„ ìŠ¤íƒ€ì¼
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ config.js            # í™˜ê²½ ì„¤ì •
â”‚   â”œâ”€â”€ utils.js             # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”œâ”€â”€ supabase-client.js   # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ alpine-stores.js     # Alpine.js ìŠ¤í† ì–´
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ auth.js          # ì¸ì¦ ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ dashboard.js     # ëŒ€ì‹œë³´ë“œ ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ students.js      # í•™ìƒ ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸
â”‚       â””â”€â”€ curriculum.js    # êµìœ¡ê³¼ì • ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ dashboard.html       # ëŒ€ì‹œë³´ë“œ í˜ì´ì§€
â”‚   â”œâ”€â”€ students.html        # í•™ìƒ ê´€ë¦¬ í˜ì´ì§€
â”‚   â”œâ”€â”€ curriculum.html      # êµìœ¡ê³¼ì • ê´€ë¦¬ í˜ì´ì§€
â”‚   â””â”€â”€ admin.html          # ê´€ë¦¬ì í˜ì´ì§€
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ images/             # ì´ë¯¸ì§€ íŒŒì¼
â”‚   â””â”€â”€ icons/              # ì•„ì´ì½˜ íŒŒì¼
â””â”€â”€ docs/
    â”œâ”€â”€ README.md           # í”„ë¡œì íŠ¸ ì„¤ëª…
    â””â”€â”€ DEVELOPMENT.md      # ê°œë°œ ê°€ì´ë“œ
```

### 8.3.2 JavaScript ëª¨ë“ˆ ì„¤ì •
```javascript
// js/utils.js - ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ëª¨ìŒ

// UTF-8 ì•ˆì „ì„± ê²€ì¦ í•¨ìˆ˜
export const validateUTF8 = (text) => {
  try {
    const encoded = new TextEncoder().encode(text);
    const decoded = new TextDecoder('utf-8', { fatal: true }).decode(encoded);
    return decoded === text;
  } catch (error) {
    console.error('UTF-8 ì¸ì½”ë”© ì˜¤ë¥˜:', error);
    return false;
  }
};

// í•œê¸€ í…ìŠ¤íŠ¸ ìœ íš¨ì„± ê²€ì‚¬
export const isKoreanTextSafe = (text) => {
  const koreanRegex = /^[ê°€-í£ã„±-ã…ã…-ã…£a-zA-Z0-9\s\.,!?()-]*$/;
  return koreanRegex.test(text) && validateUTF8(text);
};

// ë‚ ì§œ í¬ë§·íŒ… (í•œêµ­ í˜•ì‹)
export const formatKoreanDate = (date) => {
  return new Intl.DateTimeFormat('ko-KR', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
    weekday: 'long'
  }).format(new Date(date));
};

// íŒŒì¼ í¬ê¸° í¬ë§·íŒ…
export const formatFileSize = (bytes) => {
  const sizes = ['ë°”ì´íŠ¸', 'KB', 'MB', 'GB'];
  if (bytes === 0) return '0 ë°”ì´íŠ¸';
  const i = Math.floor(Math.log(bytes) / Math.log(1024));
  return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i];
};

// ì—ëŸ¬ ë©”ì‹œì§€ í•œê¸€í™”
export const getErrorMessage = (error) => {
  const errorMessages = {
    'Network Error': 'ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.',
    'Unauthorized': 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.',
    'Forbidden': 'ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.',
    'Not Found': 'ìš”ì²­í•˜ì‹  ìë£Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',
    'Internal Server Error': 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.',
    'Bad Request': 'ì˜ëª»ëœ ìš”ì²­ì…ë‹ˆë‹¤.',
    'Timeout': 'ìš”ì²­ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤.'
  };
  
  return errorMessages[error.message] || error.message || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
};
```
    ".next/types/**/*.ts"
  ],
  "exclude": ["node_modules"]
}
```

### 8.3.2 types/global.d.ts
```typescript
// ì „ì—­ íƒ€ì… ì •ì˜
declare global {
  namespace NodeJS {
    interface ProcessEnv {
      NEXT_PUBLIC_SUPABASE_URL: string;
      NEXT_PUBLIC_SUPABASE_ANON_KEY: string;
      SUPABASE_SERVICE_ROLE_KEY: string;
      NEXT_PUBLIC_DOMAIN: string;
      NEXT_PUBLIC_SITE_URL: string;
      ADMIN_EMAIL: string;
      ADMIN_PASSWORD: string;
      JWT_SECRET: string;
      ENCRYPTION_KEY: string;
      ENCRYPTION_IV: string;
      OPENAI_API_KEY: string;
      TOSS_CLIENT_KEY: string;
      TOSS_SECRET_KEY: string;
      KAKAO_PAY_CID: string;
      KAKAO_PAY_SECRET: string;
      NICE_CLIENT_ID: string;
      NICE_CLIENT_SECRET: string;
      INICIS_MID: string;
      INICIS_SIGN_KEY: string;
      
      // ì™¸ë¶€ íˆ´ ì—°ë™
      GOOGLE_CLIENT_ID: string;
      GOOGLE_CLIENT_SECRET: string;
      GOOGLE_REDIRECT_URI: string;
      GOOGLE_SCOPES: string;
      MICROSOFT_CLIENT_ID: string;
      MICROSOFT_CLIENT_SECRET: string;
      MICROSOFT_TENANT_ID: string;
      MICROSOFT_REDIRECT_URI: string;
      MICROSOFT_SCOPES: string;
      ZOOM_CLIENT_ID: string;
      ZOOM_CLIENT_SECRET: string;
      ZOOM_REDIRECT_URI: string;
      ZOOM_WEBHOOK_SECRET: string;
      KAHOOT_API_KEY: string;
      PADLET_API_KEY: string;
      
      // ìƒë‹´ ì§€ì› ì‹œìŠ¤í…œ
      COUNSELING_AI_MODEL: string;
      COUNSELING_CONFIDENCE_THRESHOLD: string;
      COUNSELING_SESSION_TIMEOUT: string;
      COUNSELING_AUTO_SAVE_INTERVAL: string;
      COUNSELING_BACKUP_ENABLED: string;
      COUNSELING_ENCRYPTION_ENABLED: string;
      COUNSELING_RETENTION_DAYS: string;
      COUNSELING_ALERT_THRESHOLD: string;
      
      // ì›Œí¬í”Œë¡œìš° ìë™í™”
      WORKFLOW_ENABLED: string;
      WORKFLOW_MAX_ACTIONS: string;
      WORKFLOW_TIMEOUT: string;
      WORKFLOW_RETRY_COUNT: string;
      WORKFLOW_LOG_RETENTION_DAYS: string;
      WORKFLOW_APPROVAL_TIMEOUT: string;
      WORKFLOW_NOTIFICATION_ENABLED: string;
      
      // í€µë§í¬ ëŒ€ì‹œë³´ë“œ
      QUICKLINK_MAX_BUTTONS: string;
      QUICKLINK_CACHE_TTL: string;
      QUICKLINK_PERSONALIZATION: string;
      QUICKLINK_USAGE_TRACKING: string;
      QUICKLINK_AUTO_OPTIMIZE: string;
      
      // ì™¸ë¶€ íˆ´ ë³´ì•ˆ
      EXTERNAL_TOOL_ENCRYPTION: string;
      EXTERNAL_TOOL_TOKEN_REFRESH: string;
      EXTERNAL_TOOL_RATE_LIMIT: string;
      EXTERNAL_TOOL_TIMEOUT: string;
      EXTERNAL_TOOL_LOG_ENABLED: string;
      EXTERNAL_TOOL_GDPR_COMPLIANCE: string;
      
      // ê²°ì œ ì‹œìŠ¤í…œ í™•ì¥
      PAYMENT_REFUND_ENABLED: string;
      PAYMENT_PARTIAL_REFUND: string;
      PAYMENT_AUTO_REFUND_DAYS: string;
      PAYMENT_VERIFICATION_ENABLED: string;
      PAYMENT_DUPLICATE_CHECK: string;
      PAYMENT_FRAUD_DETECTION: string;
      PAYMENT_NOTIFICATION_EMAIL: string;
      
      NODE_ENV: 'development' | 'production' | 'test';
      DEBUG: string;
    }
  }
}

// Window ê°ì²´ í™•ì¥
declare interface Window {
  gtag: (command: string, targetId: string, config?: any) => void;
}

export {};
```

---

## 8.4 í”„ë¡œì íŠ¸ ì„¤ì • (HTML + Alpine.js)

### 8.4.1 package.json (ê°œë°œ ë„êµ¬ ì „ìš©)
```json
{
  "name": "iepon-system",
  "version": "1.0.0",
  "description": "IEPON AI ê¸°ë°˜ íŠ¹ìˆ˜êµìœ¡ ê´€ë¦¬ ì‹œìŠ¤í…œ (HTML + Alpine.js + HTMX + Supabase)",
  "private": true,
  "type": "module",
  "scripts": {
    "dev": "live-server --port=3000 --cors --entry-file=index.html",
    "dev:https": "live-server --port=3000 --https --cors --entry-file=index.html",
    "preview": "http-server -p 8080 -c-1",
    "format": "prettier --write '**/*.{html,css,js,md}'",
    "format:check": "prettier --check '**/*.{html,css,js,md}'",
    "lint": "eslint js/**/*.js --fix",
    "lint:check": "eslint js/**/*.js",
    "validate:html": "html-validate pages/*.html index.html",
    "validate:css": "stylelint css/**/*.css --fix",
    "validate:js": "jshint js/**/*.js",
    "validate:utf8": "node scripts/validate-utf8.js",
    "test": "jest --testEnvironment=jsdom",
    "test:watch": "jest --watch --testEnvironment=jsdom",
    "build": "node scripts/build.js",
    "build:prod": "NODE_ENV=production node scripts/build.js",
    "deploy:netlify": "netlify deploy --prod",
    "supabase:types": "supabase gen types javascript --project-id nkssusbaaycylcvnpcmt > js/types.js",
    "supabase:migrate": "supabase db push",
    "supabase:reset": "supabase db reset"
  },
  "dependencies": {
    "@supabase/supabase-js": "^2.38.0"
  },
  "devDependencies": {
    "live-server": "^1.2.2",
    "http-server": "^14.1.1",
    "prettier": "^3.0.3",
    "eslint": "^8.51.0",
    "jshint": "^2.13.6",
    "html-validate": "^8.5.0",
    "stylelint": "^15.11.0",
    "stylelint-config-standard": "^34.0.0",
    "jest": "^29.7.0",
    "jest-environment-jsdom": "^29.7.0",
    "@testing-library/jest-dom": "^6.1.4",
    "netlify-cli": "^17.7.0",
    "supabase": "^1.110.0"
  },
  "browserslist": [
    "> 1%",
    "last 2 versions",
    "not dead",
    "not ie 11"
  ],
  "engines": {
    "node": ">= 18.0.0",
    "npm": ">= 8.0.0"
  }
}
```

---

## 8.5 ê°œë°œ ë„êµ¬ ì„¤ì • (HTML + Alpine.js ì „ìš©)

### 8.5.1 .eslintrc.json (JavaScript ì „ìš©)
```json
{
  "env": {
    "browser": true,
    "es2022": true,
    "jest": true
  },
  "extends": ["eslint:recommended"],
  "parserOptions": {
    "ecmaVersion": 2022,
    "sourceType": "module"
  },
  "globals": {
    "Alpine": "readonly",
    "htmx": "readonly",
    "supabase": "readonly",
    "ENV": "readonly"
  },
  "rules": {
    "no-unused-vars": "error",
    "no-console": "warn",
    "prefer-const": "error",
    "no-var": "error",
    "no-undef": "error",
    "no-implied-eval": "error",
    "no-eval": "error",
    "eqeqeq": "error",
    "curly": "error",
    "quotes": ["error", "single"],
    "semi": ["error", "always"],
    "indent": ["error", 2],
    "linebreak-style": ["error", "unix"],
    "max-len": ["warn", { "code": 100 }]
  },
  "ignorePatterns": ["node_modules/", "dist/", "build/"]
}
```

### 8.5.2 .prettierrc
```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false
}
```

### 8.5.3 .gitignore
```
# Dependencies (ìµœì†Œí•œì˜ ê°œë°œ ë„êµ¬ìš©)
node_modules/

# Production (ì •ì  íŒŒì¼ í˜¸ìŠ¤íŒ…ìš©)
build/
dist/
public/assets/generated/

# Environment variables
.env
.env.local
.env.development.local
.env.test.local
.env.production.local

# IDE
.vscode/
.idea/
*.swp
*.swo

# OS
.DS_Store
Thumbs.db

# Logs
*.log
npm-debug.log*

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Coverage directory used by tools like istanbul
coverage/
*.lcov

# Optional npm cache directory
.npm

# Optional eslint cache
.eslintcache

# Optional REPL history
.node_repl_history

# Supabase
.supabase/

# HTML + Alpine.js íŠ¹í™” ë¬´ì‹œ íŒŒì¼
# CSS ì••ì¶• íŒŒì¼
*.min.css
*.min.js

# ì„ì‹œ íŒŒì¼
.temp/
.tmp/

# í…ŒìŠ¤íŠ¸ ê²°ê³¼
test-results/
jest-coverage/
```

---

## 8.6 ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

### 8.6.1 supabase/config.toml
```toml
[api]
enabled = true
port = 54321
schemas = ["public", "graphql_public"]
extra_search_path = ["public", "extensions"]
max_rows = 1000

[auth]
enabled = true
port = 54322
site_url = "http://localhost:3000"
additional_redirect_urls = ["https://iepon.site"]
jwt_expiry = 3600
refresh_token_rotation_enabled = true
security_update_password_require_reauthentication = true

[auth.email]
enable_signup = true
double_confirm_changes = true
enable_confirmations = false

[db]
port = 54323
shadow_port = 54324
major_version = 15

[storage]
enabled = true
port = 54325
file_size_limit = "10MB"
```

---

## ğŸ“‹ **ì²´í¬ë¦¬ìŠ¤íŠ¸**

### í™˜ê²½ ì„¤ì • (HTML + Alpine.js + HTMX + Supabase)
- [ ] ê°œë°œ/í”„ë¡œë•ì…˜ í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (.env íŒŒì¼)
- [ ] config.js í´ë¼ì´ì–¸íŠ¸ ì„¤ì • íŒŒì¼ êµ¬ì„±
- [ ] Alpine.js ì „ì—­ ìŠ¤í† ì–´ ì´ˆê¸° ì„¤ì •
- [ ] HTMX ê¸°ë³¸ ì„¤ì • ë° ì—”ë“œí¬ì¸íŠ¸ êµ¬ì„±
- [ ] Supabase í´ë¼ì´ì–¸íŠ¸ ì„¤ì • ë° ì—°ê²° í…ŒìŠ¤íŠ¸
- [ ] UTF-8 ì¸ì½”ë”© ì•ˆì „ì„± ì„¤ì •

### ê°œë°œ ë„êµ¬ (HTML + Alpine.js ì „ìš©)
- [ ] ESLint ì„¤ì • (JavaScript ì „ìš©, Alpine.js ê¸€ë¡œë²Œ ë³€ìˆ˜ í¬í•¨)
- [ ] Prettier ì„¤ì • (HTML, CSS, JavaScript í¬ë§¤íŒ…)
- [ ] HTML ìœ íš¨ì„± ê²€ì‚¬ ë„êµ¬ (html-validate)
- [ ] CSS ë¦°í„° ì„¤ì • (stylelint)
- [ ] Git ì„¤ì • ë° .gitignore (Node.js + Supabase)
- [ ] íŒ¨í‚¤ì§€ ì˜ì¡´ì„± ê´€ë¦¬ (package.json ìµœì†Œí™”)
- [ ] ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì • (Jest + jsdom)
- [ ] Live Server ê°œë°œ ì„œë²„ ì„¤ì •

### ë°ì´í„°ë² ì´ìŠ¤ ë° ë°±ì—”ë“œ
- [ ] Supabase í”„ë¡œì íŠ¸ ì„¤ì • ë° í…Œì´ë¸” ìƒì„±
- [ ] í™˜ê²½ë³„ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° (ê°œë°œ/í”„ë¡œë•ì…˜)
- [ ] Row Level Security (RLS) ì •ì±… ì„¤ì •
- [ ] Supabase Edge Functions ì„¤ì • ë° ë°°í¬
- [ ] ë°±ì—… ë° ë§ˆì´ê·¸ë ˆì´ì…˜ ì„¤ì •
- [ ] AI API í‚¤ ë³´ì•ˆ ì„¤ì • (Edge Functions ì „ìš©)

### ë‚´ìš© ë° ì ‘ê·¼ì„±
- [ ] í•œê¸€ ì½˜í…ì¸  UTF-8 ì¸ì½”ë”© ê²€ì¦
- [ ] WCAG 2.1 AA ì ‘ê·¼ì„± ê¸°ì¤€ ì¤€ìˆ˜
- [ ] ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì› (ARIA ë ˆì´ë¸”)
- [ ] í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ì§€ì›
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• ë””ìì¸ í…ŒìŠ¤íŠ¸

---

## ğŸ”— **ê´€ë ¨ ë¬¸ì„œ**

- **[01_ì‹œìŠ¤í…œ_ì•„í‚¤í…ì²˜.md](./01_ì‹œìŠ¤í…œ_ì•„í‚¤í…ì²˜.md)**: ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°
- **[11_ë°°í¬_ê°€ì´ë“œ.md](./11_ë°°í¬_ê°€ì´ë“œ.md)**: ë°°í¬ í™˜ê²½ ì„¤ì •
- **[12_ê°œë°œ_ê°€ì´ë“œ.md](./12_ê°œë°œ_ê°€ì´ë“œ.md)**: ê°œë°œ í™˜ê²½ ì„¤ì • ê°€ì´ë“œ
