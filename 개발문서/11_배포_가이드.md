# ğŸš€ IEPON ë°°í¬ ê°€ì´ë“œ

> **ì—°ê²° ë¬¸ì„œ**: [01_ì‹œìŠ¤í…œ_ì•„í‚¤í…ì²˜.md](./01_ì‹œìŠ¤í…œ_ì•„í‚¤í…ì²˜.md) | [08_í™˜ê²½_ì„¤ì •.md](./08_í™˜ê²½_ì„¤ì •.md) | [12_ê°œë°œ_ê°€ì´ë“œ.md](./12_ê°œë°œ_ê°€ì´ë“œ.md)
> **í™˜ê²½ ë³€ìˆ˜ ê³µí†µ í…Œì´ë¸”**: ë°°í¬ íŒŒì´í”„ë¼ì¸ì—ì„œ ì‚¬ìš©ë˜ëŠ” ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ëŠ” [08_í™˜ê²½_ì„¤ì •.md](./08_í™˜ê²½_ì„¤ì •.md)ì˜ í‘œë¥¼ ë‹¨ì¼ ì†ŒìŠ¤(True North)ë¡œ ì°¸ì¡°í•©ë‹ˆë‹¤. Netlify > Site Settings > Environment íƒ­ì— ë™ì¼ í‚¤ë¥¼ ì…ë ¥í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œ/ë°±ì—”ë“œê°€ ì¼ê´€ëœ ê°’ì„ ì‚¬ìš©í•˜ë„ë¡ í•©ë‹ˆë‹¤.

> **ğŸ”„ HTML + Alpine.js + HTMX + Supabase ìŠ¤íƒ ê¸°ë°˜ ë°°í¬**: ì´ ê°€ì´ë“œëŠ” ë¹„ì „ê³µìë„ ì‰½ê²Œ ë°°í¬í•  ìˆ˜ ìˆë„ë¡ ë‹¨ìˆœí™”ëœ HTML ê¸°ë°˜ ì •ì  ì‚¬ì´íŠ¸ ë°°í¬ ë°©ì‹ì„ ì œê³µí•©ë‹ˆë‹¤. ë³µì¡í•œ ë¹Œë“œ ê³¼ì • ì—†ì´ HTML íŒŒì¼ì„ ì§ì ‘ ë°°í¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

---

## 11.1 ë°°í¬ ì•„í‚¤í…ì²˜ (HTML + Alpine.js + HTMX)

### 11.1.1 ìƒˆë¡œìš´ ë°°í¬ í™˜ê²½ êµ¬ì„±
- **í”„ë¡ íŠ¸ì—”ë“œ**: Netlify (HTML5 ì •ì  ì‚¬ì´íŠ¸ + Alpine.js + HTMX)
- **ë°±ì—”ë“œ**: Supabase (PostgreSQL + Auth + Storage + Edge Functions)
- **ë„ë©”ì¸**: iepon.site (ê³µì‹ ë„ë©”ì¸)
- **CDN**: Netlify Edge Network
- **ëª¨ë‹ˆí„°ë§**: Supabase ë‚´ì¥ ëª¨ë‹ˆí„°ë§ + ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬
- **ì‹¤ì‹œê°„ í†µì‹ **: HTMX + Supabase Realtime

### 11.1.2 ë‹¨ìˆœí™”ëœ ë°°í¬ í”Œë¡œìš°
```
ê°œë°œ â†’ GitHub â†’ Netlify â†’ í”„ë¡œë•ì…˜
  â†“        â†“        â†“         â†“
ë¡œì»¬HTML â†’ ì½”ë“œí‘¸ì‹œ â†’ ì •ì ë°°í¬ â†’ ì¦‰ì‹œì„œë¹„ìŠ¤

âœ… ë¹Œë“œ ê³¼ì • ì—†ìŒ (HTML ì§ì ‘ ë°°í¬)
âœ… ì˜ì¡´ì„± ìµœì†Œí™” (CDN ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©)
âœ… ë°°í¬ ì‹œê°„ ë‹¨ì¶• (ì •ì  íŒŒì¼ë§Œ ì—…ë¡œë“œ)
âœ… ë””ë²„ê¹… ìš©ì´ (ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ í™•ì¸)
```

### 11.1.3 ê¸°ìˆ  ìŠ¤íƒë³„ ë°°í¬ íŠ¹ì§•

#### HTML5 + CSS3
- **ë°°í¬ ë°©ì‹**: ì •ì  íŒŒì¼ ì§ì ‘ ì—…ë¡œë“œ
- **ìºì‹±**: ë¸Œë¼ìš°ì € ìºì‹œ + CDN ìºì‹œ
- **ìµœì í™”**: ì´ë¯¸ì§€ ì••ì¶•, CSS/JS ìµœì†Œí™”

#### Alpine.js (CDN ë°©ì‹)
```html
<!-- Alpine.js CDN ë¡œë“œ -->
<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
```

#### HTMX (CDN ë°©ì‹)
```html
<!-- HTMX CDN ë¡œë“œ -->
<script src="https://unpkg.com/htmx.org@1.9.10"></script>
```

#### Supabase í´ë¼ì´ì–¸íŠ¸
```html
<!-- Supabase í´ë¼ì´ì–¸íŠ¸ CDN ë¡œë“œ -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
```

---

## 11.2 Netlify ì •ì  ì‚¬ì´íŠ¸ ë°°í¬ ì„¤ì •

### 11.2.1 netlify.toml (HTML + Alpine.js + HTMX)
```toml
# ğŸŒŸ ë‹¨ìˆœí™”ëœ HTML ì •ì  ì‚¬ì´íŠ¸ ë°°í¬ ì„¤ì •
# Next.js ë¹Œë“œ ê³¼ì • ì—†ì´ HTML íŒŒì¼ ì§ì ‘ ë°°í¬

[build]
  # ë¹Œë“œ ëª…ë ¹ì–´ ì—†ìŒ (HTML íŒŒì¼ ì§ì ‘ ì‚¬ìš©)
  publish = "public"
  # ë˜ëŠ” ë£¨íŠ¸ ë””ë ‰í† ë¦¬ ì‚¬ìš©: publish = "."

# Next.js í”ŒëŸ¬ê·¸ì¸ ì œê±° (ë” ì´ìƒ í•„ìš” ì—†ìŒ)
# [[plugins]]
#   package = "@netlify/plugin-nextjs"

[build.environment]
  # Node.js ë²„ì „ (ìµœì†Œí•œì˜ í™˜ê²½ ì„¤ì •)
  NODE_VERSION = "18"
  # UTF-8 ì¸ì½”ë”© ì§€ì›
  LANG = "ko_KR.UTF-8"
  LC_ALL = "ko_KR.UTF-8"

# ğŸ”’ ë³´ì•ˆ í—¤ë” ì„¤ì • (Alpine.js + HTMX í˜¸í™˜)
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "strict-origin-when-cross-origin"
    Strict-Transport-Security = "max-age=31536000; includeSubDomains"
    # Alpine.jsì™€ HTMXë¥¼ ìœ„í•œ CSP ì„¤ì •
    Content-Security-Policy = "default-src 'self'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https://cdn.jsdelivr.net https://unpkg.com; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; img-src 'self' data: https:; font-src 'self' data: https://cdn.jsdelivr.net; connect-src 'self' https://*.supabase.co wss://*.supabase.co;"

# ğŸŒ ë„ë©”ì¸ ë¦¬ë””ë ‰ì…˜
[[redirects]]
  from = "https://www.iepon.site/*"
  to = "https://iepon.site/:splat"
  status = 301
  force = true

# ğŸ”„ SPA ë¼ìš°íŒ… (HTML í˜ì´ì§€ ê¸°ë°˜)
[[redirects]]
  from = "/dashboard/*"
  to = "/dashboard/index.html"
  status = 200

[[redirects]]
  from = "/students/*"
  to = "/students/index.html"
  status = 200

[[redirects]]
  from = "/curriculum/*"
  to = "/curriculum/index.html"
  status = 200

[[redirects]]
  from = "/reports/*"
  to = "/reports/index.html"
  status = 200

# ê¸°ë³¸ í˜ì´ì§€ ë¦¬ë””ë ‰ì…˜
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# ğŸ¯ í”„ë¡œë•ì…˜ í™˜ê²½ ì„¤ì •
[context.production]
  # ë¹Œë“œ ëª…ë ¹ì–´ ì—†ìŒ (ì •ì  íŒŒì¼ ì§ì ‘ ë°°í¬)
  
[context.production.environment]
  ENVIRONMENT = "production"
  SITE_DOMAIN = "iepon.site"
  SITE_URL = "https://iepon.site"
  # Supabase í™˜ê²½ ë³€ìˆ˜ëŠ” Netlify UIì—ì„œ ì„¤ì •

# ğŸ§ª ë¯¸ë¦¬ë³´ê¸° í™˜ê²½ ì„¤ì •
[context.deploy-preview]
  
[context.deploy-preview.environment]
  ENVIRONMENT = "preview"
  SITE_DOMAIN = "deploy-preview--iepon.netlify.app"

# ğŸ“ ì •ì  íŒŒì¼ ìºì‹± ì„¤ì •
[[headers]]
  for = "/assets/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/css/*"
  [headers.values]
    Cache-Control = "public, max-age=86400"

[[headers]]
  for = "/js/*"
  [headers.values]
    Cache-Control = "public, max-age=86400"

[[headers]]
  for = "/images/*"
  [headers.values]
    Cache-Control = "public, max-age=604800"
```

### 11.2.2 í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
iepon-project/
â”œâ”€â”€ public/                    # ë°°í¬ë  ì •ì  íŒŒì¼ë“¤
â”‚   â”œâ”€â”€ index.html            # ë©”ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â””â”€â”€ index.html        # ëŒ€ì‹œë³´ë“œ í˜ì´ì§€
â”‚   â”œâ”€â”€ students/
â”‚   â”‚   â””â”€â”€ index.html        # í•™ìƒ ê´€ë¦¬ í˜ì´ì§€
â”‚   â”œâ”€â”€ curriculum/
â”‚   â”‚   â””â”€â”€ index.html        # êµìœ¡ê³¼ì • í˜ì´ì§€
â”‚   â”œâ”€â”€ reports/
â”‚   â”‚   â””â”€â”€ index.html        # ë³´ê³ ì„œ í˜ì´ì§€
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â”œâ”€â”€ main.css          # ë©”ì¸ ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”‚   â”‚   â””â”€â”€ components.css    # ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ app.js           # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ supabase.js      # Supabase í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
â”‚   â”‚   â””â”€â”€ components/      # Alpine.js ì»´í¬ë„ŒíŠ¸ë“¤
â”‚   â”œâ”€â”€ images/              # ì´ë¯¸ì§€ íŒŒì¼ë“¤
â”‚   â””â”€â”€ assets/              # ê¸°íƒ€ ì •ì  ìì›ë“¤
â”œâ”€â”€ netlify.toml             # Netlify ë°°í¬ ì„¤ì •
â””â”€â”€ README.md                # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

### 11.2.3 ë‹¨ìˆœí™”ëœ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
```bash
#!/bin/bash
# deploy.sh - IEPON HTML ì •ì  ì‚¬ì´íŠ¸ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
# ğŸŒŸ ë¹„ì „ê³µìë„ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë‹¨ìˆœí™”ëœ ë°°í¬ í”„ë¡œì„¸ìŠ¤
# Next.js ë¹Œë“œ ê³¼ì • ì—†ì´ HTML íŒŒì¼ ì§ì ‘ ë°°í¬

set -e  # ì—ëŸ¬ ë°œìƒ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨

echo "ğŸš€ IEPON HTML ì •ì  ì‚¬ì´íŠ¸ ë°°í¬ ì‹œì‘..."
echo "ğŸ“‹ HTML + Alpine.js + HTMX + Supabase ìŠ¤íƒ ë°°í¬"

# UTF-8 ì¸ì½”ë”© í™˜ê²½ ì„¤ì • (í•œê¸€ ì§€ì›)
export LANG=ko_KR.UTF-8
export LC_ALL=ko_KR.UTF-8

# ğŸ” í™˜ê²½ ë³€ìˆ˜ í™•ì¸
if [ -z "$NETLIFY_AUTH_TOKEN" ]; then
  echo "âŒ ì˜¤ë¥˜: NETLIFY_AUTH_TOKEN í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤."
  echo "ğŸ’¡ í•´ê²° ë°©ë²•: Netlify ëŒ€ì‹œë³´ë“œì—ì„œ Personal Access Tokenì„ ìƒì„±í•˜ì—¬ ì„¤ì •í•´ì£¼ì„¸ìš”."
  echo "ğŸ”— ì°¸ì¡°: https://app.netlify.com/user/applications#personal-access-tokens"
  exit 1
fi

if [ -z "$NETLIFY_SITE_ID" ]; then
  echo "âŒ ì˜¤ë¥˜: NETLIFY_SITE_ID í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤."
  echo "ğŸ’¡ í•´ê²° ë°©ë²•: Netlify ì‚¬ì´íŠ¸ ì„¤ì •ì—ì„œ Site IDë¥¼ í™•ì¸í•˜ì—¬ ì„¤ì •í•´ì£¼ì„¸ìš”."
  echo "ğŸ”— ì°¸ì¡°: Site Settings > General > Site details > Site ID"
  exit 1
fi

# ğŸ“ HTML íŒŒì¼ ê²€ì¦ (ë¹Œë“œ ê³¼ì • ì—†ìŒ)
echo "ğŸ“„ HTML íŒŒì¼ êµ¬ì¡° ê²€ì¦ ì¤‘..."
if [ ! -f "public/index.html" ]; then
  echo "âŒ ì˜¤ë¥˜: public/index.html íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."
  echo "ğŸ’¡ í•´ê²° ë°©ë²•: ë©”ì¸ HTML íŒŒì¼ì„ public/index.htmlì— ìƒì„±í•´ì£¼ì„¸ìš”."
  exit 1
fi

# í•„ìˆ˜ HTML í˜ì´ì§€ ê²€ì¦
echo "ğŸ” í•„ìˆ˜ í˜ì´ì§€ ê²€ì¦ ì¤‘..."
required_pages=("dashboard/index.html" "students/index.html" "curriculum/index.html" "reports/index.html")
for page in "${required_pages[@]}"; do
  if [ ! -f "public/$page" ]; then
    echo "âš ï¸ ê²½ê³ : public/$page íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."
    echo "ğŸ’¡ ê¶Œì¥ì‚¬í•­: í•´ë‹¹ í˜ì´ì§€ë¥¼ ìƒì„±í•˜ê±°ë‚˜ netlify.tomlì—ì„œ ë¦¬ë””ë ‰ì…˜ì„ ì œê±°í•´ì£¼ì„¸ìš”."
  fi
done

# CSS/JS íŒŒì¼ ê²€ì¦
echo "ğŸ¨ ìŠ¤íƒ€ì¼ì‹œíŠ¸ ë° ìŠ¤í¬ë¦½íŠ¸ ê²€ì¦ ì¤‘..."
if [ ! -f "public/css/main.css" ]; then
  echo "âš ï¸ ê²½ê³ : public/css/main.css íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."
  echo "ğŸ’¡ ê¶Œì¥ì‚¬í•­: ë©”ì¸ ìŠ¤íƒ€ì¼ì‹œíŠ¸ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”."
fi

if [ ! -f "public/js/app.js" ]; then
  echo "âš ï¸ ê²½ê³ : public/js/app.js íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."
  echo "ğŸ’¡ ê¶Œì¥ì‚¬í•­: ë©”ì¸ JavaScript íŒŒì¼ì„ ìƒì„±í•´ì£¼ì„¸ìš”."
fi

# HTML ë¬¸ë²• ê²€ì¦ (ê°„ë‹¨í•œ ì²´í¬)
echo "âœ… HTML ë¬¸ë²• ê¸°ë³¸ ê²€ì¦ ì¤‘..."
for html_file in $(find public -name "*.html"); do
  if ! grep -q "<!DOCTYPE html>" "$html_file"; then
    echo "âš ï¸ ê²½ê³ : $html_fileì— DOCTYPE ì„ ì–¸ì´ ì—†ìŠµë‹ˆë‹¤."
  fi
  if ! grep -q "<html" "$html_file"; then
    echo "âŒ ì˜¤ë¥˜: $html_fileì— html íƒœê·¸ê°€ ì—†ìŠµë‹ˆë‹¤."
    exit 1
  fi
done

# UTF-8 ì¸ì½”ë”© ê²€ì¦
echo "ğŸŒ UTF-8 ì¸ì½”ë”© ê²€ì¦ ì¤‘..."
for html_file in $(find public -name "*.html"); do
  if ! grep -q 'charset="utf-8"\|charset=utf-8' "$html_file"; then
    echo "âš ï¸ ê²½ê³ : $html_fileì— UTF-8 charset ì„ ì–¸ì´ ì—†ìŠµë‹ˆë‹¤."
    echo "ğŸ’¡ ê¶Œì¥ì‚¬í•­: <meta charset=\"utf-8\"> íƒœê·¸ë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”."
  fi
done

# Alpine.js ë° HTMX CDN ë§í¬ ê²€ì¦
echo "ğŸ”— CDN ë¼ì´ë¸ŒëŸ¬ë¦¬ ë§í¬ ê²€ì¦ ì¤‘..."
for html_file in $(find public -name "*.html"); do
  if grep -q "x-data\|x-show\|x-if" "$html_file" && ! grep -q "alpinejs" "$html_file"; then
    echo "âš ï¸ ê²½ê³ : $html_fileì—ì„œ Alpine.jsë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ CDN ë§í¬ê°€ ì—†ìŠµë‹ˆë‹¤."
    echo "ğŸ’¡ ê¶Œì¥ì‚¬í•­: Alpine.js CDN ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”."
  fi
  
  if grep -q "hx-get\|hx-post\|hx-" "$html_file" && ! grep -q "htmx" "$html_file"; then
    echo "âš ï¸ ê²½ê³ : $html_fileì—ì„œ HTMXë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ CDN ë§í¬ê°€ ì—†ìŠµë‹ˆë‹¤."
    echo "ğŸ’¡ ê¶Œì¥ì‚¬í•­: HTMX CDN ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”."
  fi
done

# ì ‘ê·¼ì„± ê¸°ë³¸ ê²€ì¦ (íŠ¹ìˆ˜êµìœ¡ ì ‘ê·¼ì„± ê³ ë ¤)
echo "â™¿ ì ‘ê·¼ì„± ê¸°ë³¸ ê²€ì¦ ì¤‘..."
for html_file in $(find public -name "*.html"); do
  if ! grep -q "lang=" "$html_file"; then
    echo "âš ï¸ ê²½ê³ : $html_fileì— ì–¸ì–´ ì†ì„±(lang)ì´ ì—†ìŠµë‹ˆë‹¤."
    echo "ğŸ’¡ ê¶Œì¥ì‚¬í•­: <html lang=\"ko\"> ì†ì„±ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”."
  fi
done

# ğŸš€ Netlify ë°°í¬ ì‹¤í–‰ (HTML íŒŒì¼ ì§ì ‘ ë°°í¬)
echo "ğŸŒ Netlifyì— HTML íŒŒì¼ ì§ì ‘ ë°°í¬ ì¤‘..."
if ! netlify deploy --prod --dir=public; then
  echo "âŒ ì˜¤ë¥˜: ë°°í¬ ì‹¤í–‰ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."
  echo "ğŸ’¡ í•´ê²° ë°©ë²•: Netlify ì„¤ì •ì„ í™•ì¸í•˜ê³  ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."
  exit 1
fi

echo "âœ… HTML ì •ì  ì‚¬ì´íŠ¸ ë°°í¬ ì™„ë£Œ!"
echo "ğŸŒ ì‚¬ì´íŠ¸ URL: https://iepon.site"
echo "ğŸ“Š ë°°í¬ ìƒíƒœ í™•ì¸: https://app.netlify.com/sites/iepon/deploys"
echo "ğŸ”” ë°°í¬ ì™„ë£Œ ì•Œë¦¼: IEPON HTML ì •ì  ì‚¬ì´íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ë°°í¬ë˜ì—ˆìŠµë‹ˆë‹¤!"
echo "ğŸš€ ë¹ ë¥¸ ë°°í¬: ë¹Œë“œ ì‹œê°„ ì—†ì´ HTML íŒŒì¼ ì§ì ‘ ë°°í¬ ì™„ë£Œ"
echo "ğŸ”§ ë””ë²„ê¹…: ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ë¡œ ì¦‰ì‹œ í™•ì¸ ê°€ëŠ¥"
```

---

## 11.3 Supabase ë°±ì—”ë“œ ì„¤ì •

### 11.3.1 í”„ë¡œë•ì…˜ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • (HTML + Alpine.js + HTMX í˜¸í™˜)
```sql
-- ğŸ—„ï¸ í”„ë¡œë•ì…˜ í™˜ê²½ ì´ˆê¸° ì„¤ì • (HTML + Alpine.js + HTMX + Supabase)
-- 1. ê´€ë¦¬ì ê³„ì • ìƒì„±
INSERT INTO auth.users (
  id,
  email,
  encrypted_password,
  email_confirmed_at,
  raw_user_meta_data,
  created_at,
  updated_at
) VALUES (
  gen_random_uuid(),
  'ieponsystem@gmail.com',
  crypt('your-secure-password', gen_salt('bf')),
  NOW(),
  '{"role": "super_admin", "name": "IEPON ì‹œìŠ¤í…œ ê´€ë¦¬ì", "ui_mode": "html_alpine"}',
  NOW(),
  NOW()
);

-- 2. RLS ì •ì±… í™œì„±í™” (ëª¨ë“  í…Œì´ë¸”)
ALTER TABLE students ENABLE ROW LEVEL SECURITY;
ALTER TABLE current_levels ENABLE ROW LEVEL SECURITY;
ALTER TABLE monthly_plans ENABLE ROW LEVEL SECURITY;
ALTER TABLE monthly_evaluations ENABLE ROW LEVEL SECURITY;
ALTER TABLE payments ENABLE ROW LEVEL SECURITY;
ALTER TABLE licenses ENABLE ROW LEVEL SECURITY;
ALTER TABLE system_settings ENABLE ROW LEVEL SECURITY;
ALTER TABLE notifications ENABLE ROW LEVEL SECURITY;

-- 3. ìŠ¤í† ë¦¬ì§€ ë²„í‚· ìƒì„± (íŒŒì¼ ì—…ë¡œë“œìš©)
INSERT INTO storage.buckets (id, name, public) VALUES ('files', 'files', false);
INSERT INTO storage.buckets (id, name, public) VALUES ('avatars', 'avatars', true);
INSERT INTO storage.buckets (id, name, public) VALUES ('reports', 'reports', false);

-- 4. ìŠ¤í† ë¦¬ì§€ ì •ì±… ì„¤ì • (ì‚¬ìš©ìë³„ íŒŒì¼ ì ‘ê·¼)
CREATE POLICY "Users can upload files" ON storage.objects
FOR INSERT WITH CHECK (auth.uid()::text = (storage.foldername(name))[1]);

CREATE POLICY "Users can view own files" ON storage.objects
FOR SELECT USING (auth.uid()::text = (storage.foldername(name))[1]);

CREATE POLICY "Users can delete own files" ON storage.objects
FOR DELETE USING (auth.uid()::text = (storage.foldername(name))[1]);

-- 5. HTMX ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ í•¨ìˆ˜ ìƒì„±
CREATE OR REPLACE FUNCTION notify_htmx_update()
RETURNS trigger AS $$
BEGIN
  PERFORM pg_notify('htmx_update', json_build_object(
    'table', TG_TABLE_NAME,
    'action', TG_OP,
    'data', row_to_json(NEW)
  )::text);
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

-- 6. ì£¼ìš” í…Œì´ë¸”ì— HTMX ì—…ë°ì´íŠ¸ íŠ¸ë¦¬ê±° ì¶”ê°€
CREATE TRIGGER students_htmx_notify
  AFTER INSERT OR UPDATE OR DELETE ON students
  FOR EACH ROW EXECUTE FUNCTION notify_htmx_update();

CREATE TRIGGER monthly_plans_htmx_notify
  AFTER INSERT OR UPDATE OR DELETE ON monthly_plans
  FOR EACH ROW EXECUTE FUNCTION notify_htmx_update();
```

### 11.3.2 HTML + Alpine.js í™˜ê²½ ì„¤ì •
```javascript
// public/js/supabase.js - HTMLì—ì„œ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” Supabase í´ë¼ì´ì–¸íŠ¸
// ğŸŒŸ CDN ë°©ì‹ìœ¼ë¡œ ë¡œë“œëœ Supabase í´ë¼ì´ì–¸íŠ¸ ì„¤ì •

// í™˜ê²½ ë³€ìˆ˜ (HTMLì—ì„œ ì§ì ‘ ì„¤ì •)
const SUPABASE_CONFIG = {
  url: 'https://your-project.supabase.co', // ì‹¤ì œ Supabase URLë¡œ ë³€ê²½
  anonKey: 'your-anon-key', // ì‹¤ì œ anon keyë¡œ ë³€ê²½
  serviceRoleKey: 'your-service-role-key' // Edge Functionsìš© (ë³´ì•ˆ ì£¼ì˜)
};

// Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™” (ì „ì—­ ë³€ìˆ˜)
window.supabaseClient = supabase.createClient(
  SUPABASE_CONFIG.url,
  SUPABASE_CONFIG.anonKey,
  {
    auth: {
      persistSession: true,
      autoRefreshToken: true,
      detectSessionInUrl: true,
      // HTML í˜ì´ì§€ ê¸°ë°˜ ë¦¬ë””ë ‰ì…˜
      redirectTo: window.location.origin + '/dashboard/'
    },
    db: {
      schema: 'public'
    },
    global: {
      headers: {
        'X-Client-Info': 'iepon-html-alpine@1.0.0',
        'X-UI-Framework': 'alpine-js-htmx'
      }
    }
  }
);

// ğŸ”„ Alpine.jsì™€ HTMXë¥¼ ìœ„í•œ ì¸ì¦ ìƒíƒœ ê´€ë¦¬
window.authManager = {
  // í˜„ì¬ ì‚¬ìš©ì ì •ë³´
  currentUser: null,
  isAuthenticated: false,
  
  // ì¸ì¦ ìƒíƒœ ë³€ê²½ ë¦¬ìŠ¤ë„ˆ
  init() {
    window.supabaseClient.auth.onAuthStateChange((event, session) => {
      this.currentUser = session?.user || null;
      this.isAuthenticated = !!session;
      
      // Alpine.js ì»´í¬ë„ŒíŠ¸ì— ìƒíƒœ ë³€ê²½ ì•Œë¦¼
      window.dispatchEvent(new CustomEvent('auth-changed', {
        detail: { user: this.currentUser, authenticated: this.isAuthenticated }
      }));
      
      // HTMX í—¤ë” ì—…ë°ì´íŠ¸
      if (this.isAuthenticated) {
        document.body.setAttribute('hx-headers', JSON.stringify({
          'Authorization': `Bearer ${session.access_token}`,
          'X-User-ID': this.currentUser.id
        }));
      } else {
        document.body.removeAttribute('hx-headers');
      }
      
      console.log('ì¸ì¦ ìƒíƒœ ë³€ê²½:', event, this.isAuthenticated);
    });
  },
  
  // ë¡œê·¸ì¸ í•¨ìˆ˜
  async signIn(email, password) {
    try {
      const { data, error } = await window.supabaseClient.auth.signInWithPassword({
        email,
        password
      });
      
      if (error) throw error;
      return { success: true, data };
    } catch (error) {
      console.error('ë¡œê·¸ì¸ ì˜¤ë¥˜:', error);
      return { success: false, error: error.message };
    }
  },
  
  // ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜
  async signOut() {
    try {
      const { error } = await window.supabaseClient.auth.signOut();
      if (error) throw error;
      
      // ë©”ì¸ í˜ì´ì§€ë¡œ ë¦¬ë””ë ‰ì…˜
      window.location.href = '/';
      return { success: true };
    } catch (error) {
      console.error('ë¡œê·¸ì•„ì›ƒ ì˜¤ë¥˜:', error);
      return { success: false, error: error.message };
    }
  }
};

// ğŸš€ HTMX ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ Supabase Realtime ì„¤ì •
window.realtimeManager = {
  subscriptions: new Map(),
  
  // í…Œì´ë¸” ë³€ê²½ ì‚¬í•­ êµ¬ë…
  subscribe(tableName, callback) {
    const subscription = window.supabaseClient
      .channel(`public:${tableName}`)
      .on('postgres_changes', 
        { event: '*', schema: 'public', table: tableName },
        (payload) => {
          console.log(`${tableName} í…Œì´ë¸” ë³€ê²½:`, payload);
          
          // HTMX ìš”ì†Œ ìë™ ìƒˆë¡œê³ ì¹¨
          const htmxElements = document.querySelectorAll(`[hx-get*="${tableName}"]`);
          htmxElements.forEach(element => {
            if (window.htmx) {
              window.htmx.trigger(element, 'refresh');
            }
          });
          
          // ì½œë°± í•¨ìˆ˜ ì‹¤í–‰
          if (callback) callback(payload);
        }
      )
      .subscribe();
    
    this.subscriptions.set(tableName, subscription);
    return subscription;
  },
  
  // êµ¬ë… í•´ì œ
  unsubscribe(tableName) {
    const subscription = this.subscriptions.get(tableName);
    if (subscription) {
      window.supabaseClient.removeChannel(subscription);
      this.subscriptions.delete(tableName);
    }
  }
};

// í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
document.addEventListener('DOMContentLoaded', () => {
  window.authManager.init();
  console.log('ğŸš€ IEPON Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™” ì™„ë£Œ');
});
```

---

## 11.4 ë„ë©”ì¸ ë° SSL ì„¤ì • (HTML ì •ì  ì‚¬ì´íŠ¸)

### 11.4.1 ë„ë©”ì¸ ì„¤ì • (iepon.site)
```bash
# ğŸŒ DNS ì„¤ì • (Cloudflare ë˜ëŠ” ë„ë©”ì¸ ì œê³µì—…ì²´)
# A ë ˆì½”ë“œ: @ â†’ Netlify Load Balancer IP
# CNAME ë ˆì½”ë“œ: www â†’ iepon.site
# CNAME ë ˆì½”ë“œ: api â†’ your-supabase-project.supabase.co (Supabase API ì—°ê²°)

# Netlify CLIë¥¼ í†µí•œ ë„ë©”ì¸ ì„¤ì •
netlify sites:update --name iepon-html-site --custom-domain iepon.site

# ë˜ëŠ” Netlify ëŒ€ì‹œë³´ë“œì—ì„œ ì§ì ‘ ì„¤ì •
# Site Settings > Domain management > Add custom domain
```

### 11.4.2 SSL ì¸ì¦ì„œ ìë™ ì„¤ì • (Netlify)
```bash
# ğŸ”’ Netlifyì—ì„œ ìë™ SSL ì¸ì¦ì„œ ë°œê¸‰ (Let's Encrypt)
# netlify.tomlì—ì„œ ì´ë¯¸ ì„¤ì •ëœ ë³´ì•ˆ í—¤ë”ê°€ ì ìš©ë¨

# SSL ê°•ì œ ë¦¬ë””ë ‰ì…˜ í™•ì¸
netlify sites:show --json | grep -i ssl

# ë„ë©”ì¸ ê²€ì¦ ìƒíƒœ í™•ì¸
netlify sites:show --json | grep -i domain
```

---

## 11.5 GitHub Actions CI/CD (ë‹¨ìˆœí™”)

### 11.5.1 HTML ì •ì  ì‚¬ì´íŠ¸ìš© ì›Œí¬í”Œë¡œìš°
```yaml
# .github/workflows/deploy.yml
name: Deploy HTML Site to Netlify

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout ì½”ë“œ
        uses: actions/checkout@v4
      
      - name: HTML íŒŒì¼ ê²€ì¦
        run: |
          echo "ğŸ” HTML íŒŒì¼ êµ¬ì¡° ê²€ì¦ ì¤‘..."
          if [ ! -f "public/index.html" ]; then
            echo "âŒ public/index.htmlì´ ì—†ìŠµë‹ˆë‹¤."
            exit 1
          fi
          echo "âœ… HTML íŒŒì¼ ê²€ì¦ ì™„ë£Œ"
      
      - name: UTF-8 ì¸ì½”ë”© ê²€ì¦
        run: |
          echo "ğŸŒ UTF-8 ì¸ì½”ë”© ê²€ì¦ ì¤‘..."
          find public -name "*.html" -exec grep -l "charset=utf-8\|charset=\"utf-8\"" {} \; || echo "âš ï¸ ì¼ë¶€ íŒŒì¼ì— UTF-8 ì„ ì–¸ì´ ì—†ìŠµë‹ˆë‹¤."
      
      - name: Netlifyì— ë°°í¬
        uses: nwtgck/actions-netlify@v2.0
        with:
          publish-dir: './public'
          production-branch: main
          github-token: ${{ secrets.GITHUB_TOKEN }}
          deploy-message: "ğŸš€ HTML ì •ì  ì‚¬ì´íŠ¸ ìë™ ë°°í¬"
        env:
          NETLIFY_AUTH_TOKEN: ${{ secrets.NETLIFY_AUTH_TOKEN }}
          NETLIFY_SITE_ID: ${{ secrets.NETLIFY_SITE_ID }}
```

---

## 11.6 ëª¨ë‹ˆí„°ë§ ë° ì„±ëŠ¥ ìµœì í™”

### 11.6.1 ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ í™œìš©
```javascript
// public/js/monitoring.js - ê°„ë‹¨í•œ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
window.performanceMonitor = {
  // í˜ì´ì§€ ë¡œë“œ ì‹œê°„ ì¸¡ì •
  measurePageLoad() {
    window.addEventListener('load', () => {
      const loadTime = performance.now();
      console.log(`ğŸ“Š í˜ì´ì§€ ë¡œë“œ ì‹œê°„: ${loadTime.toFixed(2)}ms`);
      
      // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì„±ëŠ¥ ë°ì´í„° ì €ì¥
      const perfData = {
        loadTime,
        timestamp: new Date().toISOString(),
        userAgent: navigator.userAgent
      };
      
      localStorage.setItem('iepon_perf_' + Date.now(), JSON.stringify(perfData));
    });
  },
  
  // HTMX ìš”ì²­ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
  monitorHTMX() {
    document.body.addEventListener('htmx:beforeRequest', (e) => {
      e.detail.requestConfig.startTime = performance.now();
    });
    
    document.body.addEventListener('htmx:afterRequest', (e) => {
      const duration = performance.now() - e.detail.requestConfig.startTime;
      console.log(`ğŸ”„ HTMX ìš”ì²­ ì‹œê°„: ${duration.toFixed(2)}ms`);
    });
  }
};

// ìë™ ì´ˆê¸°í™”
document.addEventListener('DOMContentLoaded', () => {
  window.performanceMonitor.measurePageLoad();
  window.performanceMonitor.monitorHTMX();
});
```

### 11.6.2 Supabase ë‚´ì¥ ëª¨ë‹ˆí„°ë§
```javascript
// Supabase ëŒ€ì‹œë³´ë“œì—ì„œ í™•ì¸ ê°€ëŠ¥í•œ ì§€í‘œë“¤:
// - API ìš”ì²­ ìˆ˜ ë° ì‘ë‹µ ì‹œê°„
// - ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ì„±ëŠ¥
// - ì‹¤ì‹œê°„ ì—°ê²° ìƒíƒœ
// - ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©ëŸ‰
// - ì¸ì¦ ì´ë²¤íŠ¸ ë¡œê·¸

// ì¶”ê°€ ë¡œê¹…ì´ í•„ìš”í•œ ê²½ìš°
window.supabaseLogger = {
  logQuery(tableName, operation, duration) {
    console.log(`ğŸ“Š DB ì¿¼ë¦¬: ${tableName}.${operation} (${duration}ms)`);
  },
  
  logAuth(event, userEmail) {
    console.log(`ğŸ” ì¸ì¦ ì´ë²¤íŠ¸: ${event} - ${userEmail}`);
  }
};
```

---

## ğŸ“‹ **ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸ (HTML + Alpine.js + HTMX)**

### ë°°í¬ ì „ ì¤€ë¹„
- [ ] `public/index.html` íŒŒì¼ ì¡´ì¬ í™•ì¸
- [ ] í•„ìˆ˜ í˜ì´ì§€ë“¤ (`dashboard/`, `students/`, `curriculum/`, `reports/`) ìƒì„±
- [ ] UTF-8 charset ì„ ì–¸ í™•ì¸ (`<meta charset="utf-8">`)
- [ ] Alpine.js CDN ë§í¬ í™•ì¸
- [ ] HTMX CDN ë§í¬ í™•ì¸
- [ ] Supabase í´ë¼ì´ì–¸íŠ¸ ì„¤ì • í™•ì¸
- [ ] `netlify.toml` ì„¤ì • íŒŒì¼ í™•ì¸

### ë°°í¬ ì‹¤í–‰
- [ ] GitHubì— ì½”ë“œ í‘¸ì‹œ
- [ ] Netlify ìë™ ë°°í¬ í™•ì¸
- [ ] ë¹Œë“œ ë¡œê·¸ í™•ì¸ (ì—ëŸ¬ ì—†ìŒ)
- [ ] ë°°í¬ ì™„ë£Œ í™•ì¸

### ë°°í¬ í›„ ê²€ì¦
- [ ] ì‚¬ì´íŠ¸ ì ‘ì† í™•ì¸ (https://iepon.site)
- [ ] ëª¨ë“  í˜ì´ì§€ ë¼ìš°íŒ… ë™ì‘ í™•ì¸
- [ ] Alpine.js ì»´í¬ë„ŒíŠ¸ ë™ì‘ í™•ì¸
- [ ] HTMX ìš”ì²­/ì‘ë‹µ í™•ì¸
- [ ] Supabase ì—°ê²° í™•ì¸
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• í™•ì¸
- [ ] ì ‘ê·¼ì„± ê¸°ë³¸ í™•ì¸

### ì„±ëŠ¥ ë° ë³´ì•ˆ í™•ì¸
- [ ] í˜ì´ì§€ ë¡œë“œ ì†ë„ í™•ì¸ (3ì´ˆ ì´ë‚´)
- [ ] CDN ìºì‹± ë™ì‘ í™•ì¸
- [ ] SSL ì¸ì¦ì„œ í™•ì¸
- [ ] ë³´ì•ˆ í—¤ë” í™•ì¸
- [ ] CORS ì„¤ì • í™•ì¸

---

## ğŸ”— **ê´€ë ¨ ë¬¸ì„œ**

- **[01_ì‹œìŠ¤í…œ_ì•„í‚¤í…ì²˜.md](./01_ì‹œìŠ¤í…œ_ì•„í‚¤í…ì²˜.md)**: HTML + Alpine.js + HTMX ì‹œìŠ¤í…œ êµ¬ì¡°
- **[08_í™˜ê²½_ì„¤ì •.md](./08_í™˜ê²½_ì„¤ì •.md)**: í™˜ê²½ë³„ ì„¤ì • ê°€ì´ë“œ
- **[12_ê°œë°œ_ê°€ì´ë“œ.md](./12_ê°œë°œ_ê°€ì´ë“œ.md)**: HTML ê¸°ë°˜ ê°œë°œ ê°€ì´ë“œë¼ì¸
- **[10_ë³´ì•ˆ_ê¶Œí•œ.md](./10_ë³´ì•ˆ_ê¶Œí•œ.md)**: Alpine.js ë³´ì•ˆ ì •ì±… ë° ê¶Œí•œ ê´€ë¦¬

---

## ğŸ¯ **HTML + Alpine.js + HTMX ë°°í¬ì˜ ì¥ì **

### âœ… **ë¹„ì „ê³µì ì¹œí™”ì **
- ë³µì¡í•œ ë¹Œë“œ ê³¼ì • ì—†ìŒ
- ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ ë””ë²„ê¹… ê°€ëŠ¥
- HTML íŒŒì¼ ì§ì ‘ ìˆ˜ì •ìœ¼ë¡œ ì¦‰ì‹œ ë°˜ì˜

### âœ… **ë¹ ë¥¸ ë°°í¬**
- ë¹Œë“œ ì‹œê°„ 0ì´ˆ (ì •ì  íŒŒì¼ ì§ì ‘ ì—…ë¡œë“œ)
- CDNì„ í†µí•œ ì „ ì„¸ê³„ ë¹ ë¥¸ ì„œë¹„ìŠ¤
- ìºì‹± ìµœì í™”ë¡œ ì¬ë°©ë¬¸ ì†ë„ í–¥ìƒ

### âœ… **ì•ˆì •ì„±**
- ì„œë²„ ë‹¤ìš´íƒ€ì„ ì—†ìŒ (ì •ì  í˜¸ìŠ¤íŒ…)
- Supabase ë°±ì—”ë“œ ì•ˆì •ì„±
- ë‹¨ìˆœí•œ êµ¬ì¡°ë¡œ ì˜¤ë¥˜ ê°€ëŠ¥ì„± ìµœì†Œí™”

### âœ… **ë¹„ìš© íš¨ìœ¨ì„±**
- Netlify ë¬´ë£Œ í”Œëœìœ¼ë¡œë„ ì¶©ë¶„
- Supabase ë¬´ë£Œ í‹°ì–´ í™œìš©
- ë³„ë„ ì„œë²„ ê´€ë¦¬ ë¹„ìš© ì—†ìŒ
    ];
  },
};
```

---

## 10.5 CI/CD íŒŒì´í”„ë¼ì¸

### 10.5.1 GitHub Actions ì›Œí¬í”Œë¡œìš°
```yaml
# .github/workflows/deploy.yml
name: Deploy to Netlify

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'
      
      # HTML ì •ì  ì‚¬ì´íŠ¸ ê²€ì¦ ë„êµ¬ ì„¤ì¹˜ (ì„ íƒì‚¬í•­)
      - name: Install HTML validation tools (optional)
        run: |
          npm install -g html-validate
          npm install -g stylelint
      
      - name: Validate HTML files
        run: |
          # HTML íŒŒì¼ êµ¬ì¡° ê²€ì¦
          find public -name "*.html" -exec html-validate {} \;
          echo "âœ… HTML íŒŒì¼ ê²€ì¦ ì™„ë£Œ"
      
      - name: Check CSS syntax
        run: |
          # CSS êµ¬ë¬¸ ê²€ì‚¬
          find public -name "*.css" -exec stylelint {} \;
          echo "âœ… CSS êµ¬ë¬¸ ê²€ì‚¬ ì™„ë£Œ"
      
      - name: UTF-8 encoding check
        run: |
          # UTF-8 ì¸ì½”ë”© ê²€ì¦
          find public -name "*.html" -exec file {} \; | grep -v "UTF-8" && exit 1 || echo "âœ… UTF-8 ì¸ì½”ë”© ê²€ì¦ ì™„ë£Œ"

  deploy:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    steps:
      - uses: actions/checkout@v3
      
      # Node.js ì„¤ì • (HTML ê²€ì¦ ë„êµ¬ìš©)
      - name: Setup Node.js (for validation tools)
        uses: actions/setup-node@v3
        with:
          node-version: '18'
      
      # ë¹Œë“œ ê³¼ì • ì—†ìŒ - HTML íŒŒì¼ ì§ì ‘ ë°°í¬
      - name: Prepare static files
        run: |
          echo "ğŸš€ HTML ì •ì  íŒŒì¼ ë°°í¬ ì¤€ë¹„ ì¤‘..."
          ls -la public/
        env:
          SITE_DOMAIN: iepon.site
          SITE_URL: https://iepon.site
      
      - name: Deploy to Netlify
        uses: netlify/actions/cli@master
        with:
          args: deploy --prod --dir=.next
        env:
          NETLIFY_AUTH_TOKEN: ${{ secrets.NETLIFY_AUTH_TOKEN }}
          NETLIFY_SITE_ID: ${{ secrets.NETLIFY_SITE_ID }}
```

---

## 10.6 ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

### 10.6.1 Sentry ì„¤ì •
```javascript
// sentry.client.config.js
import * as Sentry from '@sentry/nextjs';

Sentry.init({
  dsn: process.env.SENTRY_DSN,
  environment: process.env.NODE_ENV,
  tracesSampleRate: 1.0,
  debug: false,
  integrations: [
    new Sentry.BrowserTracing({
      tracingOrigins: ['localhost', 'iepon.site', /^\//],
  
  // ë¡œê·¸ ë ˆë²¨ ìš°ì„ ìˆœìœ„
  levels: {
    error: 0,
    warn: 1,
    info: 2,
    debug: 3
  },
  
  // ë¡œê·¸ ì¶œë ¥ í•¨ìˆ˜
  log(level, message, data = null) {
    const timestamp = new Date().toISOString();
    const logData = {
      timestamp,
      level,
      message,
      data,
      userAgent: navigator.userAgent,
      url: window.location.href
    };
    
    // ì½˜ì†” ì¶œë ¥
    if (this.levels[level] <= this.levels[this.level]) {
      console[level](`[${timestamp}] ${level.toUpperCase()}: ${message}`, data);
    }
    
    // ì—ëŸ¬ëŠ” Supabaseì— ì €ì¥ (ì„ íƒì‚¬í•­)
    if (level === 'error' && window.supabaseClient) {
      this.saveToSupabase(logData);
    }
  },
  
  // Supabaseì— ì—ëŸ¬ ë¡œê·¸ ì €ì¥
  async saveToSupabase(logData) {
    try {
      await window.supabaseClient
        .from('error_logs')
        .insert([logData]);
    } catch (error) {
      console.error('ë¡œê·¸ ì €ì¥ ì‹¤íŒ¨:', error);
    }
  },
  
  error: (message, data) => window.Logger.log('error', message, data),
  warn: (message, data) => window.Logger.log('warn', message, data),
  info: (message, data) => window.Logger.log('info', message, data),
  debug: (message, data) => window.Logger.log('debug', message, data)
};
```

---

## 10.7 ì„±ëŠ¥ ìµœì í™” (HTML + Alpine.js + HTMX)

### 10.7.1 ì •ì  íŒŒì¼ ìµœì í™” (ë¹Œë“œ ê³¼ì • ì—†ìŒ)
```html
<!-- ì„±ëŠ¥ ìµœì í™”ëœ HTML êµ¬ì¡° -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- ì¤‘ìš”í•œ CSS ìš°ì„  ë¡œë“œ -->
  <link rel="preload" href="/css/main.css" as="style">
  <link rel="stylesheet" href="/css/main.css">
  
  <!-- CDN ë¼ì´ë¸ŒëŸ¬ë¦¬ ìµœì í™” ë¡œë“œ -->
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="//unpkg.com">
  
  <!-- Alpine.js ì§€ì—° ë¡œë“œ -->
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  
  <!-- HTMX -->
  <script src="https://unpkg.com/htmx.org@1.9.10"></script>
  
  <!-- Supabase í´ë¼ì´ì–¸íŠ¸ -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
  <!-- ë©”ì¸ ì½˜í…ì¸  -->
  <div x-data="appData()">
    <!-- ì„±ëŠ¥ ìµœì í™”ëœ ì»´í¬ë„ŒíŠ¸ -->
  </div>
  
  <!-- ì¤‘ìš”í•˜ì§€ ì•Šì€ ìŠ¤í¬ë¦½íŠ¸ëŠ” í•˜ë‹¨ì— -->
  <script src="/js/app.js"></script>
</body>
</html>
```

### 10.7.2 ìºì‹± ì „ëµ
```javascript
// lib/cache.ts
import { unstable_cache } from 'next/cache';

export const getCachedStudents = unstable_cache(
  async (userId: string) => {
    // í•™ìƒ ë°ì´í„° ì¡°íšŒ ë¡œì§
  },
  ['students'],
  {
    revalidate: 300, // 5ë¶„ ìºì‹œ
    tags: ['students'],
  }
);

export const getCachedEducationPlans = unstable_cache(
  async (studentId: string, semester: string) => {
    // êµìœ¡ê³„íš ë°ì´í„° ì¡°íšŒ ë¡œì§
  },
  ['education-plans'],
  {
    revalidate: 600, // 10ë¶„ ìºì‹œ
    tags: ['education-plans'],
  }
);
```

---

## 10.8 ë°±ì—… ë° ë³µêµ¬

### 10.8.1 ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…
```bash
#!/bin/bash
# backup.sh

# Supabase ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…
supabase db dump --project-id your-project-id > backup_$(date +%Y%m%d_%H%M%S).sql

# ë°±ì—… íŒŒì¼ì„ í´ë¼ìš°ë“œ ìŠ¤í† ë¦¬ì§€ì— ì—…ë¡œë“œ
aws s3 cp backup_*.sql s3://iepon-backups/database/

# 7ì¼ ì´ìƒ ëœ ë°±ì—… íŒŒì¼ ì‚­ì œ
find . -name "backup_*.sql" -mtime +7 -delete
```

### 10.8.2 ë³µêµ¬ ì ˆì°¨
```bash
#!/bin/bash
# restore.sh

# ë°±ì—… íŒŒì¼ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ë³µêµ¬
supabase db reset --project-id your-project-id
psql -h your-db-host -U postgres -d postgres < backup_file.sql

# ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
supabase db push --project-id your-project-id
```

---

## ğŸ“‹ **ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸**

### ë°°í¬ ì „ ì¤€ë¹„
- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì • í™•ì¸
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
- [ ] í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸
- [ ] ë³´ì•ˆ ì„¤ì • ê²€í† 

### ë°°í¬ ì‹¤í–‰
- [ ] GitHubì— ì½”ë“œ í‘¸ì‹œ
- [ ] CI/CD íŒŒì´í”„ë¼ì¸ ì‹¤í–‰
- [ ] ë¹Œë“œ ì„±ê³µ í™•ì¸
- [ ] ë°°í¬ ì™„ë£Œ í™•ì¸

### ë°°í¬ í›„ ê²€ì¦
- [ ] ì‚¬ì´íŠ¸ ì ‘ì† í™•ì¸ (https://iepon.site)
- [ ] ì£¼ìš” ê¸°ëŠ¥ ë™ì‘ í™•ì¸
- [ ] ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ í™•ì¸
- [ ] ì—ëŸ¬ ë¡œê·¸ í™•ì¸

### ëª¨ë‹ˆí„°ë§ ì„¤ì •
- [ ] Sentry ì—ëŸ¬ ëª¨ë‹ˆí„°ë§
- [ ] ì„±ëŠ¥ ì§€í‘œ ì¶”ì 
- [ ] ë°±ì—… ìŠ¤ì¼€ì¤„ ì„¤ì •
- [ ] ì•Œë¦¼ ì„¤ì • êµ¬ì„±

---

## ğŸ”— **ê´€ë ¨ ë¬¸ì„œ**

- **[01_ì‹œìŠ¤í…œ_ì•„í‚¤í…ì²˜.md](./01_ì‹œìŠ¤í…œ_ì•„í‚¤í…ì²˜.md)**: ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°
- **[08_í™˜ê²½_ì„¤ì •.md](./08_í™˜ê²½_ì„¤ì •.md)**: í™˜ê²½ë³„ ì„¤ì • ê°€ì´ë“œ
- **[12_ê°œë°œ_ê°€ì´ë“œ.md](./12_ê°œë°œ_ê°€ì´ë“œ.md)**: ê°œë°œ ë° ë°°í¬ ê°€ì´ë“œë¼ì¸
- **[10_ë³´ì•ˆ_ê¶Œí•œ.md](./10_ë³´ì•ˆ_ê¶Œí•œ.md)**: ë³´ì•ˆ ì •ì±… ë° ê¶Œí•œ ê´€ë¦¬
